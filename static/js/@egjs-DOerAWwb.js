import{f as e}from"./@cfcs-C76_NZB_.js";import{d as t,h as n}from"./@vue-runtime-core-lkGMyH8G.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function r(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}var o=function(e){return void 0===e},s=function(){function e(e,t){var n,i;if(this._canceled=!1,t)try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(t)),o=r.next();!o.done;o=r.next()){var s=o.value;this[s]=t[s]}}catch(a){n={error:a}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}this.eventType=e}var t=e.prototype;return t.stop=function(){this._canceled=!0},t.isCanceled=function(){return this._canceled},e}(),a=function(){function e(){this._eventHandler={}}var t=e.prototype;return t.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e instanceof s?e.eventType:e,o=r(this._eventHandler[i]||[]);return o.length<=0||(e instanceof s?(e.currentTarget=this,o.forEach((function(t){t(e)}))):o.forEach((function(e){e.apply(void 0,r(t))}))),this},t.once=function(e,t){var n=this;if("object"==typeof e&&o(t)){var i=e;for(var s in i)this.once(s,i[s]);return this}if("string"==typeof e&&"function"==typeof t){var a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t.apply(void 0,r(i)),n.off(e,a)};this.on(e,a)}return this},t.hasOn=function(e){return!!this._eventHandler[e]},t.on=function(e,t){if("object"==typeof e&&o(t)){var n=e;for(var i in n)this.on(i,n[i]);return this}if("string"==typeof e&&"function"==typeof t){var r=this._eventHandler[e];o(r)&&(this._eventHandler[e]=[],r=this._eventHandler[e]),r.push(t)}return this},t.off=function(e,t){if(o(e))return this._eventHandler={},this;if(o(t)){if("string"==typeof e)return delete this._eventHandler[e],this;var n=e;for(var i in n)this.off(i,n[i]);return this}var r=this._eventHandler[e];if(r)for(var s=r.length,a=0;a<s;++a)if(r[a]===t){r.splice(a,1),s<=1&&delete this._eventHandler[e];break}return this},e.VERSION="3.0.5",e}(),u=s,c=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,t){var n=this.keys,i=this.values,r=n.indexOf(e),o=-1===r?n.length:r;n[o]=e,i[o]=t},e}(),h=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,t){this.object[e]=t},e}(),l="function"==typeof Map,f=function(){function e(){}var t=e.prototype;return t.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},t.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},t.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},e}();var d=function(){function e(e,t,n,i,r,o,s,a){this.prevList=e,this.list=t,this.added=n,this.removed=i,this.changed=r,this.maintained=o,this.changedBeforeAdded=s,this.fixed=a}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=function(e,t){var n=[],i=[];return e.forEach((function(e){var t=e[0],r=e[1],o=new f;n[t]=o,i[r]=o})),n.forEach((function(e,t){e.connect(n[t-1])})),e.filter((function(e,n){return!t[n]})).map((function(e,t){var r=e[0],o=e[1];if(r===o)return[0,0];var s=n[r],a=i[o-1],u=s.getIndex();return s.disconnect(),a?s.connect(a,a.next):s.connect(void 0,n[0]),[u,s.getIndex()]}))}(this.changedBeforeAdded,this.fixed),t=this.changed,n=[];this.cacheOrdered=e.filter((function(e,i){var r=e[0],o=e[1],s=t[i],a=s[0],u=s[1];if(r!==o)return n.push([a,u]),!0})),this.cachePureChanged=n},e}();function p(e,t,n){var i=l?Map:n?h:c,r=n||function(e){return e},o=[],s=[],a=[],u=e.map(r),f=t.map(r),p=new i,g=new i,m=[],v=[],y={},R=[],S=0,z=0;return u.forEach((function(e,t){p.set(e,t)})),f.forEach((function(e,t){g.set(e,t)})),u.forEach((function(e,t){var n=g.get(e);void 0===n?(++z,s.push(t)):y[n]=z})),f.forEach((function(e,t){var n=p.get(e);void 0===n?(o.push(t),++S):(a.push([n,t]),z=y[t]||0,m.push([n-z,t-S]),v.push(t===n),n!==t&&R.push([n,t]))})),s.reverse(),new d(e,t,o,s,R,a,m,v)}var g="function"==typeof Map?void 0:function(){var e=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++e)}}();function m(e,t){return p(e,t,g)}var v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var R=function(){return R=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},R.apply(this,arguments)};var S="undefined"!=typeof window,z=S?window.navigator.userAgent:"",_=!!S&&!!("getComputedStyle"in window),E=/MSIE|Trident|Windows Phone|Edge/.test(z),I=!!S&&!!("addEventListener"in document),C="width",O="height";function P(e,t){return e.getAttribute(t)||""}function b(e){return[].slice.call(e)}function T(e,t){return void 0===t&&(t="data-"),"loading"in e&&"lazy"===e.getAttribute("loading")||!!e.getAttribute(t+"lazy")}function M(e,t,n){I?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function w(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function x(e,t){var n=e["client"+t]||e["offset"+t];return parseFloat(n||function(e){return(_?window.getComputedStyle(e):e.currentStyle)||{}}(e)[t.toLowerCase()])||0}function D(e,t,n){var i=b(e.querySelectorAll(function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}(["["+n+"skip] ["+n+"width]"],t.map((function(e){return["["+n+"skip] "+e,e+"["+n+"skip]","["+n+"width] "+e].join(", ")}))).join(", ")));return b(e.querySelectorAll("["+n+"width], "+t.join(", "))).filter((function(e){return-1===i.indexOf(e)}))}var L=[];function k(e,t){!L.length&&M(window,"resize",G),e.__PREFIX__=t,L.push(e),N(e)}function N(e,t){void 0===t&&(t="data-");var n=e.__PREFIX__||t,i=parseInt(P(e,""+n+C),10)||0,r=parseInt(P(e,""+n+O),10)||0;if(P(e,n+"fixed")===O){var o=x(e,"Height")||r;e.style[C]=i/r*o+"px"}else{o=function(e){return x(e,"Width")}(e)||i;e.style[O]=r/i*o+"px"}}function G(){L.forEach((function(e){N(e)}))}var A=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this)||this;i.isReady=!1,i.isPreReady=!1,i.hasDataSize=!1,i.hasLoading=!1,i.isSkip=!1,i.onCheck=function(e){if(i.clear(),e&&"error"===e.type&&i.onError(i.element),!i.hasLoading||!i.checkElement()){var t=!i.hasDataSize&&!i.hasLoading;i.onReady(t)}},i.options=R({prefix:"data-"},n),i.element=t;var r=i.options.prefix;return i.hasDataSize=function(e,t){return void 0===t&&(t="data-"),!!e.getAttribute(t+"width")}(t,r),i.isSkip=function(e,t){return void 0===t&&(t="data-"),!!e.getAttribute(t+"skip")}(t,r),i.hasLoading=T(t,r),i}y(t,e);var n=t.prototype;return n.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&k(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},n.addEvents=function(){var e=this,t=this.element;this.constructor.EVENTS.forEach((function(n){M(t,n,e.onCheck)}))},n.clear=function(){var e=this,t=this.element;this.constructor.EVENTS.forEach((function(n){w(t,n,e.onCheck)})),this.removeAutoSizer()},n.destroy=function(){this.clear(),this.off()},n.removeAutoSizer=function(){if(this.hasDataSize){var e=this.options.prefix;!function(e,t){var n=L.indexOf(e);if(!(n<0)){var i=P(e,t+"fixed");delete e.__PREFIX__,e.style[i===O?C:O]="",L.splice(n,1),!L.length&&w(window,"resize",G)}}(this.element,e)}},n.onError=function(e){this.trigger("error",{element:this.element,target:e})},n.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},n.onReady=function(e){this.isReady||((e=!this.isPreReady&&e)&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:e,hasLoading:this.hasLoading,isSkip:this.isSkip}))},n.onAlreadyError=function(e){var t=this;setTimeout((function(){t.onError(e)}))},n.onAlreadyPreReady=function(){var e=this;setTimeout((function(){e.onPreReady()}))},n.onAlreadyReady=function(e){var t=this;setTimeout((function(){t.onReady(e)}))},t.EVENTS=[],t}(a),K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.setHasLoading=function(e){this.hasLoading=e},n.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(k(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},n.checkElement=function(){return!0},n.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},n.onAlreadyPreReady=function(){e.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},t.EVENTS=[],t}(A),V=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.readyCount=0,n.preReadyCount=0,n.totalCount=0,n.totalErrorCount=0,n.isPreReadyOver=!0,n.elementInfos=[],n.options=R({loaders:{},prefix:"data-"},t),n}y(t,e);var n=t.prototype;return n.check=function(e){var t=this,n=this.options.prefix;this.clear(),this.elementInfos=b(e).map((function(e,i){var r=t.getLoader(e,{prefix:n});return r.check(),r.on("error",(function(e){t.onError(i,e.target)})).on("preReady",(function(e){var n=t.elementInfos[i];n.hasLoading=e.hasLoading,n.isSkip=e.isSkip;var r=t.checkPreReady(i);t.onPreReadyElement(i),r&&t.onPreReady()})).on("ready",(function(e){var n=e.withPreReady,r=e.hasLoading,o=e.isSkip,s=t.elementInfos[i];s.hasLoading=r,s.isSkip=o;var a=n&&t.checkPreReady(i),u=t.checkReady(i);n&&t.onPreReadyElement(i),t.onReadyElement(i),a&&t.onPreReady(),u&&t.onReady()})),{loader:r,element:e,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}}));var i=this.elementInfos.length;return this.totalCount=i,i||setTimeout((function(){t.onPreReady(),t.onReady()})),this},n.getTotalCount=function(){return this.totalCount},n.isPreReady=function(){return this.elementInfos.every((function(e){return e.isPreReady}))},n.isReady=function(){return this.elementInfos.every((function(e){return e.isReady}))},n.hasError=function(){return this.totalErrorCount>0},n.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach((function(e){e.loader&&e.loader.destroy()})),this.elementInfos=[]},n.destroy=function(){this.clear(),this.off()},n.getLoader=function(e,t){var n=this,i=e.tagName.toLowerCase(),r=this.options.loaders,o=t.prefix,s=Object.keys(r);if(r[i])return new r[i](e,t);var a=new K(e,t),u=b(e.querySelectorAll(s.join(", ")));a.setHasLoading(u.some((function(e){return T(e,o)})));var c=!1,h=this.clone().on("error",(function(e){a.onError(e.target)})).on("ready",(function(){a.onReady(c)}));return a.on("requestChildren",(function(){var t=D(e,s,n.options.prefix);h.check(t).on("preReady",(function(e){(c=e.isReady)||a.onPreReady()}))})).on("reqeustReadyChildren",(function(){h.check(u)})).on("requestDestroy",(function(){h.destroy()})),a},n.clone=function(){return new t(R({},this.options))},n.checkPreReady=function(e){return this.elementInfos[e].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},n.checkReady=function(e){return this.elementInfos[e].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},n.onError=function(e,t){var n=this.elementInfos[e];n.hasError=!0,this.trigger(new u("error",{element:n.element,index:e,target:t,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},n.onPreReadyElement=function(e){var t=this.elementInfos[e];this.trigger(new u("preReadyElement",{element:t.element,index:e,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:t.hasLoading,isSkip:t.isSkip}))},n.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new u("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},n.onReadyElement=function(e){var t=this.elementInfos[e];this.trigger(new u("readyElement",{index:e,element:t.element,hasError:t.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:t.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:t.isSkip}))},n.onReady=function(){this.trigger(new u("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},n.getErrorCount=function(){return this.elementInfos.filter((function(e){return e.hasError})).length},n.hasLoading=function(){return this.elementInfos.some((function(e){return e.hasLoading}))},t}(a),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype.checkElement=function(){var e=this.element,t=e.getAttribute("src");if(e.complete){if(t)return e.naturalWidth||this.onAlreadyError(e),!1;this.onAlreadyPreReady()}return this.addEvents(),E&&e.setAttribute("src",t),!0},t.EVENTS=["load","error"],t}(A),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype.checkElement=function(){var e=this.element;return!(e.readyState>=1)&&(e.error?(this.onAlreadyError(e),!1):(this.addEvents(),!0))},t.EVENTS=["loadedmetadata","error"],t}(A),F=function(e){function t(t){return void 0===t&&(t={}),e.call(this,R({loaders:{img:U,video:j}},t))||this}return y(t,e),t}(V),q=function(e,t){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}q(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Y.apply(this,arguments)};function W(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function $(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e}var H,Z,X,Q,J,ee,te={horizontal:!1,useTransform:!1,percentage:!1,isEqualSize:!1,isConstantSize:!1,gap:0,attributePrefix:"data-grid-",resizeDebounce:100,maxResizeDebounce:0,autoResize:!0,preserveUIOnDestroy:!1,defaultDirection:"end",externalContainerManager:null,externalItemRenderer:null,renderOnPropertyChange:!0,useFit:!0,outlineLength:0,outlineSize:0,useRoundedSize:!0,useResizeObserver:!1,observeChildren:!1};(Z=H||(H={}))[Z.PROPERTY=1]="PROPERTY",Z[Z.RENDER_PROPERTY=2]="RENDER_PROPERTY",(Q=X||(X={}))[Q.UNCHECKED=1]="UNCHECKED",Q[Q.UNMOUNTED=2]="UNMOUNTED",Q[Q.MOUNTED=3]="MOUNTED",(ee=J||(J={}))[ee.NEED_UPDATE=1]="NEED_UPDATE",ee[ee.WAIT_LOADING=2]="WAIT_LOADING",ee[ee.UPDATED=3]="UPDATED";var ne={gap:H.RENDER_PROPERTY,defaultDirection:H.PROPERTY,renderOnPropertyChange:H.PROPERTY,preserveUIOnDestroy:H.PROPERTY,useFit:H.PROPERTY,outlineSize:H.RENDER_PROPERTY,outlineLength:H.RENDER_PROPERTY},ie={horizontal:{inlinePos:"top",contentPos:"left",inlineSize:"height",contentSize:"width"},vertical:{inlinePos:"left",contentPos:"top",inlineSize:"width",contentSize:"height"}};function re(e,t){var n=oe(e);return m(t.map((function(e){return e.target})),n.map((function(e){return e.element}))).maintained.filter((function(n){var i=n[0],r=n[1],o=t[i].size,s=e[r];return!s.inlineSize||!s.contentSize||o.inlineSize!==s.computedInlineSize||o.blockSize!==s.computedContentSize})).map((function(t){var n=t[1];return e[n]}))}function oe(e){return e.filter((function(e){return e.element}))}function se(e){return oe(e).map((function(e){return e.element}))}function ae(e){return"string"==typeof e}function ue(e){return"object"==typeof e}function ce(e){return"number"==typeof e}function he(e){return e.reduce((function(e,t){return e+t}),0)}function le(e){var t=e.prototype,n=e.propertyTypes,i=function(e){var i=n[e]===H.RENDER_PROPERTY,r=Object.getOwnPropertyDescriptor(t,e)||{},o={enumerable:!0,configurable:!0,get:r.get||function(){return this.options[e]},set:r.set||function(t){var n=this.options;n[e]!==t&&(n[e]=t,i&&n.renderOnPropertyChange&&this.scheduleRender())}};Object.defineProperty(t,e,o)};for(var r in n)i(r)}function fe(e){for(var t=[],n=0;n<e;++n)t.push(n);return t}function de(e,t){return Math.max(e-t[1],t[0]-e,0)+1}function pe(e,t,n){return Math.min(n,Math.max(e,t))}function ge(e,t){var n=1/t;return Math.round(e/t)/n}var me=function(){function e(e,t){var n=this;void 0===t&&(t={}),this._resizeTimer=0,this._maxResizeDebounceTimer=0,this.rect={width:0,height:0},this._updatedEntries=[],this._onWindowResize=function(){n._scheduleResize([{target:n.container}])},this._onObserve=function(e){var t=n._options,i=n.container,r=t.rectBox,o=t.childrenRectBox;n._scheduleResize(e.map((function(e){var t="border-box"===(e.target===i?r:o)?e.borderBoxSize:e.contentBoxSize;if(!t){var n=e.contentRect;t=[{inlineSize:n.width,blockSize:n.height}]}return{size:t[0]||t,target:e.target}})))},this._scheduleResize=function(e){var t=n._options,i=t.resizeDebounce,r=t.maxResizeDebounce,o=n._updatedEntries;o.push.apply(o,e),n._updatedEntries=o.filter((function(e,t){return o.lastIndexOf(e)===t})),!n._maxResizeDebounceTimer&&r>=i&&(n._maxResizeDebounceTimer=window.setTimeout(n._onResize,r)),n._resizeTimer&&(clearTimeout(n._resizeTimer),n._resizeTimer=0),n._resizeTimer=window.setTimeout(n._onResize,i)},this._onResize=function(){clearTimeout(n._resizeTimer),clearTimeout(n._maxResizeDebounceTimer),n._maxResizeDebounceTimer=0,n._resizeTimer=0;var e,t=n._updatedEntries,i=n.container,r=t.filter((function(t){return t.target!==i||(e=t,!1)})),o=r.length>0,s=!!e;if(s){var a=n._options.watchDirection,u=n.rect,c=e.size;c?n.setRect({width:c.inlineSize,height:c.blockSize}):n.resize();var h=n.rect,l="box"===a||"height"===a;s=!a||("box"===a||"width"===a)&&u.width!==h.width||l&&u.height!==h.height}n._updatedEntries=[],(s||o)&&n._emitter.trigger("resize",{isResizeContainer:s,childEntries:r})},this._options=Y({resizeDebounce:100,maxResizeDebounce:0,useResizeObserver:!1,useWindowResize:!0,watchDirection:!1,rectBox:"content-box",childrenRectBox:"border-box"},t),this.container=ae(e)?document.querySelector(e):e,this._init()}var t=e.prototype;return t.getRect=function(){return this.rect},t.setRect=function(e){this.rect=Y({},e)},t.isObserverEnabled=function(){return!!this._observer},t.resize=function(){var e=this.container;this.setRect("border-box"===this._options.rectBox?{width:e.offsetWidth,height:e.offsetHeight}:{width:e.clientWidth,height:e.clientHeight})},t.observeChildren=function(e){var t=this._observer;if(t){var n=this._options.childrenRectBox;e.forEach((function(e){e&&t.observe(e,{box:n})}))}},t.unobserveChildren=function(e){var t=this._observer;t&&e.forEach((function(e){e&&t.unobserve(e)}))},t.listen=function(e){return this._emitter.on("resize",e),this},t.destroy=function(){var e;null===(e=this._observer)||void 0===e||e.disconnect(),this._options.useWindowResize&&window.removeEventListener("resize",this._onWindowResize)},t._init=function(){var e=this.container,t=this._options;this._emitter=new a,t.useResizeObserver&&window.ResizeObserver&&(this._observer=new window.ResizeObserver(this._onObserve),this._observer.observe(e,{box:t.rectBox})),t.useWindowResize&&window.addEventListener("resize",this._onWindowResize),this.resize()},e}(),ve=function(e){function t(t,n){var i=e.call(this)||this;return i.container=t,i._onResize=function(e){i.trigger("resize",e)},i.options=Y({horizontal:te.horizontal,autoResize:te.autoResize,resizeDebounce:te.resizeDebounce,maxResizeDebounce:te.maxResizeDebounce,useResizeObserver:te.useResizeObserver},n),i._init(),i}B(t,e);var n=t.prototype;return n.resize=function(){var e=this.container;this.setRect({width:e.clientWidth,height:e.clientHeight})},n.isObserverEnabled=function(){return this._watcher.isObserverEnabled()},n.getRect=function(){return this._watcher.getRect()},n.observeChildren=function(e){this._watcher.observeChildren(e)},n.unobserveChildren=function(e){this._watcher.unobserveChildren(e)},n.setRect=function(e){this._watcher.setRect(e)},n.getInlineSize=function(){return this.getRect()[this._names.inlineSize]},n.getContentSize=function(){return this.getRect()[this._names.contentSize]},n.getStatus=function(){return{rect:this._watcher.getRect()}},n.setStatus=function(e){this.setRect(e.rect),this.setContentSize(this.getContentSize())},n.setContentSize=function(e){var t,n=this.options.horizontal?"width":"height";this.setRect(Y(Y({},this.getRect()),((t={})[n]=e,t))),this.container.style[n]=e+"px"},n.destroy=function(e){void 0===e&&(e={}),this._watcher.destroy(),e.preserveUI||(this.container.style.cssText=this.orgCSSText)},n._init=function(){var e=this.container,t=window.getComputedStyle(e);this.orgCSSText=e.style.cssText,"static"===t.position&&(e.style.position="relative");var n=this.options;this._watcher=new me(e,{useWindowResize:n.autoResize,useResizeObserver:n.useResizeObserver,resizeDebounce:n.resizeDebounce,maxResizeDebounce:n.maxResizeDebounce,watchDirection:!!n.useResizeObserver&&this._names.inlineSize}).listen(this._onResize)},Object.defineProperty(n,"_names",{get:function(){return ie[this.options.horizontal?"horizontal":"vertical"]},enumerable:!1,configurable:!0}),t}(a),ye=function(){function e(e){this.initialRects={},this.sizePercetage=!1,this.posPercetage=!1,this.options=Y({attributePrefix:te.attributePrefix,useTransform:te.useTransform,horizontal:te.horizontal,percentage:te.percentage,isEqualSize:te.isEqualSize,isConstantSize:te.isConstantSize,useRoundedSize:te.useRoundedSize},e),this._init()}var t=e.prototype;return t.resize=function(){this.initialRects={}},t.renderItems=function(e){var t=this;e.forEach((function(e){t._renderItem(e)}))},t.getInlineSize=function(){return this.containerRect[this.options.horizontal?"height":"width"]},t.setContainerRect=function(e){this.containerRect=e},t.updateEqualSizeItems=function(e,t){var n=this;this.updateItems(e);var i=e.some((function(e){return e.attributes.sizeGroup}));(this.options.isEqualSize||i)&&(e.some((function(e){return e.updateState===J.UPDATED}))&&t.forEach((function(t){-1===e.indexOf(t)&&n.updateItem(t,!0)})))},t.updateItems=function(e){var t=this;e.forEach((function(e){t.updateItem(e)}))},t.getStatus=function(){return{initialRects:this.initialRects}},t.setStatus=function(e){this.initialRects=e.initialRects},t._init=function(){var e=this.options.percentage,t=!1,n=!1;!0===e?(t=!0,n=!0):e&&(e.indexOf("position")>-1&&(n=!0),e.indexOf("size")>-1&&(t=!0)),this.posPercetage=n,this.sizePercetage=t},t.updateItem=function(e,t){var n,i,r=this.options,o=r.isEqualSize,s=r.isConstantSize,a=r.useRoundedSize,u=this.initialRects,c=e.orgRect,h=e.element,l=e.updateState===J.WAIT_LOADING,f=c&&c.width&&c.height,d=h?function(e,t){for(var n,i={},r=e.attributes,o=r.length,s=0;s<o;++s){var a=r[s],u=a.name,c=a.value;-1!==u.indexOf(t)&&(i[(n=u.replace(t,""),n.replace(/[\s-_]([a-z])/g,(function(e,t){return t.toUpperCase()})))]=c)}return i}(h,this.options.attributePrefix):e.attributes,p=null!==(n=d.sizeGroup)&&void 0!==n?n:"",g=d.notEqualSize;if(""!==p&&u[p])i=u[p];else if(o&&!g&&!p&&u[""])i=u[""];else if(s&&f&&!l)i=c;else{if(t||!h)return;if(i={left:h.offsetLeft,top:h.offsetTop,width:0,height:0},a)i.width=h.offsetWidth,i.height=h.offsetHeight;else{var m=h.getBoundingClientRect();i.width=m.width,i.height=m.height}}return e.attributes=d,e.shouldReupdate=!1,e.isFirstUpdate&&f||(e.orgRect=Y({},i)),e.rect=Y({},i),t||(e.element&&(e.mountState=X.MOUNTED),e.updateState===J.NEED_UPDATE&&(e.updateState=J.UPDATED,e.isFirstUpdate=!0),l||g||u[p]||(u[p]=Y({},i))),i},t._renderItem=function(e){var t=e.element,n=e.cssRect;if(t&&n){var i,r=this.options,o=r.horizontal,s=r.useTransform,a=this.posPercetage,u=this.sizePercetage,c=["position: absolute;"],h=ie[o?"horizontal":"vertical"],l=h.inlineSize,f=h.inlinePos,d=this.getInlineSize(),p=(i=n,Object.keys(i)),g=p.length>0;s&&(p=p.filter((function(e){return"top"!==e&&"left"!==e})),c.push("transform: translate("+(n.left||0)+"px, "+(n.top||0)+"px);")),c.push.apply(c,p.map((function(e){var t=n[e];return e===l&&u||e===f&&a?e+": "+t/d*100+"%;":e+": "+t+"px;"}))),g&&(t.style.cssText+=c.join(""))}},e}(),Re=function(){function e(e,t){var n;void 0===t&&(t={}),this.horizontal=e,this.isUpdating=!1,this.shouldReupdate=!1,this.hasTransition=!1,this.transitionDuration="",this.isRestoreOrgCSSText=!0;var i=t.element,r=Y({key:"",index:0,orgRect:{left:0,top:0,width:0,height:0},rect:{left:0,top:0,width:0,height:0},cssRect:{},attributes:{},data:{},isFirstUpdate:!1,mountState:X.UNCHECKED,updateState:J.NEED_UPDATE,element:i||null,orgCSSText:null!==(n=null==i?void 0:i.style.cssText)&&void 0!==n?n:"",gridData:{}},t);for(var o in r)this[o]=r[o]}var t=e.prototype;return Object.defineProperty(t,"orgInlineSize",{get:function(){var e=this._names.inlineSize;return this.orgRect[e]||this.rect[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"orgContentSize",{get:function(){var e=this._names.contentSize;return this.orgRect[e]||this.rect[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"inlineSize",{get:function(){return this.rect[this._names.inlineSize]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"contentSize",{get:function(){return this.rect[this._names.contentSize]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssInlineSize",{get:function(){return this.cssRect[this._names.inlineSize]},set:function(e){this.cssRect[this._names.inlineSize]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssContentSize",{get:function(){return this.cssRect[this._names.contentSize]},set:function(e){this.cssRect[this._names.contentSize]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssInlinePos",{get:function(){return this.cssRect[this._names.inlinePos]},set:function(e){this.cssRect[this._names.inlinePos]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssContentPos",{get:function(){return this.cssRect[this._names.contentPos]},set:function(e){this.cssRect[this._names.contentPos]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"computedInlineSize",{get:function(){var e=this._names.inlineSize;return this.cssRect[e]||this.rect[e]||this.orgRect[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"computedContentSize",{get:function(){var e=this._names.contentSize;return this.cssRect[e]||this.rect[e]||this.orgRect[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"computedInlinePos",{get:function(){var e,t=this._names.inlinePos;return null!==(e=this.cssRect[t])&&void 0!==e?e:this.rect[t]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"computedContentPos",{get:function(){var e,t=this._names.contentPos;return null!==(e=this.cssRect[t])&&void 0!==e?e:this.rect[t]},enumerable:!1,configurable:!0}),t.setCSSGridRect=function(e){var t=ie[this.horizontal?"horizontal":"vertical"],n={};for(var i in e)n[t[i]]=e[i];this.cssRect=n},t.getStatus=function(){return{index:this.index,mountState:this.mountState,updateState:this.updateState,attributes:this.attributes,orgCSSText:this.orgCSSText,isFirstUpdate:this.isFirstUpdate,element:null,key:this.key,orgRect:this.orgRect,rect:this.rect,cssRect:this.cssRect,gridData:this.gridData,data:this.data}},t.getMinimizedStatus=function(){var e={orgRect:this.orgRect,rect:this.rect,cssRect:this.cssRect,attributes:this.attributes,gridData:this.gridData},t=this,n=t.key,i=t.mountState,r=t.updateState,o=t.isFirstUpdate,s=t.orgCSSText;return void 0!==n&&(e.key=n),i!==X.UNCHECKED&&(e.mountState=i),r!==J.NEED_UPDATE&&(e.updateState=r),o&&(e.isFirstUpdate=!0),s&&(e.orgCSSText=s),e},Object.defineProperty(t,"_names",{get:function(){return this.horizontal?ie.horizontal:ie.vertical},enumerable:!1,configurable:!0}),e}(),Se=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this)||this;i.items=[],i.outlines={start:[],end:[]},i._renderTimer=0,i._onResize=function(e){if(e.isResizeContainer)i._renderItems({useResize:!0},!0);else{var t=re(i.items,e.childEntries);t.length>0&&i.updateItems(t)}},i.options=Y(Y({},i.constructor.defaultOptions),n),i.containerElement=ae(t)?document.querySelector(t):t;var r=i.options,o=r.isEqualSize,s=r.isConstantSize,a=r.useTransform,u=r.horizontal,c=r.percentage,h=r.externalContainerManager,l=r.externalItemRenderer,f=r.resizeDebounce,d=r.maxResizeDebounce,p=r.autoResize,g=r.useRoundedSize,m=r.useResizeObserver;return i.containerManager=h||new ve(i.containerElement,{horizontal:u,resizeDebounce:f,maxResizeDebounce:d,autoResize:p,useResizeObserver:m}).on("resize",i._onResize),i.itemRenderer=l||new ye({useTransform:a,isEqualSize:o,isConstantSize:s,percentage:c,useRoundedSize:g}),i._init(),i}B(t,e);var n=t.prototype;return n.getContainerElement=function(){return this.containerElement},n.getItems=function(){return this.items},n.getChildren=function(){return[].slice.call(this.containerElement.children)},n.setItems=function(e){e.forEach((function(e,t){e.index=t}));var t=this.options;if(t.useResizeObserver&&t.observeChildren){var n=this.containerManager;n.unobserveChildren(se(this.items)),n.observeChildren(se(e))}return this.items=e,this},n.getContainerInlineSize=function(){return this.containerManager.getInlineSize()},n.getOutlines=function(){return this.outlines},n.setOutlines=function(e){return this.outlines=e,this},n.syncElements=function(e){void 0===e&&(e={});var t=this.items,n=this.options.horizontal,i=this.getChildren(),r=m(this.items.map((function(e){return e.element})),i),o=r.added,s=r.maintained,a=r.changed,u=r.removed,c=[];return s.forEach((function(e){var n=e[0],i=e[1];c[i]=t[n]})),o.forEach((function(e){c[e]=new Re(n,{element:i[e]})})),this.setItems(c),(o.length||u.length||a.length)&&this.renderItems(e),this},n.updateItems=function(e,t){void 0===e&&(e=this.items),void 0===t&&(t={});var n=t.useOrgResize;return e.forEach((function(e){if(n){var t=e.orgRect;t.width=0,t.height=0}e.updateState=J.NEED_UPDATE})),this.checkReady(t),this},n.renderItems=function(e){return void 0===e&&(e={}),this._renderItems(e),this},n.getStatus=function(e){return{outlines:this.outlines,items:this.items.map((function(t){return e?t.getMinimizedStatus():t.getStatus()})),containerManager:this.containerManager.getStatus(),itemRenderer:this.itemRenderer.getStatus()}},n.setStatus=function(e){var t=this,n=this.options.horizontal,i=this.containerManager,r=i.getInlineSize(),o=this.getChildren();return this.itemRenderer.setStatus(e.itemRenderer),i.setStatus(e.containerManager),this.outlines=e.outlines,this.items=e.items.map((function(e,t){return new Re(n,Y(Y({},e),{element:o[t]}))})),this.itemRenderer.renderItems(this.items),r!==i.getInlineSize()?this.renderItems({useResize:!0}):window.setTimeout((function(){t._renderComplete({direction:t.defaultDirection,mounted:t.items,updated:[],isResize:!1})})),this},n.getComputedOutlineSize=function(e){return void 0===e&&(e=this.items),this.options.outlineSize||this.getContainerInlineSize()},n.getComputedOutlineLength=function(e){return void 0===e&&(e=this.items),this.options.outlineLength||1},n.destroy=function(e){var t;void 0===e&&(e={});var n=e.preserveUI,i=void 0===n?this.options.preserveUIOnDestroy:n;this.containerManager.destroy({preserveUI:i}),i||this.items.forEach((function(e){var t=e.element,n=e.orgCSSText;t&&(t.style.cssText=n)})),null===(t=this._im)||void 0===t||t.destroy()},n.getInlineGap=function(){return this._getDirectionalGap("inline")},n.getContentGap=function(){return this._getDirectionalGap("content")},n.checkReady=function(e){var t,n=this;void 0===e&&(e={});var i=this.items,r=i.filter((function(e){var t;return(null===(t=e.element)||void 0===t?void 0:t.parentNode)&&e.updateState!==J.UPDATED})),o=i.filter((function(e){var t;return(null===(t=e.element)||void 0===t?void 0:t.parentNode)&&e.mountState!==X.MOUNTED})),s=[];o.filter((function(e){if(e.hasTransition)return!0;var t=e.element;return parseFloat(getComputedStyle(t).transitionDuration)>0&&(e.hasTransition=!0,e.transitionDuration=t.style.transitionDuration,!0)})).forEach((function(e){e.element.style.transitionDuration="0s"})),null===(t=this._im)||void 0===t||t.destroy(),this._im=new F({prefix:this.options.attributePrefix}).on("preReadyElement",(function(e){r[e.index].updateState=J.WAIT_LOADING})).on("preReady",(function(){r.forEach((function(e){var t=e.orgRect.width&&e.orgRect.height,n=e.cssRect.width||e.cssRect.height;!t&&n&&(e.element.style.cssText=e.orgCSSText)})),n._updateItems(r),n.readyItems(o,r,e)})).on("readyElement",(function(t){var i=r[t.index];i.updateState=J.NEED_UPDATE,t.isPreReadyOver&&(i.isRestoreOrgCSSText&&(i.element.style.cssText=i.orgCSSText),n._updateItems([i]),n.readyItems([],[i],e))})).on("error",(function(e){var t=r[e.index];n.trigger("contentError",{element:e.element,target:e.target,item:t,update:function(){s.push(t)}})})).on("ready",(function(){s.length&&n.updateItems(s)})).check(r.map((function(e){return e.element})))},n.scheduleRender=function(){var e=this;this._clearRenderTimer(),this._renderTimer=window.setTimeout((function(){e.renderItems()}))},n.fitOutlines=function(e){void 0===e&&(e=this.useFit);var t=this.outlines,n=t.start,i=t.end,r=n.length?Math.min.apply(Math,n):0;!e&&r>0||(t.start=n.map((function(e){return e-r})),t.end=i.map((function(e){return e-r})),this.items.forEach((function(e){var t=e.cssContentPos;ce(t)&&(e.cssContentPos=t-r)})))},n.readyItems=function(e,t,n){var i=this.outlines,r=n.direction||this.options.defaultDirection,o=n.outline||i["end"===r?"start":"end"],s=this.items,a={start:$([],o),end:$([],o)};e.forEach((function(e){e.mountState=X.MOUNTED})),t.forEach((function(e){e.isUpdating=!0})),s.length&&(a=this.applyGrid(this.items,r,o)),t.forEach((function(e){e.isUpdating=!1})),this.setOutlines(a),this.fitOutlines(),this.itemRenderer.renderItems(this.items),this._refreshContainerContentSize();var u=e.filter((function(e){return e.hasTransition}));u.length&&(this.containerManager.resize(),u.forEach((function(e){e.element.style.transitionDuration=e.transitionDuration}))),this._renderComplete({direction:r,mounted:e,updated:t,isResize:!!n.useResize});var c=t.filter((function(e){return e.shouldReupdate}));c.length&&this.updateItems(c)},n._isObserverEnabled=function(){return this.containerManager.isObserverEnabled()},n._updateItems=function(e){this.itemRenderer.updateEqualSizeItems(e,this.getItems())},n._getDirectionalGap=function(e){var t,n=this.options.horizontal,i=this.options.gap;return"number"==typeof i?i:null!==(t=n&&"inline"===e||!n&&"content"===e?i.vertical:i.horizontal)&&void 0!==t?t:te.gap},n._renderComplete=function(e){this.trigger("renderComplete",e)},n._clearRenderTimer=function(){clearTimeout(this._renderTimer),this._renderTimer=0},n._refreshContainerContentSize=function(){var e=this.outlines,t=e.start,n=e.end,i=this.getContentGap(),r=n.length?Math.max.apply(Math,n):0,o=t.length?Math.max.apply(Math,t):0,s=Math.max(o,r-i);this.containerManager.setContentSize(s)},n._resizeContainer=function(){this.containerManager.resize(),this.itemRenderer.setContainerRect(this.containerManager.getRect())},n._init=function(){this._resizeContainer()},n._renderItems=function(e,t){void 0===e&&(e={}),this._clearRenderTimer();var n=e.useResize||e.useOrgResize;n&&!t&&(this._resizeContainer(),this.itemRenderer.resize()),!this.getItems().length&&this.getChildren().length?this.syncElements(e):n?this.updateItems(this.items,e):this.checkReady(e)},t.defaultOptions=te,t.propertyTypes=ne,t=W([le],t)}(a);function ze(e,t,n,i){return Math[i].apply(Math,e.slice(t,t+n))}var _e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}B(t,e);var n=t.prototype;return n.applyGrid=function(e,t,n){e.forEach((function(e){e.isRestoreOrgCSSText=!1}));var i=this.getComputedOutlineSize(e),r=this.getComputedOutlineLength(e),o=this.options,s=o.align,a=o.observeChildren,u=o.columnSizeRatio,c=o.contentAlign,h=this.getContentGap(),l=this.getContentGap(),f=n.length,d=e.length,p=this._getAlignPoses(r,i),g="end"===t,m=g?"min":"max",v=g?"max":"min",y=[0];if(f===r)y=n.slice();else{var R=f?Math[v].apply(Math,n):0;y=fe(r).map((function(){return R}))}var S=y.slice(),z=r>1?p[1]-p[0]:0,_="stretch"===s,E=g&&"start"===c,I=g?-1/0:1/0;E&&(I=Math.min.apply(Math,S));for(var C=function(t){var n=e[g?t:d-1-t],o=parseInt(n.attributes.column||"1",10),s=parseInt(n.attributes.maxColumn||"1",10),c=n.contentSize,f=Math.min(r,o||Math.max(1,Math.ceil((n.inlineSize+h)/z))),y=Math.min(r,Math.max(f,s)),R=function(e,t,n,i){var r=e.length-t+1,o="max"===n?"min":"max",s="max"===n?"lastIndexOf":"indexOf",a=fe(r).map((function(n){var r=ze(e,n,t,o);return Math[o](i,r)}));return a[s](Math[n].apply(Math,a))}(S,f,m,I),C=ze(S,R,f,v);for(E&&I!==C&&(I=Math.max.apply(Math,S),S=S.map((function(){return I})),C=I,R=0);f<y;){var P=R+f,b=R-1;if(g&&(P>=r||S[P]>C))break;if(!g&&(b<0||S[b]<C))break;g||--R,++f}if(R=Math.max(0,R),f=Math.min(r-R,f),o>0&&f>1||_){var T=(f-1)*z+i;O._isObserverEnabled()&&a||n.cssInlineSize===T||(n.shouldReupdate=!0),n.cssInlineSize=T}u>0&&(c=n.computedInlineSize/u,n.cssContentSize=c);var M=p[R];C=g?C:C-l-c,n.cssInlinePos=M,n.cssContentPos=C;var w=g?C+c+l:C;fe(f).forEach((function(e){S[R+e]=w}))},O=this,P=0;P<d;++P)C(P);return E&&I!==Math.min.apply(Math,S)&&(I=Math.max.apply(Math,S),S=S.map((function(){return I}))),{start:g?y:S,end:g?S:y}},n.getComputedOutlineSize=function(e){void 0===e&&(e=this.items);var t=this.options.align,n=this.getInlineGap(),i=this.getContainerInlineSize(),r=this.columnSize||this.outlineSize,o=this.column||this.outlineLength,s=o||1,a=0;if("stretch"===t){if(!o){var u=this.maxStretchColumnSize||1/0;s=Math.max(1,Math.ceil((i+n)/(u+n)))}a=(i+n)/(s||1)-n}else if(r)a=r;else if(e.length){for(var c=e[0],h=0,l=e;h<l.length;h++){var f=l[h],d=f.attributes,p=parseInt(d.column||"1",10),g=parseInt(d.maxColumn||"1",10);if(f.updateState===J.UPDATED&&f.inlineSize&&1===p&&1===g){c=f;break}}a=c.inlineSize||0}else a=i;return a||0},n.getComputedOutlineLength=function(e){void 0===e&&(e=this.items);var t=this.getInlineGap(),n=this.column||this.outlineLength,i=this.columnCalculationThreshold,r=1;if(n)r=n;else{var o=this.getComputedOutlineSize(e);r=Math.min(e.length,Math.max(1,Math.floor((this.getContainerInlineSize()+t)/(o-i+t))))}return r},n._getAlignPoses=function(e,t){var n=this.options.align,i=this.getInlineGap(),r=this.getContainerInlineSize(),o=fe(e),s=0,a=0;if("justify"===n||"stretch"===n){var u=e-1;a=u?Math.max((r-t)/u,t+i):0,s=Math.min(0,r/2-(u*a+t)/2)}else{var c=(e-1)*(a=t+i)+t;"center"===n?s=(r-c)/2:"end"===n&&(s=r-c)}return o.map((function(e){return s+e*a}))},t.propertyTypes=Y(Y({},Se.propertyTypes),{column:H.RENDER_PROPERTY,columnSize:H.RENDER_PROPERTY,columnSizeRatio:H.RENDER_PROPERTY,align:H.RENDER_PROPERTY,columnCalculationThreshold:H.RENDER_PROPERTY,maxStretchColumnSize:H.RENDER_PROPERTY,contentAlign:H.RENDER_PROPERTY}),t.defaultOptions=Y(Y({},Se.defaultOptions),{align:"justify",column:0,columnSize:0,columnSizeRatio:0,columnCalculationThreshold:.5,maxStretchColumnSize:1/0,contentAlign:"masonry"}),t=W([le],t)}(Se);function Ee(e,t,n){var i=function(e,t,n){var i={},r={};r[t]=0;var o,s,a,u,c,h,l=new Ie((function(e){return e.cost}));for(l.push({value:t,cost:0});l.size();)for(var f in s=(o=l.pop()).value,a=o.cost,u=e(s)||{})c=a+u[f],h=r[f],(void 0===r[f]||h>c)&&(r[f]=c,l.push({value:f,cost:c}),i[f]=s);if(void 0===r[n]){var d=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(d)}return i}(e,t,n);return function(e,t){for(var n=[],i=t;i;)n.push(i),i=e[i];return n.reverse(),n}(i,n)}var Ie=function(){function e(e){this.content=[],this.scoreFunction=e}var t=e.prototype;return t.push=function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},t.pop=function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},t.size=function(){return this.content.length},t.bubbleUp=function(e){for(var t=e,n=this.content[t];t>0;){var i=Math.floor((t+1)/2)-1,r=this.content[i];if(!(this.scoreFunction(n)<this.scoreFunction(r)))break;this.content[i]=n,this.content[t]=r,t=i}},t.sinkDown=function(e){for(var t,n=this.content.length,i=this.content[e],r=this.scoreFunction(i);;){var o=2*(e+1),s=o-1,a=null;if(s<n){var u=this.content[s];(t=this.scoreFunction(u))<r&&(a=s)}if(o<n){var c=this.content[o];this.scoreFunction(c)<(null==a?r:t)&&(a=o)}if(null===a)break;this.content[e]=this.content[a],this.content[a]=i,e=a}},e}();function Ce(e,t){if(ce(t))return t;var n=t.charAt(0),i="+"===n?1:"-"===n?-1:0,r=parseFloat(t);return t.match(/%$/g)&&(r*=e/100),i?e+r:r}function Oe(e,t){var n=e.orgInlineSize,i=e.orgContentSize,r=e.gridData.inlineOffset||0,o=e.gridData.contentOffset||0;return n&&i?(i<=o?1:(n-r)/(i-o))*(t-o)+r:t}var Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}B(t,e);var n=t.prototype;return n.applyGrid=function(e,t,n){var i=this,r=this.options,o=r.attributePrefix,s=r.horizontal;e.forEach((function(e){if(e.isUpdating){var t=e.element,n=e.attributes,r=e.gridData,a=parseFloat(n.inlineOffset),u=parseFloat(n.contentOffset);if(isNaN(a)&&(a=i.inlineOffset||r.inlineOffset||0),isNaN(u)&&(u=i.contentOffset||0|r.contentOffset),t&&!("inlineOffset"in n)&&!("contentOffset"in n)&&e.mountState===X.MOUNTED){var c=t.querySelector("["+o+"maintained-target]");if(c){var h=t.offsetWidth-t.clientWidth+t.scrollWidth-c.clientWidth,l=t.offsetHeight-t.clientHeight+t.scrollHeight-c.clientHeight;s?(a=l,u=h):(a=h,u=l)}}r.inlineOffset=a,r.contentOffset=u}}));var a=this.options.rowRange,u=[],c="end"===t;return e.length&&(u=a?this._getRowPath(e,c):this._getPath(e,c)),this._setStyle(e,u,n,"end"===t)},n._getRowPath=function(e,t){var n,i=this._getColumnRange(),r=this._getRowRange(),o=this._getRowLink(e,{path:[0],cost:0,length:0,currentNode:0},i,r,t);return null!==(n=null==o?void 0:o.path.map((function(e){return""+e})))&&void 0!==n?n:[]},n._getRowLink=function(e,t,n,i,r){var o=n[0],s=i[0],a=i[1],u=e.length,c=t.path,h=t.length,l=t.cost,f=t.currentNode;if(f<u&&(a<=h||f+o>u)){var d=de(u-f,n)*Math.abs(this._getCost(e,f,u,r));return Y(Y({},t),{length:h+1,path:$($([],c),[u]),currentNode:u,cost:l+d,isOver:!0})}return f>=u?Y(Y({},t),{currentNode:u,isOver:s>h||a<h}):this._searchRowLink(e,t,u,n,i,r)},n._searchRowLink=function(e,t,n,i,r,o){for(var s=i[0],a=i[1],u=t.currentNode,c=t.path,h=t.length,l=t.cost,f=Math.min(n,u+a),d=[],p=u+s;p<=f;++p)if(p!==u){var g=Math.abs(this._getCost(e,u,p,o)),m=this._getRowLink(e,{path:$($([],c),[p]),length:h+1,cost:l+g,currentNode:p},i,r,o);m&&d.push(m)}return d.sort((function(e,t){var n=e.isOver;return n!==t.isOver?n?1:-1:de(e.length,r)-de(t.length,r)||e.cost-t.cost})),d[0]},n._getExpectedRowSize=function(e,t){var n=this.getContainerInlineSize()-this.getInlineGap()*(e.length-1),i=n,r=0,o=0;if(e.forEach((function(e){var t=e.orgInlineSize,n=e.orgContentSize;if(t&&n){var s=e.gridData.inlineOffset||0,a=e.gridData.contentOffset||0,u=n<=a?1:(t-s)/(n-a);r+=u,o+=a*u,i-=s}else r+=1})),r){var s=(i+o)/r;if(this.stretch){var a=this._getSizeRange(),u=pe(s,a[0],a[1]);if(t)return u;var c=this.stretchRange,h=e.map((function(e){return Oe(e,u)})),l=h.reduce((function(t,n,i){return t+Ce(n,e[i].attributes.minStretch||c[0])}),0),f=h.reduce((function(t,n,i){return t+Ce(n,e[i].attributes.maxStretch||c[1])}),0);if(l<=n&&n<=f)return u}return s}return 0},n._getExpectedInlineSizes=function(e,t){var n=this.options,i=n.stretch,r=n.stretchRange;return e.map((function(e){var n=i?Ce(e.orgInlineSize,e.attributes.minStretch||r[0]):-1/0,o=i?Ce(e.orgInlineSize,e.attributes.maxStretch||r[1]):1/0,s=Oe(e,t),a=!1,u=!1;return s>=o?a=!0:s<=n&&(u=!0),{minSize:n,maxSize:o,size:pe(s,n,o),originalSize:s,isMax:a,isMin:u}}))},n._getStretchItemInfos=function(e,t){var n=e.length,i=this.getContainerInlineSize()-this.getInlineGap()*(Math.max(1,n)-1),r=this._getExpectedInlineSizes(e,t),o=he(r.map((function(e){return e.size}))),s=i-o,a=i/he(r.map((function(e){return e.originalSize}))),u=r.map((function(e){return Y(Y({},e),{passed:!1,size:e.originalSize*a})}));if(0===s)return{infos:u,cost:0};for(var c=s>0,h=u.length,l=function(e){var t=he(u.map((function(e){return e.passed?e.size:0}))),n=he(u.map((function(e){return e.passed?0:e.originalSize}))),r=(i-t)/n;if(u.forEach((function(e){e.passed||(c?e.size>e.maxSize&&(r=Math.min(r,e.maxSize/e.originalSize)):e.size<e.minSize&&(r=Math.max(r,e.minSize/e.originalSize)))})),u.forEach((function(e){e.passed||(e.size=pe(e.originalSize*r,e.minSize,e.maxSize),(c&&!ge(e.size-e.maxSize,.001)||!c&&!ge(e.size-e.minSize,.001))&&(e.passed=!0))})),u.every((function(e){return e.passed})))return"break"},f=0;f<h;++f){if("break"===l())break}var d=i/he(u.map((function(e){return e.size})));return ge(d-1,.001)&&u.forEach((function(e){e.size*=d})),{infos:u,cost:he(u.map((function(e){var t=1;(e.size>e.maxSize||e.size<e.minSize)&&(t=2);var n=e.originalSize;return n=c?Math.max(n,e.minSize):Math.min(n,e.maxSize),Math.abs(e.size-n)*t})))}},n._getExpectedInlineSize=function(e,t){var n=this.getInlineGap(),i=this._getExpectedInlineSizes(e,t);return i.length?he(i.map((function(e){return e.size})))+n*(e.length-1):0},n._getCost=function(e,t,n,i){var r=e.slice(t,n),o=this.getContainerInlineSize(),s=this._getExpectedRowSize(r),a=this._getSizeRange(),u=a[0],c=a[1];if(this.isCroppedSize){if(u<=s&&s<=c)return 0;var h=this._getExpectedInlineSize(r,s<u?u:c);return Math.pow(h-o,2)}var l=0;if(this.stretch){s<u?s=u:s>c&&(s=c);var f=Math.abs(s-u);h=this._getExpectedInlineSize(r,s);if(!this.passUnstretchRow||(i?n!==e.length:0!==t)||h>=o)l=this._getStretchItemInfos(r,s).cost;return l+f}if(isFinite(c)){if(s<u)return Math.pow(s-u,2)+Math.pow(c,2)+l;if(s>c)return Math.pow(s-c,2)+Math.pow(c,2)+l}else if(s<u)return Math.max(Math.pow(u,2),Math.pow(s,2))+Math.pow(c,2)+l;return s-u+l},n._getPath=function(e,t){var n=this,i=e.length,r=this.options.columnRange,o=ue(r)?r:[r,r],s=o[0],a=o[1];return Ee((function(r){for(var o={},u=parseInt(r,10),c=Math.min(u+s,i);c<=i&&!(c-u>a);++c){var h=n._getCost(e,u,c,t);h<0&&c===i&&(h=0),o[""+c]=Math.pow(h,2)}return o}),"0",""+i)},n._setStyle=function(e,t,n,i){var r=this;void 0===n&&(n=[]);var o,s,a=this.options,u=a.isCroppedSize,c=a.displayedRow,h=a.stretch,l=a.passUnstretchRow,f=e.length,d=this._getSizeRange(),p=n[0]||0,g=this.getContainerInlineSize(),m=this.getInlineGap(),v=this.getContentGap(),y=function(e,t){for(var n=t.length,i=[],r=0;r<n-1;++r){var o=parseInt(t[r],10),s=parseInt(t[r+1],10);i.push(e.slice(o,s))}return i}(e,t),R=y.length,S=p,z=0;if(y.forEach((function(e,t){var n=e.length,a=r._getExpectedRowSize(e,!0);u&&(a=Math.max(d[0],Math.min(a,d[1])));var p=m*(length-1),y=e.map((function(e,t){var n=Oe(e,a);return{index:t,item:e,inlineSize:n,orgInlineSize:n,maxInlineSize:n,minInlineSize:n}})),_=r._getExpectedInlineSize(e,a),E=(g-p)/(_-p),I=_-p,C=g-p;if(h&&_&&C!==I)if(l&&I<C&&(i?t===R-1:0===t)){s=[S],o=e.map((function(e,t){return f-n+t}));var O=r._getExpectedInlineSizes(e,a);y.forEach((function(e,t){e.minInlineSize=O[t].minSize,e.maxInlineSize=O[t].maxSize,e.inlineSize=pe(e.inlineSize,e.minInlineSize,e.maxInlineSize)}))}else{var P=r._getStretchItemInfos(e,a).infos;y.forEach((function(e,t){e.inlineSize=P[t].size,e.minInlineSize=P[t].minSize,e.maxInlineSize=P[t].maxSize}))}y.forEach((function(t,n){var i=t.item,r=t.inlineSize,o=e[n-1],s=o?o.cssInlinePos+o.cssInlineSize+m:0;u&&(r*=E);var c=i.gridData;c.orgInlineSize=t.orgInlineSize,c.orgContentSize=a,c.minInlineSize=t.minInlineSize,c.maxInlineSize=t.maxInlineSize,i.setCSSGridRect({inlinePos:s,contentPos:S,inlineSize:r,contentSize:a})})),S+=v+a,(c<0||t<c)&&(z=S)})),i)return{start:[p],end:[z],passedItems:o,passed:s};var _=S-p;return e.forEach((function(e){e.cssContentPos-=_})),{passedItems:o,passed:s?[s[0]-_]:null,start:[p-_],end:[p]}},n.getComputedOutlineLength=function(){return 1},n.getComputedOutlineSize=function(){return this.getContainerInlineSize()},n._getRowRange=function(){var e=this.rowRange;return ue(e)?e:[e,e]},n._getColumnRange=function(){var e=this.columnRange;return ue(e)?e:[e,e]},n._getSizeRange=function(){var e=this.sizeRange;return ue(e)?e:[e,e]},t.propertyTypes=Y(Y({},Se.propertyTypes),{columnRange:H.RENDER_PROPERTY,rowRange:H.RENDER_PROPERTY,sizeRange:H.RENDER_PROPERTY,isCroppedSize:H.RENDER_PROPERTY,displayedRow:H.RENDER_PROPERTY,stretch:H.RENDER_PROPERTY,stretchRange:H.RENDER_PROPERTY,passUnstretchRow:H.RENDER_PROPERTY,inlineMargin:H.RENDER_PROPERTY,contentMargin:H.RENDER_PROPERTY,inlineOffset:H.RENDER_PROPERTY,contentOffset:H.RENDER_PROPERTY}),t.defaultOptions=Y(Y({},Se.defaultOptions),{columnRange:[1,8],rowRange:0,sizeRange:[0,1/0],displayedRow:-1,isCroppedSize:!1,stretch:!1,passUnstretchRow:!0,stretchRange:["-20%","+20%"],inlineOffset:0,contentOffset:0}),t=W([le],t)}(Se);function be(e){var t=-1/0;return e.forEach((function(e){isFinite(e)&&(t=Math.max(t,e))})),isFinite(t)?t:0}function Te(e,t,n){return be(e)+function(e,t,n){var i=e.length;if(!i)return 0;var r=(a=t,u=1/0,a.forEach((function(e){isFinite(e)&&(u=Math.min(u,e))})),isFinite(u)?u:0),o=be(e),s=0;var a,u;if(!n)return 0;for(var c=0;c<i;++c){var h=e[c],l=t[c];if(isFinite(h)&&isFinite(l)){var f=h-o,d=l-r;s=c?Math.max(s,s+f-d):f-d}}return s}(e,t,n)}function Me(e,t,n){for(var i=n.inlinePos,r=n.inlineSize,o=n.contentPos,s=n.contentSize,a=i;a<i+r;++a)e[a]=Math.min(e[a],o),t[a]=Math.max(t[a],o+s)}var we=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}B(t,e);var n=t.prototype;return n.applyGrid=function(e,t,n){var i=this._getFrame(),r=i.inlineSize,o=i.contentSize,s=i.rects,a=this.options.useFrameFill,u=this.getRectSize(r),c=u.inlineSize,h=u.contentSize,l=this.getInlineGap(),f=this.getContentGap(),d=e.length;if(!d||!r||!o)return{start:n,end:n};for(var p=s.length,g=fe(r).map((function(){return 1/0})),m=fe(r).map((function(){return-1/0})),v=i.outline.map((function(e){return e*(h+f)})),y=0;y<d;y+=p)for(var R=Te(m,v,a),S=0;S<p&&y+S<d;++S){var z=e[y+S],_=s[S],E=_.contentPos,I=_.inlinePos,C=_.contentSize,O=_.inlineSize,P=R+E*(h+f),b=I*(c+l),T=C*(h+f)-f,M=O*(c+l)-l;Me(g,m,{inlinePos:I,inlineSize:O,contentPos:P,contentSize:T+f}),z.setCSSGridRect({inlinePos:b,contentPos:P,inlineSize:M,contentSize:T})}var w="end"===t,x=n.length?n:[0];if(x.length!==r){var D=w?Math.max.apply(Math,x):Math.min.apply(Math,x);x=fe(r).map((function(){return D}))}g=g.map((function(e){return isFinite(e)?e:0})),m=m.map((function(e){return isFinite(e)?e:0}));var L=w?Te(x,g,a):Te(m,x,a);return e.forEach((function(e){e.cssContentPos+=L})),{start:g.map((function(e){return e+L})),end:m.map((function(e){return e+L}))}},n.getComputedOutlineLength=function(){var e=this.options.frame;return e.length?e[0].length:0},n.getComputedOutlineSize=function(){var e=this.options.rectSize;if("object"==typeof e)return e.inlineSize;var t=this.getInlineGap();return e||(this.getContainerInlineSize()+t)/this.getComputedOutlineLength()-t},n.getRectSize=function(e){var t=this.options.rectSize;if("object"==typeof t)return t;var n=this.getInlineGap(),i=t||(this.getContainerInlineSize()+n)/e-n;return{inlineSize:i,contentSize:i}},n._getFrame=function(){for(var e=this.options.frame,t=e.length,n=t?e[0].length:0,i=[],r={},o=fe(n).map((function(){return 1/0})),s=fe(n).map((function(){return-1/0})),a=0;a<t;++a)for(var u=0;u<n;++u){var c=e[a][u];if(c&&!r[a+","+u]){var h=this._findRect(r,c,a,u,n,t);Me(o,s,h),i.push(h)}}return i.sort((function(e,t){return e.type<t.type?-1:1})),{rects:i,inlineSize:n,contentSize:t,outline:o}},n._findRect=function(e,t,n,i,r,o){for(var s=this.options.frame,a=1,u=1,c=i;c<r&&s[n][c]===t;++c)u=c-i+1;for(var h=n;h<o&&s[h][i]===t;++h)a=h-n+1;for(var l=n;l<n+a;++l)for(var f=i;f<i+u;++f)e[l+","+f]=!0;return{type:t,inlinePos:i,contentPos:n,inlineSize:u,contentSize:a}},t.propertyTypes=Y(Y({},Se.propertyTypes),{frame:H.RENDER_PROPERTY,useFrameFill:H.RENDER_PROPERTY,rectSize:H.RENDER_PROPERTY}),t.defaultOptions=Y(Y({},Se.defaultOptions),{frame:[],rectSize:0,useFrameFill:!0}),t=W([le],t)}(Se),xe=function(){function e(e){var t=Y({orgInlineSize:0,orgContentSize:0,inlineSize:0,contentSize:0,inlinePos:0,contentPos:0,items:[]},e);for(var n in t)this[n]=t[n]}var t=e.prototype;return t.scaleTo=function(e,t){var n=this.inlineSize?e/this.inlineSize:0,i=this.contentSize?t/this.contentSize:0;this.items.forEach((function(e){0!==n&&(e.inlinePos*=n,e.inlineSize*=n),0!==i&&(e.contentPos*=i,e.contentSize*=i)})),this.inlineSize=e,this.contentSize=t},t.push=function(e){this.items.push(e)},t.getOrgSizeWeight=function(){return this.orgInlineSize*this.orgContentSize},t.getSize=function(){return this.inlineSize*this.contentSize},t.getOrgRatio=function(){return 0===this.orgContentSize?0:this.orgInlineSize/this.orgContentSize},t.getRatio=function(){return 0===this.contentSize?0:this.inlineSize/this.contentSize},e}();function De(e,t){var n=e/t;return n<1&&(n=1/n),n-1}var Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}B(t,e);var n=t.prototype;return n.applyGrid=function(e,t,n){var i=this,r=this.options.aspectRatio,o=this.getContainerInlineSize(),s=o/r,a=this.getInlineGap(),u=this.getContentGap(),c=n.length?n:[0],h="end"===t?Math.max.apply(Math,c):Math.min.apply(Math,c)-s-u,l=h+s+u,f=new xe({});return e.forEach((function(e){var t=new xe({inlineSize:e.orgInlineSize,contentSize:e.orgContentSize,orgInlineSize:e.orgInlineSize,orgContentSize:e.orgContentSize});i._findBestFitArea(f,t),f.push(t),f.scaleTo(o+a,s+u)})),e.forEach((function(e,t){var n=f.items[t],i=n.inlineSize-a,r=n.contentSize-u,o=h+n.contentPos,s=n.inlinePos;e.setCSSGridRect({inlinePos:s,contentPos:o,inlineSize:i,contentSize:r})})),{start:[h],end:[l]}},n._findBestFitArea=function(e,t){if(0===e.getRatio())return e.orgInlineSize=t.inlineSize,e.orgContentSize=t.contentSize,e.inlineSize=t.inlineSize,void(e.contentSize=t.contentSize);var n,i=1/0,r=!1,o={inlineSize:0,contentSize:0},s={inlineSize:0,contentSize:0},a=this._getWeight("size"),u=this._getWeight("ratio");e.items.forEach((function(e){for(var c=De(e.getOrgSizeWeight(),e.getSize())*a,h=De(e.getOrgRatio(),e.getRatio())*u,l=e.inlineSize,f=e.contentSize,d=0;d<2;++d){var p=void 0,g=void 0,m=void 0,v=void 0;0===d?(p=l,m=l,v=f-(g=f*(t.contentSize/(e.orgContentSize+t.contentSize)))):(g=f,v=f,m=l-(p=l*(t.inlineSize/(e.orgInlineSize+t.inlineSize))));var y=p*g,R=p/g,S=m*v,z=v/v,_=De(t.getSize(),y)*a;_+=De(t.getRatio(),R)*u,_+=De(e.getOrgSizeWeight(),S)*a-c,(_+=De(e.getOrgRatio(),z)*u-h)===Math.min(_,i)&&(i=_,n=e,r=0===d,o.inlineSize=p,o.contentSize=g,s.inlineSize=m,s.contentSize=v)}})),function(e,t,n,i,r){e.contentSize=n.contentSize,e.inlineSize=n.inlineSize,t.contentSize=i.contentSize,t.inlineSize=i.inlineSize,r?(e.contentPos=t.contentPos+t.contentSize,e.inlinePos=t.inlinePos):(e.inlinePos=t.inlinePos+t.inlineSize,e.contentPos=t.contentPos)}(t,n,o,s,r)},n.getComputedOutlineLength=function(){return 1},n.getComputedOutlineSize=function(){return this.getContainerInlineSize()},n._getWeight=function(e){var t=this.options,n=t.weightPriority;return n===e?100:"custom"===n?t[e+"Weight"]:1},t.propertyTypes=Y(Y({},Se.propertyTypes),{aspectRatio:H.RENDER_PROPERTY,sizeWeight:H.RENDER_PROPERTY,ratioWeight:H.RENDER_PROPERTY,weightPriority:H.RENDER_PROPERTY}),t.defaultOptions=Y(Y({},Se.defaultOptions),{aspectRatio:1,sizeWeight:1,ratioWeight:1,weightPriority:"custom"}),t=W([le],t)}(Se);const ke=Se;var Ne=function(e,t){return(Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ne(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ae=function(){return Ae=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ae.apply(this,arguments)};function Ke(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function Ve(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function Ue(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var je,Fe,qe,Be,Ye,We,$e="undefined"!=typeof window?window.navigator.userAgent:"",He=/iPhone|iPad/.test($e),Ze={renderOnPropertyChange:!0,useFit:!0,autoResize:!0},Xe=Ae({},ne),Qe="start",Je="end",et={CHANGE_SCROLL:"changeScroll",REQUEST_APPEND:"requestAppend",REQUEST_PREPEND:"requestPrepend",RENDER_COMPLETE:"renderComplete",CONTENT_ERROR:"contentError"},tt={type:!0,groupKey:!0,key:!0,element:!0,html:!0,data:!0,inserted:!0,attributes:!0},nt=["insertByGroupIndex","updateItems","getItems","getVisibleItems","getGroups","getVisibleGroups","renderItems","getContainerElement","getScrollContainerElement","getWrapperElement","setStatus","getStatus","removePlaceholders","prependPlaceholders","appendPlaceholders","getStartCursor","getEndCursor","setCursors"];(Fe=je||(je={}))[Fe.NORMAL=0]="NORMAL",Fe[Fe.VIRTUAL=1]="VIRTUAL",Fe[Fe.LOADING=2]="LOADING",(Be=qe||(qe={}))[Be.NORMAL=0]="NORMAL",Be[Be.VIRTUAL=1]="VIRTUAL",Be[Be.LOADING=2]="LOADING",(We=Ye||(Ye={}))[We.NOT_REMOVE=0]="NOT_REMOVE",We[We.MINIMIZE_INVISIBLE_ITEMS=1]="MINIMIZE_INVISIBLE_ITEMS",We[We.MINIMIZE_INVISIBLE_GROUPS=2]="MINIMIZE_INVISIBLE_GROUPS",We[We.REMOVE_INVISIBLE_GROUPS=3]="REMOVE_INVISIBLE_GROUPS";var it=-9999,rt=function(e){function t(t,n){var i=e.call(this,t,Ae({html:"",type:qe.NORMAL,cssRect:{top:it,left:it}},n))||this;if(i.type===qe.VIRTUAL){(i.rect.width||i.rect.height)&&(i.mountState=X.UNMOUNTED);var r=i.orgRect,o=i.rect,s=i.cssRect;s.width?o.width=s.width:r.width&&(o.width=r.width),s.height?o.height=s.height:r.height&&(o.height=r.height)}return i}Ge(t,e);var n=t.prototype;return n.getVirtualStatus=function(){return{type:qe.VIRTUAL,groupKey:this.groupKey,key:this.key,orgRect:this.orgRect,rect:this.rect,cssRect:this.cssRect,attributes:this.attributes}},n.getMinimizedStatus=function(){var t=Ae(Ae({},e.prototype.getMinimizedStatus.call(this)),{type:qe.NORMAL,groupKey:this.groupKey});return this.html&&(t.html=this.html),t},t}(Re),ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="",t.isWaitEnd=!1,t.initialDisplay=null,t}Ge(t,e);var n=t.prototype;return n.getLoadingItem=function(){return this.items[0]||null},n.startLoading=function(){var e=this.items[0].element;e&&(null!=this.initialDisplay?this.initialDisplay=e.style.display||"":this.initialDisplay?e.style.display=this.initialDisplay:e.style.removeProperty("display"))},n.endLoading=function(){if(this.type){var e=this.items[0].element;e&&(e.style.display="none")}},n.setLoadingItem=function(e){if(e){var t=this.getLoadingItem();if(t)for(var n in e)t[n]=e[n];else this.items=[new rt(this.options.horizontal,Ae(Ae({},e),{type:qe.LOADING,key:"__INFINITEGRID__LOADING_ITEM"}))]}else this.items=[]},n.applyGrid=function(e,t,n){if(!e.length)return{start:n,end:n};var i=n.length?Ue([],n,!0):[0],r=e[0],o=r.contentSize+this.getContentGap();if(r.cssInlinePos=this.getContainerInlineSize()/2-r.inlineSize/2,"end"===t){var s=Math.max.apply(Math,i);return r.cssContentPos=s,{start:i,end:i.map((function(e){return e+o}))}}var a=Math.min.apply(Math,i);return r.cssContentPos=a-o,{start:i.map((function(e){return e-o})),end:i}},t}(ke);function st(e){return e===window}function at(e){return"number"==typeof e}function ut(e){return"string"==typeof e}function ct(e){return e.reduce((function(e,t){return Ue(Ue([],e,!0),t,!0)}),[])}function ht(e){var t={},n={},i=ke.defaultOptions;for(var r in e){var o=e[r];r in Ze||(n[r]=o),r in i&&(t[r]=o)}return Ae(Ae({},t),{gridOptions:n})}function lt(e){var t,n=[],i={},r={};e.filter((function(e){return null!=e.groupKey})).forEach((function(e){var t=e.groupKey;r[t]=!0}));var o=!1;return e.forEach((function(s,a){null!=s.groupKey?o=!1:!s.inserted&&e[a-1]?(s.groupKey=e[a-1].groupKey,o=!1):(o||(t=mt(r),o=!0,r[t]=!0),s.groupKey=t);var u=s.groupKey,c=i[u];c||(c={groupKey:u,items:[]},i[u]=c,n.push(c)),c.items.push(s)})),n}function ft(e,t,n,i){var r=p(e,t,(function(e){return e})),o=-1,s=-1;return r.maintained.forEach((function(e){var t=e[0],r=e[1];n<=t&&t<=i&&(-1===o?(o=r,s=r):(o=Math.min(o,r),s=Math.max(s,r)))})),{startCursor:o,endCursor:s}}function dt(e,t,n){var i=[];if("start"===t){if(-1===(s=St(e,(function(e){return e.type===je.NORMAL}))))return[];var r=St(e,(function(e){return St(n,(function(t){return t.groupKey===e.groupKey}))>=0})),o=r>=0?Math.min(s,r):s;i=e.slice(0,o)}else{var s;if(-1===(s=zt(e,(function(e){return e.type===je.NORMAL}))))return[];var a=zt(e,(function(e){return St(n,(function(t){return t.groupKey===e.groupKey}))>=0})),u=a>=0?Math.max(s,a):s;i=e.slice(u+1)}return i}function pt(e,t){var n=t.status,i=t.usePlaceholder,r=t.useLoading,o=t.horizontal,s=t.useFirstRender,a=t.grid,u=[];return a?(a.setPlaceholder(i?{}:null),a.setLoading(r?{}:null),a.syncItems(e),u=a.getRenderingItems()):n?u=function(e,t,n,i){var r=e.groups,o=lt(t),s=dt(r,"start",o),a=dt(r,"end",o),u=Ue(Ue(Ue([],s,!0),o,!0),a,!0),c=ft(r.map((function(e){return e.groupKey})),u.map((function(e){return e.groupKey})),e.cursors[0],e.cursors[1]),h=c.startCursor,l=c.endCursor,f=ct(u.slice(h,l+1).map((function(e){return e.items.map((function(e){return new rt(i,Ae({},e))}))})));return n||(f=f.filter((function(e){return e.type!==qe.VIRTUAL}))),f}(n.groupManager,e,!!i,!!o):s&&(u=function(e,t){var n=lt(e);return n[0]?n[0].items.map((function(e){return new rt(t,Ae({},e))})):[]}(e,!!o)),u}function gt(e){var t=e.prototype,n=e.propertyTypes,i=function(e){var n={enumerable:!0,configurable:!0,get:function(){var t=this.groupManager.options;return e in t?t[e]:t.gridOptions[e]},set:function(t){var n;this.groupManager[e]!==t&&(this.groupManager.gridOptions=((n={})[e]=t,n))}};Object.defineProperty(t,e,n)};for(var r in n)i(r)}function mt(e,t){void 0===t&&(t="");for(var n=0;;){var i="infinitegrid_".concat(t).concat(n++);if(!(i in e))return i}}function vt(e){var t=document.createElement("div");return t.innerHTML=e,Rt(t.children)}function yt(e,t){return(ut(e)?vt(e):e).map((function(e){var n,i="";if(ut(e))i=e;else{if(!("parentNode"in e))return Ae({groupKey:t,inserted:!0},e);n=e,i=e.outerHTML}return{key:undefined,groupKey:t,html:i,element:n,inserted:!0}}))}function Rt(e){var t=[];if(e)for(var n=e.length,i=0;i<n;i++)t.push(e[i]);return t}function St(e,t){for(var n=e.length,i=0;i<n;++i)if(t(e[i],i))return i;return-1}function zt(e,t){for(var n=e.length-1;n>=0;--n)if(t(e[n],n))return n;return-1}function _t(e,t){return e.length===t.length&&e.every((function(e,n){return t[n]===e}))}function Et(e){return ct(e.map((function(e){return e.grid.getItems()})))}function It(e,t){return t?Ue([],e,!0):e.filter((function(e){return e.type!==qe.VIRTUAL}))}var Ct=function(e){function t(t,n){var i=e.call(this,t,function(e){var t=e.gridOptions,n=Ke(e,["gridOptions"]);return Ae(Ae({},ht(t)),n)}(n))||this;return i.groupItems=[],i.groups=[],i.itemKeys={},i.groupKeys={},i.startCursor=0,i.endCursor=0,i._placeholder=null,i._loadingGrid=new ot(t,{externalContainerManager:i.containerManager,useFit:!1,autoResize:!1,renderOnPropertyChange:!1,gap:i.gap}),i._mainGrid=i._makeGrid(),i}Ge(t,e);var n=t.prototype;return Object.defineProperty(n,"gridOptions",{set:function(e){var t=ht(e),n=t.gridOptions,i=Ke(t,["gridOptions"]),r=this._checkShouldRender(e);for(var o in this.options.gridOptions=Ae(Ae({},this.options.gridOptions),n),Ue([this._mainGrid],this.groups.map((function(e){return e.grid})),!0).forEach((function(t){for(var n in e)t[n]=e[n]})),i)this[o]=i[o];this._loadingGrid.gap=this.gap,r&&this.scheduleRender()},enumerable:!1,configurable:!0}),n.getItemByKey=function(e){return this.itemKeys[e]||null},n.getGroupItems=function(e){return It(this.groupItems,e)},n.getVisibleItems=function(e){return It(this.items,e)},n.getRenderingItems=function(){return this.hasPlaceholder()?this.items:this.items.filter((function(e){return e.type!==qe.VIRTUAL}))},n.getGroups=function(e){return It(this.groups,e)},n.hasVisibleVirtualGroups=function(){return this.getVisibleGroups(!0).some((function(e){return e.type===je.VIRTUAL}))},n.hasPlaceholder=function(){return!!this._placeholder},n.hasLoadingItem=function(){return!!this._getLoadingItem()},n.updateItems=function(t,n){return void 0===t&&(t=this.groupItems),e.prototype.updateItems.call(this,t,n)},n.setPlaceholder=function(e){this._placeholder=e,this._updatePlaceholder()},n.getLoadingType=function(){return this._loadingGrid.type},n.startLoading=function(e){return this._loadingGrid.type=e,this.items=this._getRenderingItems(),!0},n.waitEndLoading=function(){return!!this._loadingGrid.type&&(this._loadingGrid.isWaitEnd=!0,!0)},n.endLoading=function(){if(this._loadingGrid.isWaitEnd){var e=this._loadingGrid.type;return this._loadingGrid.type="",this._loadingGrid.endLoading(),this.items=this._getRenderingItems(),!!e}return!1},n.setLoading=function(e){this._loadingGrid.setLoadingItem(e),this.items=this._getRenderingItems()},n.getVisibleGroups=function(e){return It(this.groups.slice(this.startCursor,this.endCursor+1),e)},n.getComputedOutlineLength=function(e){return void 0===e&&(e=this.items),this._mainGrid.getComputedOutlineLength(e)},n.getComputedOutlineSize=function(e){return void 0===e&&(e=this.items),this._mainGrid.getComputedOutlineSize(e)},n.applyGrid=function(e,t,n){var i=this,r=this.groups.slice();if(!r.length)return{start:[],end:[]};var o=this._loadingGrid;o.getLoadingItem()&&("start"===o.type?r.unshift(this._getLoadingGroup()):"end"===o.type&&r.push(this._getLoadingGroup()));var s=r.slice(),a=n;"start"===t&&s.reverse();var u=this.options.appliedItemChecker,c=this.groupItems,h=this.getComputedOutlineLength(c),l=this.getComputedOutlineSize(c),f=this.itemRenderer,d=[];return s.forEach((function(e){var n,r,o=e.grid,s=o.getItems(),c=e.type===je.VIRTUAL&&!s[0];d="end"===t?Ue(Ue([],d,!0),s,!0):Ue(Ue([],s,!0),d,!0),o.outlineLength=h,o.outlineSize=l;var p,g=d.filter((function(e){return e.mountState!==X.UNCHECKED&&e.rect.width||f.updateItem(e,!0),e.orgRect.width&&e.rect.width||u(e,o)}));p=c?i._applyVirtualGrid(o,t,a):g.length?o.applyGrid(g,t,a):{start:Ue([],a,!0),end:Ue([],a,!0)},o.setOutlines(p),a=p.passed||p[t],d=null!==(r=null===(n=p.passedItems)||void 0===n?void 0:n.map((function(e){return d[e]})))&&void 0!==r?r:[]})),{start:r[0].grid.getOutlines().start,end:r[r.length-1].grid.getOutlines().end}},n.syncItems=function(e){var t=this,n=this.itemKeys;this.itemKeys={};var i=this._syncItemInfos(e.map((function(e){return function(e){var t={};for(var n in e)n in tt&&(t[n]=e[n]);return t}(e)})),n),r=this.groupKeys,o=lt(i),s=this._splitVirtualGroups("start",o),a=this._splitVirtualGroups("end",o),u=(o=Ue(Ue(Ue([],s,!0),this._mergeVirtualGroups(o),!0),a,!0)).map((function(e){var n,i,o=e.groupKey,s=e.items,a=!s[0]||s[0].type===qe.VIRTUAL,u=null!==(i=null===(n=r[o])||void 0===n?void 0:n.grid)&&void 0!==i?i:t._makeGrid(),c=a?s:s.filter((function(e){return e.type===qe.NORMAL}));return u.setItems(c),{type:a?je.VIRTUAL:je.NORMAL,groupKey:o,grid:u,items:c,renderItems:s}}));this._registerGroups(u)},n.renderItems=function(t){if(void 0===t&&(t={}),t.useResize){this.groupItems.forEach((function(e){e.updateState=J.NEED_UPDATE}));var n=this._getLoadingItem();n&&(n.updateState=J.NEED_UPDATE)}return e.prototype.renderItems.call(this,t)},n.setCursors=function(e,t){this.startCursor=e,this.endCursor=t,this.items=this._getRenderingItems()},n.getStartCursor=function(){return this.startCursor},n.getEndCursor=function(){return this.endCursor},n.getGroupStatus=function(e,t){var n,i=this.startCursor,r=this.endCursor,o=this.groups,s=o[i],a=o[r],u=i,c=r,h=e===Ye.MINIMIZE_INVISIBLE_ITEMS,l=e===Ye.MINIMIZE_INVISIBLE_GROUPS;if(e===Ye.REMOVE_INVISIBLE_GROUPS)n=this.getVisibleGroups(t),c=n.length-1,u=0;else if(n=this.getGroups(t),!t){u=-1,c=-1;for(var f=i;f<=r;++f){if((d=o[f])&&d.type!==je.VIRTUAL){u=n.indexOf(d);break}}for(f=r;f>=i;--f){var d;if((d=o[f])&&d.type!==je.VIRTUAL){c=n.lastIndexOf(d);break}}}var p=n.map((function(e,t){var n=e.grid,i=e.groupKey,r=t<u||c<t,o=h&&r,s=l&&r,a=n.getItems(),f=s?[]:a.map((function(e){return o?e.getVirtualStatus():e.getMinimizedStatus()}));return{type:s||o?je.VIRTUAL:je.NORMAL,groupKey:i,outlines:n.getOutlines(),items:f}})),g=this.getGroupItems(),m=g.indexOf(null==s?void 0:s.items[0]),v=g.indexOf(null==a?void 0:a.items.slice().reverse()[0]);return{cursors:[u,c],orgCursors:[i,r],itemCursors:[m,v],startGroupKey:null==s?void 0:s.groupKey,endGroupKey:null==a?void 0:a.groupKey,groups:p,outlines:this.outlines}},n.fitOutlines=function(e){void 0===e&&(e=this.useFit);var t=this.groups;if(t[0]){var n=this.outlines.start,i=n.length?Math.min.apply(Math,n):0;!e&&i>0||(t.forEach((function(e){var t=e.grid,n=t.getOutlines(),r=n.start,o=n.end;t.setOutlines({start:r.map((function(e){return e-i})),end:o.map((function(e){return e-i}))})})),this.groupItems.forEach((function(e){var t=e.cssContentPos;at(t)&&(e.cssContentPos=t-i)})))}},n.setGroupStatus=function(e){var t=this;this.itemKeys={},this.groupItems=[],this.items=[];var n=this.groupKeys,i=e.groups.map((function(e){var i,r,o=e.type,s=e.groupKey,a=e.items,u=e.outlines,c=t._syncItemInfos(a),h=null!==(r=null===(i=n[s])||void 0===i?void 0:i.grid)&&void 0!==r?r:t._makeGrid();return h.setOutlines(u),h.setItems(c),{type:o,groupKey:s,grid:h,items:c,renderItems:c}}));this.setOutlines(e.outlines),this._registerGroups(i),this._updatePlaceholder(),this.setCursors(e.cursors[0],e.cursors[1])},n.appendPlaceholders=function(e,t){return this.insertPlaceholders("end",e,t)},n.prependPlaceholders=function(e,t){return this.insertPlaceholders("start",e,t)},n.removePlaceholders=function(e){var t=this.groups,n=t.length;if("start"===e){var i=St(t,(function(e){return e.type===je.NORMAL}));t.splice(0,i)}else if("end"===e){i=zt(t,(function(e){return e.type===je.NORMAL}));t.splice(i+1,n-i-1)}else{var r=e.groupKey;(i=St(t,(function(e){return e.groupKey===r})))>-1&&t.splice(i,1)}this.syncItems(Et(this.getGroups()))},n.insertPlaceholders=function(e,t,n){var i,r;void 0===n&&(n=mt(this.groupKeys,"virtual_"));var o=[];at(t)?o=function(e){for(var t=[],n=0;n<e;++n)t.push(n);return t}(t).map((function(){return{type:qe.VIRTUAL,groupKey:n}})):Array.isArray(t)&&(o=t.map((function(e){return Ae(Ae({groupKey:n},e),{type:qe.VIRTUAL})})));var s=this._makeGrid(),a=this._syncItemInfos(o,this.itemKeys);this._updatePlaceholder(a),s.setItems(a);var u={type:je.VIRTUAL,groupKey:n,grid:s,items:a,renderItems:a};return this.groupKeys[n]=u,"end"===e?(this.groups.push(u),(i=this.groupItems).push.apply(i,a)):(this.groups.splice(0,0,u),(r=this.groupItems).splice.apply(r,Ue([0,0],a,!1)),this.startCursor>-1&&(++this.startCursor,++this.endCursor)),{group:u,items:a}},n.shouldRerenderItems=function(){var e=!1;return this.getVisibleGroups().forEach((function(t){var n=t.items;n.length===t.renderItems.length||n.every((function(e){return e.mountState===X.UNCHECKED}))||(e=!0,t.renderItems=Ue([],n,!0))})),e&&(this.items=this._getRenderingItems()),e},n._updateItems=function(e){this.itemRenderer.updateEqualSizeItems(e,this.groupItems)},n._getGroupItems=function(){return Et(this.getGroups(!0))},n._getRenderingItems=function(){var e=ct(this.getVisibleGroups(!0).map((function(e){return e.renderItems}))),t=this._loadingGrid,n=t.getLoadingItem();return n&&("end"===t.type?e.push(n):"start"===t.type&&e.unshift(n)),e},n._checkShouldRender=function(e){var t=this.options.gridConstructor,n=this.gridOptions,i=t.propertyTypes;for(var r in n)if(!(r in e)&&i[r]===H.RENDER_PROPERTY)return!0;for(var r in e)if(n[r]!==e[r]&&i[r]===H.RENDER_PROPERTY)return!0;return!1},n._applyVirtualGrid=function(e,t,n){var i=n.length?Ue([],n,!0):[0],r=e.getOutlines(),o=r["end"===t?"start":"end"];return o.length!==i.length||o.some((function(e,t){return e!==i[t]}))?{start:Ue([],i,!0),end:Ue([],i,!0)}:r},n._syncItemInfos=function(e,t){void 0===t&&(t={});var n=this.options.horizontal,i=this.itemKeys;return e.filter((function(e){return null!=e.key})).forEach((function(e){var r=e.key,o=t[r];o?o.type===qe.VIRTUAL&&e.type!==qe.VIRTUAL?i[r]=new rt(n,Ae({orgRect:o.orgRect,rect:o.rect},e)):(e.data&&(o.data=e.data),null!=e.groupKey&&(o.groupKey=e.groupKey),e.element&&(o.element=e.element),i[r]=o):i[r]=new rt(n,Ae({},e))})),e.map((function(e){var r=e.key;null==e.key&&(r=mt(i,e.type===qe.VIRTUAL?"virtual_":""));var o=i[r];if(!o){var s=t[r];s?(o=s,e.data&&(o.data=e.data),e.element&&(o.element=e.element)):o=new rt(n,Ae(Ae({},e),{key:r})),i[r]=o}return o}))},n._registerGroups=function(e){var t={};e.forEach((function(e){t[e.groupKey]=e})),this.groups=e,this.groupKeys=t,this.groupItems=this._getGroupItems()},n._splitVirtualGroups=function(e,t){var n=dt(this.groups,e,t),i=this.itemKeys;return n.forEach((function(e){e.renderItems.forEach((function(e){i[e.key]=e}))})),n},n._mergeVirtualGroups=function(e){var t=this.itemKeys,n=this.groupKeys;return e.forEach((function(e){var i=n[e.groupKey];if(i){var r=e.items;r.every((function(e){return e.mountState===X.UNCHECKED}))&&i.renderItems.forEach((function(e){e.type!==qe.VIRTUAL||t[e.key]||(r.push(e),t[e.key]=e)}))}})),e},n._updatePlaceholder=function(e){void 0===e&&(e=this.groupItems);var t=this._placeholder;t&&e.filter((function(e){return e.type===qe.VIRTUAL})).forEach((function(e){!function(e,t){for(var n in t){var i=t[n];r=i,e[n]="object"==typeof r?Ae(Ae({},e[n]),i):t[n]}var r}(e,t)}))},n._makeGrid=function(){var e=this.options.gridConstructor,t=this.gridOptions;return new e(this.containerElement,Ae(Ae({},t),{useFit:!1,autoResize:!1,useResizeObserver:!1,observeChildren:!1,renderOnPropertyChange:!1,externalContainerManager:this.containerManager,externalItemRenderer:this.itemRenderer}))},n._getLoadingGroup=function(){var e=this._loadingGrid,t=e.getItems();return{groupKey:"__INFINITEGRID__LOADING_GRID",type:je.NORMAL,grid:e,items:t,renderItems:t}},n._getLoadingItem=function(){return this._loadingGrid.getLoadingItem()},t.defaultOptions=Ae(Ae({},ke.defaultOptions),{appliedItemChecker:function(){return!1},gridConstructor:null,gridOptions:{}}),t.propertyTypes=Ae(Ae({},ke.propertyTypes),{gridConstructor:H.PROPERTY,gridOptions:H.PROPERTY}),t=Ve([le],t)}(ke),Ot=function(e){function t(t){var n=e.call(this)||this;return n.startCursor=-1,n.endCursor=-1,n.size=0,n.items=[],n.itemKeys={},n.options=Ae({threshold:0,useRecycle:!0,defaultDirection:"end"},t),n}Ge(t,e);var n=t.prototype;return n.scroll=function(e){var t,n,i=this.startCursor,r=this.endCursor,o=this.items,s=o.length,a=this.size,u=this.options,c=u.defaultDirection,h=u.threshold,l=u.useRecycle,f="end"===c;if(s)if(-1!==i&&-1!==r){var d=e+a,p=Math.max.apply(Math,o[i].startOutline),g=Math.min.apply(Math,o[r].endOutline),m=o.map((function(t){var n=t.startOutline,i=t.endOutline;if(!n.length||!i.length||_t(n,i))return!1;var r=Math.min.apply(Math,n),o=Math.max.apply(Math,i);return r-h<=d&&e<=o+h})),v=0<i,y=r<s-1,R=e<=p+h,S=d>=g-h,z=m.indexOf(!0),_=m.lastIndexOf(!0);-1===z&&(z=i,_=r),l||(z=Math.min(z,i),_=Math.max(_,r)),z===i&&v&&R&&(z-=1),_===r&&y&&S&&(_+=1);var E=o.slice(z,_+1);if(E.every((function(e){return!0===e.isVirtual}))){for(var I=!1,C=z-1;C>=0;--C)if(!o[C].isVirtual){z=C,I=!0;break}if(!I)for(C=_+1;C<s;++C)if(!o[C].isVirtual){_=C,I=!0;break}I&&(E=o.slice(z,_+1))}var O=E.some((function(e){return!0===e.isVirtual}));if(i===z&&r===_||(this.trigger("change",{prevStartCursor:i,prevEndCursor:r,nextStartCursor:z,nextEndCursor:_}),O))if(O){var P=null===(t=E[0])||void 0===t?void 0:t.isVirtual,b=null===(n=E[E.length-1])||void 0===n?void 0:n.isVirtual;if(f&&S||!P){if((f||!R)&&b){var T=(M=zt(E,(function(e){return!e.isVirtual})))+1;E[T]&&this.trigger("requestAppend",{key:M>-1?E[M].key:void 0,nextKey:E[T].key,nextKeys:E.slice(T).map((function(e){return e.key})),isVirtual:!0})}}else{var M,w=(-1===(M=St(E,(function(e){return!e.isVirtual})))?E.length:M)-1;E[w]&&this.trigger("requestPrepend",{key:M>-1?E[M].key:void 0,nextKey:E[w].key,nextKeys:E.slice(0,w+1).map((function(e){return e.key})),isVirtual:!0})}}else this._requestVirtualItems()||(f&&S||!R?!f&&R||!S||this.trigger("requestAppend",{key:o[r].key,isVirtual:!1}):this.trigger("requestPrepend",{key:o[i].key,isVirtual:!1}))}else{var x=f?0:s-1;this.trigger("change",{prevStartCursor:i,prevEndCursor:r,nextStartCursor:x,nextEndCursor:x})}else this.trigger(f?"requestAppend":"requestPrepend",{key:void 0,isVirtual:!1})},n._requestVirtualItems=function(){var e="end"===this.options.defaultDirection,t=this.items,n=this.getVisibleItems(),i=n.filter((function(e){return!e.isVirtual})),r=n.length,o=i.length,s=this.getStartCursor(),a=this.getEndCursor();if(o===r)return!1;if(o){var u=i[0].key,c=i[o-1].key,h=St(t,(function(e){return e.key===u}))-1,l=St(t,(function(e){return e.key===c}))+1,f=l<=a,d=h>=s;if((e||!d)&&f)return this.trigger("requestAppend",{key:c,nextKey:t[l].key,isVirtual:!0}),!0;if((!e||!f)&&d)return this.trigger("requestPrepend",{key:u,nextKey:t[h].key,isVirtual:!0}),!0}else if(r){var p=n[r-1];return e?this.trigger("requestAppend",{nextKey:n[0].key,isVirtual:!0}):this.trigger("requestPrepend",{nextKey:p.key,isVirtual:!0}),!0}return!1},n.setCursors=function(e,t){this.startCursor=e,this.endCursor=t},n.setSize=function(e){this.size=e},n.getStartCursor=function(){return this.startCursor},n.getEndCursor=function(){return this.endCursor},n.isLoading=function(e){var t=this.startCursor,n=this.endCursor,i=this.items,r=i[t],o=i[n],s=i.length;return!(e===Je&&n>-1&&n<s-1&&!o.isVirtual&&!_t(o.startOutline,o.endOutline))&&!(e===Qe&&t>0&&!r.isVirtual&&!_t(r.startOutline,r.endOutline))},n.setItems=function(e){this.items=e;var t={};e.forEach((function(e){t[e.key]=e})),this.itemKeys=t},n.syncItems=function(e){var t=this.items,n=this.startCursor,i=this.endCursor,r=ft(this.items.map((function(e){return e.key})),e.map((function(e){return e.key})),n,i),o=r.startCursor,s=r.endCursor,a=s-o!=i-n||-1===n||-1===o;if(!a){var u=p(t.slice(n,i+1),e.slice(o,s+1),(function(e){return e.key}));a=u.added.length>0||u.removed.length>0||u.changed.length>0}return this.setItems(e),this.setCursors(o,s),a},n.getItems=function(){return this.items},n.getVisibleItems=function(){var e=this.startCursor,t=this.endCursor;return-1===e?[]:this.items.slice(e,t+1)},n.getSize=function(){return this.size},n.getItemByKey=function(e){return this.itemKeys[e]},n.getItemPartByKey=function(e){var t;return this.items.forEach((function(n){var i;null===(i=n.parts)||void 0===i||i.forEach((function(n){n.key===e&&(t=n)}))})),t},n.getScrollSize=function(){var e=this.items,t=e.length;return t?Math.max.apply(Math,Ue([0],e[t-1].endOutline,!1)):0},n.getVisibleArea=function(e,t){void 0===t&&(t=this.options.defaultDirection);var n=t===Je,i=this.getRenderedVisibleItems();if(!i.length)return null;var r,o=i[n?0:length-1],s=n?Math.min.apply(Math,o.startOutline):Math.max.apply(Math,o.endOutline);return n?i.forEach((function(t){var n;null===(n=t.parts)||void 0===n||n.forEach((function(t){r&&r.pos>=t.pos||s<t.pos&&t.pos<=e&&(r=t,s=t.pos)}))})):i.forEach((function(t){var n;null===(n=t.parts)||void 0===n||n.forEach((function(t){var n=t.pos+t.size;r&&r.pos+r.size<=n||s>n&&n>=e&&(r=t,s=n)}))})),{item:o,part:r}},n.getRenderedVisibleItems=function(){var e=this.getVisibleItems(),t=e.map((function(e){var t=e.startOutline,n=e.endOutline,i=t.length;return 0!==i&&i===n.length&&t.some((function(e,t){return n[t]!==e}))})),n=t.indexOf(!0),i=t.lastIndexOf(!0);return-1===i?[]:e.slice(n,i+1)},n.destroy=function(){this.off(),this.startCursor=-1,this.endCursor=-1,this.items=[],this.size=0},t}(a),Pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.items=[],t.container=null,t.rendererKey=0,t._updateTimer=0,t._state={},t._isItemChanged=!1,t}Ge(t,e);var n=t.prototype;return n.updateKey=function(){this.rendererKey=Date.now()},n.getItems=function(){return this.items},n.setContainer=function(e){this.container=e},n.render=function(e,t){return this.syncItems(e,t)},n.update=function(e){var t=this;void 0===e&&(e={}),this._state=Ae(Ae({},this._state),e),this.trigger("update",{state:e}),clearTimeout(this._updateTimer),this._updateTimer=window.setTimeout((function(){t.trigger("requestUpdate",{state:e})}))},n.updated=function(e){var t,n;void 0===e&&(e=null!==(n=null===(t=this.container)||void 0===t?void 0:t.children)&&void 0!==n?n:[]);var i=this._diffResult,r=!!(i.added.length||i.removed.length||i.changed.length),o=this._state,s=this._isItemChanged,a=i.list;return this._isItemChanged=!1,this._state={},this.items=a,a.forEach((function(t,n){t.element=e[n]})),this.trigger("updated",{items:a,elements:Rt(e),diffResult:this._diffResult,state:o,isItemChanged:s,isChanged:r}),r},n.syncItems=function(e,t){void 0===t&&(t={});var n=this.rendererKey,i=p(this.items,e.map((function(e){return Ae(Ae({},e),{renderKey:"".concat(n,"_").concat(e.key)})})),(function(e){return e.renderKey}));return this._isItemChanged=!!i.added.length||!!i.removed.length||!!i.changed.length,this._state=Ae(Ae({},this._state),t),this._diffResult=i,i},n.destroy=function(){this.off()},t}(a),bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.prototype.syncItems=function(t){var n=e.prototype.syncItems.call(this,t),i=n.added,r=n.list;return i.forEach((function(e){var n=t[e].orgItem;n.html&&!n.element&&(n.element=vt(n.html)[0]),r[e].element=n.element})),n},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.prototype.render=function(t,n){var i=this.container,r=e.prototype.render.call(this,t,n),o=r.prevList,s=r.removed,a=r.ordered,u=r.added,c=r.list,h=Ue([],o,!0);return s.forEach((function(e){h.splice(e,1),i.removeChild(o[e].element)})),a.forEach((function(e){var t,n,r=e[0],o=e[1],s=h.splice(r,1)[0];h.splice(o,0,s),i.insertBefore(s.element,null!==(n=null===(t=h[o+1])||void 0===t?void 0:t.element)&&void 0!==n?n:null)})),u.forEach((function(e){var t,n,r=c[e];h.splice(e,0,r),i.insertBefore(r.element,null!==(n=null===(t=h[e+1])||void 0===t?void 0:t.element)&&void 0!==n?n:null)})),this.updated(i.children),r},t}(Pt)),Tt=function(t){function n(e,n){var i=t.call(this)||this;return i.wrapper=e,i.prevScrollPos=null,i.scrollOffset=0,i.contentSize=0,i._isScrollIssue=He,i._onCheck=function(){var e=i.getScrollPos(),t=i.getOrgScrollPos();i.setScrollPos(t),null===e||i._isScrollIssue&&0===t||e===t?t&&(i._isScrollIssue=!1):(i._isScrollIssue=!1,i.trigger(new u("scroll",{direction:e<t?"end":"start",scrollPos:t,relativeScrollPos:i.getRelativeScrollPos()})))},i.options=Ae({container:!1,containerTag:"div",horizontal:!1,scrollContainer:null},n),i._init(),i}Ge(n,t);var i=n.prototype;return i.getWrapper=function(){return this.wrapper},i.getContainer=function(){return this.container},i.getScrollContainer=function(){return this.scrollContainer},i.getScrollOffset=function(){return this.scrollOffset},i.getContentSize=function(){return this.contentSize},i.getRelativeScrollPos=function(){return(this.prevScrollPos||0)-this.scrollOffset},i.getScrollPos=function(){return this.prevScrollPos},i.setScrollPos=function(e){this.prevScrollPos=e},i.getOrgScrollPos=function(){var e=this.eventTarget,t=this.options.horizontal,n="scroll".concat(t?"Left":"Top");return st(e)?window[t?"pageXOffset":"pageYOffset"]||document.documentElement[n]||document.body[n]:e[n]},i.setStatus=function(e){this.contentSize=e.contentSize,this.scrollOffset=e.scrollOffset,this.prevScrollPos=e.prevScrollPos,this.scrollTo(this.prevScrollPos)},i.getStatus=function(){return{contentSize:this.contentSize,scrollOffset:this.scrollOffset,prevScrollPos:this.prevScrollPos}},i.scrollTo=function(e){var t=this.eventTarget,n=this.options.horizontal?[e,0]:[0,e],i=n[0],r=n[1];st(t)?t.scroll(i,r):(t.scrollLeft=i,t.scrollTop=r)},i.scrollBy=function(e){if(e){var t=this.eventTarget,n=this.options.horizontal?[e,0]:[0,e],i=n[0],r=n[1];this.prevScrollPos+=e,st(t)?t.scrollBy(i,r):(t.scrollLeft+=i,t.scrollTop+=r)}},i.resize=function(){var e=this.scrollContainer,t=this.options.horizontal,n=e===document.body,i=n?{top:0,left:0}:e.getBoundingClientRect(),r=this.container.getBoundingClientRect();this.scrollOffset=(this.getOrgScrollPos()||0)+(t?r.left-i.left:r.top-i.top),this.contentSize=n?t?window.innerWidth:window.innerHeight:t?e.offsetWidth:e.offsetHeight},i.destroy=function(){var e=this.container;if(this.eventTarget.removeEventListener("scroll",this._onCheck),this._isCreateElement){var t=this.scrollContainer,n=document.createDocumentFragment(),i=Rt(e.childNodes);t.removeChild(e),i.forEach((function(e){n.appendChild(e)})),t.appendChild(n)}else this.options.container&&(e.style.cssText=this._orgCSSText)},i._init=function(){var t,n=this.options,i=n.container,r=n.containerTag,o=n.horizontal,s=n.scrollContainer,a=this.wrapper,u=a,c=a,h="";if(i){if(!0===i)(c=document.createElement(r)).style.position="relative",c.className="infinitegrid-container",Rt(u.childNodes).forEach((function(e){c.appendChild(e)})),u.appendChild(c),this._isCreateElement=!0;else c=e(i);h=c.style.cssText;var l=u.style;t=o?["scroll","hidden"]:["hidden","scroll"],l.overflowX=t[0],l.overflowY=t[1],o&&(c.style.height="100%")}else u=e(s)||document.body,h=c.style.cssText;var f=u===document.body?window:u;f.addEventListener("scroll",this._onCheck),this._orgCSSText=h,this.container=c,this.scrollContainer=u,this.eventTarget=f,this.resize(),this.setScrollPos(this.getOrgScrollPos())},n}(a),Mt=function(e){function t(t,n){var i=e.call(this)||this;i._waitType="",i._onScroll=function(e){var t=e.direction,n=e.scrollPos,r=e.relativeScrollPos;i._scroll(),i.trigger(new u(et.CHANGE_SCROLL,{direction:t,scrollPos:n,relativeScrollPos:r}))},i._onChange=function(e){i.setCursors(e.nextStartCursor,e.nextEndCursor)},i._onRendererUpdated=function(e){if(e.items.forEach((function(e){e.orgItem.element=e.element})),!e.isChanged)return i._checkEndLoading(),void i._scroll();var t=e.diffResult,n=t.added,r=t.removed,o=t.prevList,s=t.list;r.forEach((function(e){var t=o[e].orgItem;t.mountState!==X.UNCHECKED&&(t.mountState=X.UNMOUNTED)}));var a=i.options.horizontal,u=n.map((function(e){var t=s[e].orgItem,n=t.element;if(t.type===qe.VIRTUAL){var i=Ae({},t.cssRect),r=t.rect;return!i.width&&r.width&&(i.width=r.width),!i.height&&r.height&&(i.height=r.height),new Re(a,{element:n,cssRect:i})}return t})),c=i.containerManager;i.options.observeChildren&&(c.unobserveChildren(r.map((function(e){return o[e].element}))),c.observeChildren(n.map((function(e){return s[e].element}))));var h=e.state,l=h.isRestore,f=h.isResize;i.itemRenderer.renderItems(u),l&&i._onRenderComplete({mounted:n.map((function(e){return s[e].orgItem})),updated:[],isResize:!1,direction:i.defaultDirection}),(!l||f||e.isItemChanged)&&i.groupManager.renderItems()},i._onResize=function(e){if(e.isResizeContainer)i._renderItems({useResize:!0},!0);else{var t=re(i.getVisibleItems(),e.childEntries);t.length>0&&i.updateItems(t)}},i._onRequestAppend=function(e){i._onRequestInsert(Je,et.REQUEST_APPEND,e)},i._onRequestPrepend=function(e){i._onRequestInsert(Qe,et.REQUEST_PREPEND,e)},i._onContentError=function(e){var t=e.element,n=e.target,r=e.item,o=e.update;i.trigger(new u(et.CONTENT_ERROR,{element:t,target:n,item:r,update:o,remove:function(){i.removeByKey(r.key)}}))},i._onRenderComplete=function(e){var t=e.isResize,n=e.mounted,r=e.updated,o=e.direction,s=i.infinite,a=i.scrollManager.getRelativeScrollPos(),c=s.getScrollSize(),h=s.getSize(),l=s.getVisibleArea(a,o),f=o===Je;if(i._syncInfinite(),l){var d=l.part,p=l.item,g=void 0,m=void 0;if(d&&(g=s.getItemPartByKey(d.key)),p&&(m=s.getItemByKey(p.key)),g||m){var v=0,y=0;if(g)y=g.pos+(f?0:g.size),v=d.pos+(f?0:d.size);else{var R=Math.min.apply(Math,p.startOutline),S=Math.max.apply(Math,p.endOutline),z=Math.min.apply(Math,m.startOutline),_=Math.max.apply(Math,m.endOutline);y=f?z:_,v=f?R:S}var E=y-v;if(E<0){var I=s.getScrollSize(),C=s.getSize(),O=Math.max(a-Math.max(0,c-h),0);E+=a-(Math.min(a,Math.max(0,I-C))+O)}i.scrollManager.scrollBy(E)}}var P=n.filter((function(e){return e.type!==qe.LOADING}));i.trigger(new u(et.RENDER_COMPLETE,{isResize:t,direction:o,mounted:P,updated:r.filter((function(e){return e.type!==qe.LOADING})),startCursor:i.getStartCursor(),endCursor:i.getEndCursor(),items:i.getVisibleItems(!0),groups:i.getVisibleGroups(!0)}));var b=i.groupManager.shouldRerenderItems();(P.length||r.length)&&(b||(b=!!i.groupManager.endLoading())),b?i._update():(i._checkEndLoading(),i._scroll())},i.options=Ae(Ae(Ae({},i.constructor.defaultOptions),{renderer:(new bt).on("requestUpdate",(function(){return i._render()}))}),n);var r=i.options,o=r.gridConstructor,s=r.containerTag,a=r.container,c=r.renderer,h=r.threshold,l=r.useRecycle,f=r.scrollContainer,d=r.appliedItemChecker,p=Ke(r,["gridConstructor","containerTag","container","renderer","threshold","useRecycle","scrollContainer","appliedItemChecker"]),g=p.horizontal,m=p.attributePrefix,v=p.useTransform,y=p.percentage,R=p.isConstantSize,S=p.isEqualSize,z=p.autoResize,_=p.useResizeObserver,E=p.resizeDebounce,I=p.maxResizeDebounce,C=p.defaultDirection,O=p.useRoundedSize,P=ut(t)?document.querySelector(t):t,b=new Tt(P,{scrollContainer:f,container:a,containerTag:s,horizontal:g}).on({scroll:i._onScroll}),T=b.getContainer(),M=new ve(T,{horizontal:g,autoResize:z,resizeDebounce:E,maxResizeDebounce:I,useResizeObserver:_}).on("resize",i._onResize),w=new ye({attributePrefix:m,horizontal:g,useTransform:v,percentage:y,isEqualSize:S,isConstantSize:R,useRoundedSize:O}),x=new Ot({defaultDirection:C,useRecycle:l,threshold:h}).on({change:i._onChange,requestAppend:i._onRequestAppend,requestPrepend:i._onRequestPrepend});x.setSize(b.getContentSize());var D=new Ct(T,{appliedItemChecker:d,gridConstructor:o,externalItemRenderer:w,externalContainerManager:M,gridOptions:p});return D.on({renderComplete:i._onRenderComplete,contentError:i._onContentError}),c.setContainer(T),c.on("updated",i._onRendererUpdated),i.itemRenderer=w,i.groupManager=D,i.wrapperElement=P,i.scrollManager=b,i.containerManager=M,i.infinite=x,i.containerManager.resize(),i}Ge(t,e);var n=t.prototype;return n.renderItems=function(e){return void 0===e&&(e={}),this._renderItems(e),this},n.getWrapperElement=function(){return this.scrollManager.getWrapper()},n.getScrollContainerElement=function(){return this.scrollManager.getScrollContainer()},n.getContainerElement=function(){return this.scrollManager.getContainer()},n.syncItems=function(e){return this.groupManager.syncItems(e),this._syncGroups(),this},n.setCursors=function(e,t,n){return this.groupManager.setCursors(e,t),this.infinite.setCursors(e,t),n?(this.getVisibleItems().forEach((function(e){e.cssRect.top===it&&(e.cssRect={})})),this._syncItems()):(this._update(),this._checkEndLoading()),this},n.getStartCursor=function(){return this.infinite.getStartCursor()},n.getEndCursor=function(){return this.infinite.getEndCursor()},n.append=function(e,t){return this.insert(-1,e,t)},n.prepend=function(e,t){return this.insert(0,e,t)},n.insert=function(e,t,n){var i=this.groupManager.getGroupItems(),r=yt(t,n);return-1===e?i.push.apply(i,r):i.splice.apply(i,Ue([e,0],r,!1)),this.syncItems(i)},n.insertByGroupIndex=function(e,t,n){var i=this.groupManager.getGroups()[e];if(!i)return this.append(t,n);var r=this.groupManager.getGroupItems(),o=i.groupKey,s=St(r,(function(e){return e.groupKey===o}));return this.insert(s,t,n)},n.getStatus=function(e,t){return{containerManager:this.containerManager.getStatus(),itemRenderer:this.itemRenderer.getStatus(),groupManager:this.groupManager.getGroupStatus(e,t),scrollManager:this.scrollManager.getStatus()}},n.setPlaceholder=function(e){return this.groupManager.setPlaceholder(e),this},n.setLoading=function(e){return this.groupManager.setLoading(e),this},n.appendPlaceholders=function(e,t){var n=this,i=this.groupManager.appendPlaceholders(e,t);return this._syncGroups(!0),Ae(Ae({},i),{remove:function(){n.removePlaceholders({groupKey:i.group.groupKey})}})},n.prependPlaceholders=function(e,t){var n=this,i=this.groupManager.prependPlaceholders(e,t);return this._syncGroups(!0),Ae(Ae({},i),{remove:function(){n.removePlaceholders({groupKey:i.group.groupKey})}})},n.removePlaceholders=function(e){this.groupManager.removePlaceholders(e),this._syncGroups(!0)},n.setStatus=function(e,t){this.itemRenderer.setStatus(e.itemRenderer),this.containerManager.setStatus(e.containerManager),this.scrollManager.setStatus(e.scrollManager);var n=this.groupManager,i=this.containerManager.getInlineSize();n.setGroupStatus(e.groupManager),this._syncInfinite(),this.infinite.setCursors(n.getStartCursor(),n.getEndCursor()),this._getRenderer().updateKey();var r={isResize:this.containerManager.getInlineSize()!==i,isRestore:!0};return t?this._syncItems(r):this._update(r),this},n.removeGroupByIndex=function(e){var t=this.getGroups();return this.removeGroupByKey(t[e].groupKey)},n.removeGroupByKey=function(e){var t=this.getItems(),n=St(t,(function(t){return t.groupKey===e})),i=zt(t,(function(t){return t.groupKey===e}));return-1===n?this:(t.splice(n,i-n+1),this.syncItems(t))},n.removeByIndex=function(e){var t=this.getItems(!0);return t.splice(e,1),this.syncItems(t)},n.removeByKey=function(e){var t=St(this.getItems(!0),(function(t){return t.key===e}));return this.removeByIndex(t)},n.updateItems=function(e,t){return void 0===t&&(t={}),this.groupManager.updateItems(e,t),this},n.getItems=function(e){return this.groupManager.getGroupItems(e)},n.getVisibleItems=function(e){return this.groupManager.getVisibleItems(e)},n.getRenderingItems=function(){return this.groupManager.getRenderingItems()},n.getGroups=function(e){return this.groupManager.getGroups(e)},n.getVisibleGroups=function(e){return this.groupManager.getVisibleGroups(e)},n.wait=function(e){void 0===e&&(e=Je),this._waitType=e,this._checkStartLoading(e)},n.ready=function(e){this._waitType="",e&&(this.groupManager.waitEndLoading(),this.groupManager.endLoading()&&this._update())},n.isWait=function(){return!!this._waitType},n.destroy=function(){this.off(),this._getRenderer().destroy(),this.containerManager.destroy(),this.groupManager.destroy(),this.scrollManager.destroy(),this.infinite.destroy()},n._getRenderer=function(){return this.options.renderer},n._getRendererItems=function(){return this.getRenderingItems().map((function(e){return{element:e.element,key:"".concat(e.type,"_").concat(e.key),orgItem:e}}))},n._syncItems=function(e){this._getRenderer().syncItems(this._getRendererItems(),e)},n._render=function(e){this._getRenderer().render(this._getRendererItems(),e)},n._update=function(e){void 0===e&&(e={}),this._getRenderer().update(e)},n._resizeScroll=function(){var e=this.scrollManager;e.resize(),this.infinite.setSize(e.getContentSize())},n._syncGroups=function(e){var t=this.infinite;this.scrollManager.getContentSize()||this._resizeScroll(),this._syncInfinite(),this.groupManager.setCursors(t.getStartCursor(),t.getEndCursor()),e?this._update():this._render()},n._syncInfinite=function(){this.infinite.syncItems(this.getGroups(!0).map((function(e){var t=e.groupKey,n=e.grid,i=e.type,r=n.getOutlines();return{key:t,isVirtual:i===je.VIRTUAL,startOutline:r.start,endOutline:r.end,parts:n.getItems().map((function(e){return{key:e.key,pos:e.computedContentPos,size:e.computedContentSize}}))}})))},n._scroll=function(){this.infinite.scroll(this.scrollManager.getRelativeScrollPos())},n._onRequestInsert=function(e,t,n){var i=this;this._waitType?this._checkStartLoading(this._waitType):this.trigger(new u(t,{groupKey:n.key,nextGroupKey:n.nextKey,nextGroupKeys:n.nextKeys||[],isVirtual:n.isVirtual,wait:function(){i.wait(e)},ready:function(e){i.ready(e)}}))},n._renderItems=function(e,t){if(void 0===e&&(e={}),!t&&e.useResize&&this.containerManager.resize(),this._resizeScroll(),!this.getRenderingItems().length){var n=Rt(this.getContainerElement().children);return n.length>0?(this.groupManager.syncItems(yt(n)),this._syncInfinite(),this.setCursors(0,0,!0),this._getRenderer().updated()):this.infinite.scroll(0),this}return this.getVisibleGroups(!0).length?this.groupManager.renderItems(e):this.setCursors(0,0),this},n._checkStartLoading=function(e){var t=this.groupManager,n=this.infinite;!t.getLoadingType()&&n.isLoading(e)&&t.startLoading(e)&&t.hasLoadingItem()&&this._update()},n._checkEndLoading=function(){var e=this.groupManager,t=this.groupManager.getLoadingType();!t||this._waitType&&this.infinite.isLoading(t)||!e.waitEndLoading()||!e.hasLoadingItem()||this._update()},t.defaultOptions=Ae(Ae({},te),{container:!1,containerTag:"div",renderer:null,threshold:100,useRecycle:!0,scrollContainer:null,appliedItemChecker:function(){return!1}}),t.propertyTypes=Xe,t=Ve([gt],t)}(a),wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.propertyTypes=Ae(Ae({},Mt.propertyTypes),_e.propertyTypes),t.defaultOptions=Ae(Ae(Ae({},Mt.defaultOptions),_e.defaultOptions),{gridConstructor:_e,appliedItemChecker:function(e,t){return(parseFloat(e.attributes.column)||0)>=t.outlineLength}}),t=Ve([gt],t)}(Mt),xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.propertyTypes=Ae(Ae({},Mt.propertyTypes),Pe.propertyTypes),t.defaultOptions=Ae(Ae(Ae({},Mt.defaultOptions),Pe.defaultOptions),{gridConstructor:Pe}),t=Ve([gt],t)}(Mt),Dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.propertyTypes=Ae(Ae({},Mt.propertyTypes),we.propertyTypes),t.defaultOptions=Ae(Ae(Ae({},Mt.defaultOptions),we.defaultOptions),{gridConstructor:we}),t=Ve([gt],t)}(Mt),Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.propertyTypes=Ae(Ae({},Mt.propertyTypes),Le.propertyTypes),t.defaultOptions=Ae(Ae(Ae({},Mt.defaultOptions),Le.defaultOptions),{gridConstructor:Le}),t=Ve([gt],t)}(Mt),kt=function(){return kt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},kt.apply(this,arguments)};function Nt(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var Gt=["tag","status","useFirstRender","itemBy","groupBy","infoBy"];function At(e,i){var r=i.propertyTypes,o=i.defaultOptions,s={},a=function(e){s[e]=function(t){this.$_grid[e]=t}};for(var u in r)a(u);var c={};return nt.forEach((function(e){c[e]=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=this.$_grid)[e].apply(t,n)}})),c.$_getItemInfos=function(){var e=this.$props,t=this.$slots.default,n=e.itemBy||function(e,t){var n=e.key;return null==n?t:n},i=e.attributePrefix||Mt.defaultOptions.attributePrefix,r=e.groupBy||function(e){var t,n=e.props||(null===(t=e.data)||void 0===t?void 0:t.attrs);return n?n["".concat(i,"groupkey")]:void 0},o=e.infoBy||function(){return{}},s=[];return Array.isArray(t)&&(s=t),"function"==typeof t&&(s=(s=t()).reduce((function(e,t){return(t.patchFlag&&448&t.patchFlag)>0?Nt(Nt([],e,!0),t.children,!0):t?Nt(Nt([],e,!0),[t],!1):e}),[])),s.map((function(e,t){var i=o(e,t)||{},s=i.data,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(i,["data"]);return kt(kt({groupKey:r(e,t),key:n(e,t)},a),{data:kt(kt({},s),{vnode:e})})}))},c.$_getVisibleChildren=function(){var e=this.$props,t="$scopedSlots"in this&&this.$scopedSlots||"$slots"in this&&this.$slots||{},n=t.placeholder,i=t.loading;return pt(this.$_getItemInfos(),{grid:"$_grid"in this?this.$_grid:null,status:e.status,horizontal:e.horizontal,useFirstRender:e.useFirstRender,usePlaceholder:!!t.placeholder,useLoading:!!t.loading}).map((function(e){return e.type===qe.VIRTUAL?n({item:e}):e.type===qe.LOADING?i({item:e}):e.data.vnode}))},c.$_renderContainer=function(e){var t=this.$props,n=this.$_getVisibleChildren(),i=t.container,r=t.containerTag||"div";return!0===i?[e(r,{ref:"containerRef"},n)]:n},t({name:e,props:Nt(Nt([],Gt,!0),Object.keys(o),!0),watch:s,methods:c,emits:Object.keys(et).map((function(e){return et[e]})),render:function(){var e=this.$props.tag||"div";return n(e,{ref:"wrapperRef"},this.$_renderContainer(n))},created:function(){this.$_renderer=new Pt},mounted:function(){var e=this,t=i.defaultOptions,n={},r=this.$props,o=this.$refs.containerRef;for(var s in t)s in r&&void 0!==r[s]&&(n[s]=r[s]);o&&(n.container=o),n.renderer=this.$_renderer;var a=new i(this.$refs.wrapperRef,n),u=function(t){var n=et[t],i=n.replace(/([a-z])([A-Z])/g,(function(e,t,n){return"".concat(t,"-").concat(n.toLowerCase())}));a.on(n,(function(t){e.$emit(i,t)}))};for(var s in et)u(s);this.$_grid=a,this.$_renderer.on("requestUpdate",(function(){e.$forceUpdate()}));var c="$scopedSlots"in this&&this.$scopedSlots||"$slots"in this&&this.$slots||{};!function(e,t){var n=t.grid,i=t.usePlaceholder,r=t.useLoading,o=t.useFirstRender,s=t.status;n&&(i&&n.setPlaceholder({}),r&&n.setLoading({}),s&&n.setStatus(s,!0),n.syncItems(e),o&&!s&&n.getGroups().length&&n.setCursors(0,0,!0))}(this.$_getItemInfos(),{grid:this.$_grid,status:r.status,horizontal:r.horizontal,useFirstRender:r.useFirstRender,usePlaceholder:!!c.placeholder,useLoading:!!c.loading}),this.$_renderer.updated()},updated:function(){this.$_renderer.updated()},beforeUnmount:function(){this.$_grid.destroy()}})}var Kt=At("masonry-infinite-grid",wt),Vt=At("justified-infinite-grid",xt),Ut=At("frame-infinite-grid",Dt),jt=At("packing-infinite-grid",Lt);export{Ut as F,Vt as J,Kt as M,jt as P};
