import{h as e,U as t,i as r,j as s,P as n,S as i,G as o,k as a,l as h,m as d,n as c,o as l,p as u,q as p,r as m,E as f,s as v,t as b,u as g,v as y,w,W as E,x as L,c as S,y as O,D as x,z as k,H as P,O as z,a as j,I as C,J as _,V as N,K as R,L as M}from"./three-DLFuJBtA.js";import{d as A,w as I,i as D,e as F,p as B,C as $}from"./@vue-runtime-core-lkGMyH8G.js";import{t as T}from"./@vue-reactivity-mdokXGQ5.js";function G(e,t,r){t instanceof Object&&Object.entries(t).forEach((([t,s])=>{r?r(e,t,s):e[t]=s}))}function U(e,t,r,s=!0,n){s&&G(r,e[t],n);const i=T(e,t);return F(i,(e=>{G(r,e,n)}))}function W(e,t){t instanceof Object&&Object.entries(t).forEach((([t,r])=>{e[t]=r}))}function H(e,t,r,s){const n=s||t,i=T(e,t);i.value instanceof Object?(W(r[n],i.value),F(i,(e=>{W(r[n],e)}),{deep:!0})):(void 0!==i.value&&(r[n]=e[t]),F(i,(e=>{r[n]=e})))}function V(e,t=[]){const r={};return Object.entries(e).forEach((([e,s])=>{t&&t.includes(e)||(r[e]=s)})),r}function q(e){const{camera:t,domElement:r,intersectObjects:s,intersectRecursive:n=!1,touch:i=!0,resetOnEnd:o=!1,onEnter:a=()=>{},onMove:h=()=>{},onLeave:d=()=>{},onClick:c=()=>{},onIntersectEnter:l=()=>{},onIntersectOver:u=()=>{},onIntersectMove:p=()=>{},onIntersectLeave:m=()=>{},onIntersectClick:f=()=>{}}=e,v=new y(0,0),b=new y(0,0),g=function(e){const{camera:t,resetPosition:r=new N(0,0,0)}=e,s=new R,n=r.clone(),i=new M(new N(0,0,1),0);return{position:n,updatePosition:e=>{s.setFromCamera(e,t),t.getWorldDirection(i.normal),s.ray.intersectPlane(i,n)},intersect:(e,r,n=!1)=>(s.setFromCamera(e,t),s.intersectObjects(r,n))}}({camera:t}),w=g.position,E={position:v,positionN:b,positionV3:w,intersectObjects:s,listeners:!1,addListeners:function(){r.addEventListener("mouseenter",O),r.addEventListener("mousemove",x),r.addEventListener("mouseleave",P),r.addEventListener("click",k),i&&(r.addEventListener("touchstart",O),r.addEventListener("touchmove",x),r.addEventListener("touchend",P));E.listeners=!0},removeListeners:function(){r.removeEventListener("mouseenter",O),r.removeEventListener("mousemove",x),r.removeEventListener("mouseleave",P),r.removeEventListener("click",k),r.removeEventListener("touchstart",O),r.removeEventListener("touchmove",x),r.removeEventListener("touchend",P),E.listeners=!1},intersect:S};return E;function L(e){let t,s;e.touches&&e.touches.length>0?(t=e.touches[0].clientX,s=e.touches[0].clientY):(t=e.clientX,s=e.clientY);const n=r.getBoundingClientRect();v.x=t-n.left,v.y=s-n.top,b.x=v.x/n.width*2-1,b.y=-v.y/n.height*2+1,g.updatePosition(b)}function S(){const e=j();if(e.length){const t=g.intersect(b,e,n),r=[...e],s=[];t.forEach((e=>{var t,n,i;const{object:o}=e,a=z(o);if(o instanceof _){if(-1!==s.indexOf(o))return;s.push(o)}if(!o.userData.over){o.userData.over=!0;const r={type:"pointerover",over:!0,component:a,intersect:e},s={...r,type:"pointerenter"};u(r),l(s),null==(t=null==a?void 0:a.onPointerOver)||t.call(a,r),null==(n=null==a?void 0:a.onPointerEnter)||n.call(a,s)}const h={type:"pointermove",component:a,intersect:e};p(h),null==(i=null==a?void 0:a.onPointerMove)||i.call(a,h),r.splice(r.indexOf(o),1)})),r.forEach((e=>{var t,r;const s=z(e);if(e.userData.over){e.userData.over=!1;const n={type:"pointerover",over:!1,component:s},i={...n,type:"pointerleave"};u(n),m(i),null==(t=null==s?void 0:s.onPointerOver)||t.call(s,n),null==(r=null==s?void 0:s.onPointerLeave)||r.call(s,i)}}))}}function O(e){L(e),a({type:"pointerenter",position:v,positionN:b,positionV3:w})}function x(e){L(e),h({type:"pointermove",position:v,positionN:b,positionV3:w}),S()}function k(e){L(e);const t=j();if(t.length){const e=g.intersect(b,t,n),r=[];e.forEach((e=>{var t;const{object:s}=e,n=z(s);if(s instanceof _){if(-1!==r.indexOf(s))return;r.push(s)}const i={type:"click",component:n,intersect:e};f(i),null==(t=null==n?void 0:n.onClick)||t.call(n,i)}))}c({type:"click",position:v,positionN:b,positionV3:w})}function P(){o&&(v.set(0,0),b.set(0,0),w.set(0,0,0)),d({type:"pointerleave"})}function z(e){if(e.userData.component)return e.userData.component;let t=e.parent;for(;t;){if(t.userData.component)return t.userData.component;t=t.parent}}function j(){return"function"==typeof s?s():s}}function X(e){const t={antialias:!0,alpha:!1,autoClear:!0,orbitCtrl:!1,pointer:!1,resize:!1,width:300,height:150};e&&Object.entries(e).forEach((([e,r])=>{t[e]=r}));const r={width:1,height:1,wWidth:1,wHeight:1,ratio:1},s=[],n=[],i=function(){const e=new E({canvas:t.canvas,antialias:t.antialias,alpha:t.alpha,...t.params});return e.autoClear=t.autoClear,e}(),o={config:t,renderer:i,size:r,init:function(){if(!o.scene)return!1;if(!o.camera)return!1;t.resize?(d(),window.addEventListener("resize",d)):t.width&&t.height&&c(t.width,t.height);if(a(),t.orbitCtrl){const e=new z(o.camera,o.renderer.domElement);t.orbitCtrl instanceof Object&&Object.entries(t.orbitCtrl).forEach((([t,r])=>{e[t]=r})),h((()=>{e.update()})),o.cameraCtrl=e}return!0},dispose:function(){window.removeEventListener("resize",d),o.pointer&&o.pointer.removeListeners();o.cameraCtrl&&o.cameraCtrl.dispose();o.renderer&&o.renderer.dispose()},render:function(){s.forEach((e=>e())),o.renderer.render(o.scene,o.camera)},renderC:function(){s.forEach((e=>e())),o.composer.render()},setSize:c,addIntersectObject:function(e){-1===n.indexOf(e)&&n.push(e);o.pointer&&!o.pointer.listeners&&o.pointer.addListeners()},removeIntersectObject:function(e){const r=n.indexOf(e);-1!==r&&n.splice(r,1);o.pointer&&!t.pointer&&0===n.length&&o.pointer.removeListeners()}};return o;function a(){let e={camera:o.camera,domElement:o.renderer.domElement,intersectObjects:n};t.pointer&&t.pointer instanceof Object&&(e={...e,...t.pointer});const r=o.pointer=q(e);(t.pointer||n.length)&&(r.addListeners(),"frame"===e.intersectMode&&h(r.intersect))}function h(e){s.push(e)}function d(){var e;if("window"===t.resize)c(window.innerWidth,window.innerHeight);else{const e=o.renderer.domElement.parentNode;e&&c(e.clientWidth,e.clientHeight)}null==(e=t.onResize)||e.call(t,r)}function c(e,t){r.width=e,r.height=t,r.ratio=e/t,o.renderer.setSize(e,t,!1);const s=o.camera;if("PerspectiveCamera"===s.type){const e=s;e.aspect=r.ratio,e.updateProjectionMatrix()}if("OrthographicCamera"===s.type){const e=s;r.wWidth=e.right-e.left,r.wHeight=e.top-e.bottom}else{const e=function(){const e=o.camera,t=e.fov*Math.PI/180,r=2*Math.tan(t/2)*Math.abs(e.position.z),s=r*e.aspect;return[s,r]}();r.wWidth=e[0],r.wHeight=e[1]}}}const Y=Symbol("Renderer");var Z=A({name:"Renderer",props:{params:{type:Object,default:()=>({})},antialias:Boolean,alpha:Boolean,autoClear:{type:Boolean,default:!0},orbitCtrl:{type:[Boolean,Object],default:!1},pointer:{type:[Boolean,Object],default:!1},resize:{type:[Boolean,String],default:!1},shadow:Boolean,width:String,height:String,pixelRatio:Number,xr:Boolean,props:{type:Object,default:()=>({})},onReady:Function},inheritAttrs:!1,setup(e,{attrs:t}){const r=document.createElement("canvas");Object.entries(t).forEach((([e,t])=>{const s=e.match(/^on([A-Z][a-zA-Z]*)$/);s?r.addEventListener(s[1].toLowerCase(),t):r.setAttribute(e,t)}));const s={canvas:r,params:e.params,antialias:e.antialias,alpha:e.alpha,autoClear:e.autoClear,orbitCtrl:e.orbitCtrl,pointer:e.pointer,resize:e.resize};e.width&&(s.width=parseInt(e.width)),e.height&&(s.height=parseInt(e.height));const n=X(s);U(e,"props",n.renderer),I((()=>{e.pixelRatio&&n.renderer.setPixelRatio(e.pixelRatio)}));return{canvas:r,three:n,renderer:n.renderer,size:n.size,renderFn:()=>{},raf:!0,initCallbacks:[],mountedCallbacks:[],beforeRenderCallbacks:[],afterRenderCallbacks:[],resizeCallbacks:[]}},computed:{camera:{get:function(){return this.three.camera},set:function(e){this.three.camera=e}},scene:{get:function(){return this.three.scene},set:function(e){this.three.scene=e}},composer:{get:function(){return this.three.composer},set:function(e){this.three.composer=e}}},provide(){return{[Y]:this}},mounted(){var e;this.$el.parentNode.insertBefore(this.canvas,this.$el),this.three.init()&&(this.three.pointer&&(this.$pointer=this.three.pointer),this.three.config.onResize=e=>{this.resizeCallbacks.forEach((t=>t({type:"resize",renderer:this,size:e})))},this.shadow&&(this.renderer.shadowMap.enabled=!0),this.renderFn=this.three.composer?this.three.renderC:this.three.render,this.initCallbacks.forEach((e=>e({type:"init",renderer:this}))),null==(e=this.onReady)||e.call(this,this),this.xr?(this.renderer.xr.enabled=!0,this.renderer.setAnimationLoop(this.render)):requestAnimationFrame(this.renderLoop)),this.mountedCallbacks.forEach((e=>e({type:"mounted",renderer:this})))},beforeUnmount(){this.canvas.remove(),this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[],this.raf=!1,this.three.dispose()},methods:{onInit(e){this.addListener("init",e)},onMounted(e){this.addListener("mounted",e)},onBeforeRender(e){this.addListener("beforerender",e)},offBeforeRender(e){this.removeListener("beforerender",e)},onAfterRender(e){this.addListener("afterrender",e)},offAfterRender(e){this.removeListener("afterrender",e)},onResize(e){this.addListener("resize",e)},offResize(e){this.removeListener("resize",e)},addListener(e,t){this.getCallbacks(e).push(t)},removeListener(e,t){const r=this.getCallbacks(e),s=r.indexOf(t);-1!==s&&r.splice(s,1)},getCallbacks(e){return"init"===e?this.initCallbacks:"mounted"===e?this.mountedCallbacks:"beforerender"===e?this.beforeRenderCallbacks:"afterrender"===e?this.afterRenderCallbacks:this.resizeCallbacks},render(e){this.beforeRenderCallbacks.forEach((t=>t({type:"beforerender",renderer:this,time:e}))),this.renderFn({renderer:this,time:e}),this.afterRenderCallbacks.forEach((t=>t({type:"afterrender",renderer:this,time:e})))},renderLoop(e){this.raf&&requestAnimationFrame(this.renderLoop),this.render(e)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Renderer"}),J=A({props:{props:{type:Object,default:()=>({})}},render(){return this.$slots.default?this.$slots.default():[]}});function K(e,t,r,s=!0){e[t]=r,s&&e.updateProjectionMatrix()}var Q=A({extends:J,name:"PerspectiveCamera",props:{aspect:{type:Number,default:1},far:{type:Number,default:2e3},fov:{type:Number,default:50},near:{type:Number,default:.1},position:{type:Object,default:()=>({x:0,y:0,z:0})},lookAt:{type:Object,default:null}},setup(e){var t;const r=D(Y);if(!r)return;const s=new n(e.fov,e.aspect,e.near,e.far);return r.camera=s,H(e,"position",s),e.lookAt&&s.lookAt(null!=(t=e.lookAt.x)?t:0,e.lookAt.y,e.lookAt.z),F((()=>e.lookAt),(e=>{var t;s.lookAt(null!=(t=e.x)?t:0,e.y,e.z)}),{deep:!0}),U(e,"props",s,!0,K),["aspect","far","fov","near"].forEach((t=>{F((()=>e[t]),(e=>{K(s,t,e)}))})),{renderer:r,camera:s}},__hmrId:"PerspectiveCamera"});const ee=Symbol("Scene");var te=A({name:"Scene",props:{background:[String,Number,Object]},setup(e){const t=D(Y),r=new i;if(!t)return;t.scene=r,B(ee,r);const n=e=>{e&&("string"==typeof e||"number"==typeof e?r.background instanceof s?r.background.set(e):r.background=new s(e):e instanceof L&&(r.background=e))};n(e.background),F((()=>e.background),n);return{scene:r,add:e=>{r.add(e)},remove:e=>{r.remove(e)}}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Scene"});var re=A({name:"Object3D",inject:{renderer:Y,scene:ee},emits:["created","ready"],props:{position:{type:Object,default:()=>({x:0,y:0,z:0})},rotation:{type:Object,default:()=>({x:0,y:0,z:0})},scale:{type:Object,default:()=>({x:1,y:1,z:1,order:"XYZ"})},lookAt:{type:Object,default:null},userData:{type:Object,default:()=>({})},visible:{type:Boolean,default:!0},props:{type:Object,default:()=>({})},disableAdd:{type:Boolean,default:!1},disableRemove:{type:Boolean,default:!1},...{onPointerEnter:Function,onPointerOver:Function,onPointerMove:Function,onPointerLeave:Function,onPointerDown:Function,onPointerUp:Function,onClick:Function}},setup:()=>({}),created(){this.renderer,this.scene},unmounted(){this.disableRemove||this.removeFromParent(),this.o3d&&this.renderer&&this.renderer.three.removeIntersectObject(this.o3d)},methods:{initObject3D(e){var t;this.o3d=e,e.userData.component=this,(this.onPointerEnter||this.onPointerOver||this.onPointerMove||this.onPointerLeave||this.onPointerDown||this.onPointerUp||this.onClick)&&this.renderer&&this.renderer.three.addIntersectObject(e),H(this,"position",e),H(this,"rotation",e),H(this,"scale",e),H(this,"userData",e.userData),H(this,"visible",e),U(this,"props",e),this.$emit("created",e),this.lookAt&&e.lookAt(null!=(t=this.lookAt.x)?t:0,this.lookAt.y,this.lookAt.z),F((()=>this.lookAt),(t=>{var r;e.lookAt(null!=(r=t.x)?r:0,t.y,t.z)}),{deep:!0}),this.parent=this.getParent(),this.disableAdd||this.addToParent()&&this.$emit("ready",this)},getParent(){let e=this.$parent;if(!e){const t=$();t&&t.parent&&(e=t.parent.ctx)}for(;e;){if(e.add)return e;e=e.$parent}},addToParent(e){const t=e||this.o3d;return!!this.parent&&(this.parent.add(t),!0)},removeFromParent(e){const t=e||this.o3d;return!!this.parent&&(this.parent.remove(t),!0)},add(e){var t;null==(t=this.o3d)||t.add(e)},remove(e){var t;null==(t=this.o3d)||t.remove(e)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Object3D"}),se=A({name:"Group",extends:re,setup:()=>({group:new o}),created(){this.initObject3D(this.group)},__hmrId:"Group"});const ne=Symbol("Mesh"),ie=A({name:"Mesh",extends:re,props:{castShadow:Boolean,receiveShadow:Boolean},setup:()=>({}),provide(){return{[ne]:this}},mounted(){this.mesh||this.loading||this.initMesh()},methods:{initMesh(){const e=new S(this.geometry,this.material);H(this,"castShadow",e),H(this,"receiveShadow",e),this.mesh=e,this.initObject3D(e)},createGeometry(){},addGeometryWatchers(e){Object.keys(e).forEach((e=>{F((()=>this[e]),(()=>{this.refreshGeometry()}))}))},setGeometry(e){this.geometry=e,this.mesh&&(this.mesh.geometry=e)},setMaterial(e){this.material=e,this.mesh&&(this.mesh.material=e)},refreshGeometry(){const e=this.geometry;this.createGeometry(),this.mesh&&this.geometry&&(this.mesh.geometry=this.geometry),null==e||e.dispose()}},unmounted(){this.geometry&&this.geometry.dispose(),this.material&&this.material.dispose()},__hmrId:"Mesh"});function oe(e,t,r){return A({name:e,extends:ie,props:t,created(){this.createGeometry(),this.addGeometryWatchers(t)},methods:{createGeometry(){this.geometry=r(this)}}})}const ae={width:{type:Number,default:1},height:{type:Number,default:1},widthSegments:{type:Number,default:1},heightSegments:{type:Number,default:1}};const he={radius:{type:Number,default:1},widthSegments:{type:Number,default:12},heightSegments:{type:Number,default:12},phiStart:{type:Number,default:0},phiLength:{type:Number,default:2*Math.PI},thetaStart:{type:Number,default:0},thetaLength:{type:Number,default:Math.PI}};var de=A({extends:re,name:"Light",props:{color:{type:String,default:"#ffffff"},intensity:{type:Number,default:1},castShadow:{type:Boolean,default:!1},shadowMapSize:{type:Object,default:()=>({x:512,y:512})},shadowCamera:{type:Object,default:()=>({})}},setup:()=>({}),unmounted(){(this.light instanceof O||this.light instanceof x)&&this.removeFromParent(this.light.target)},methods:{initLight(e){this.light=e,e.shadow&&(e.castShadow=this.castShadow,W(e.shadow.mapSize,this.shadowMapSize),W(e.shadow.camera,this.shadowCamera)),["color","intensity","castShadow"].forEach((t=>{F((()=>this[t]),(r=>{"color"===t?e.color.set(r):e[t]=r}))})),this.initObject3D(e),(e instanceof O||e instanceof x)&&(H(this,"target",e.target,"position"),this.addToParent(e.target))}},__hmrId:"Light"}),ce=A({extends:de,props:{distance:{type:Number,default:0},decay:{type:Number,default:1}},created(){this.initLight(new a(this.color,this.intensity,this.distance,this.decay))},__hmrId:"PointLight"}),le=A({extends:de,props:{width:{type:Number,default:10},height:{type:Number,default:10},helper:Boolean},created(){h.init();const e=new d(this.color,this.intensity,this.width,this.height);if(["width","height"].forEach((t=>{F((()=>this[t]),(r=>{e[t]=r}))})),this.helper){const t=new c(e);e.add(t)}this.initLight(e)},__hmrId:"RectAreaLight"});const ue=Symbol("Material"),pe=A({emits:["created"],props:{color:{type:String,default:"#ffffff"},props:{type:Object,default:()=>({})}},inject:{mesh:ne},setup:()=>({}),provide(){return{[ue]:this}},created(){if(this.mesh&&this.createMaterial){const e=this.material=this.createMaterial();F((()=>this.color),(t=>{e.color.set(t)})),U(this,"props",e,!1,this.setProp),this.$emit("created",e),this.mesh.setMaterial(e)}},unmounted(){var e;null==(e=this.material)||e.dispose()},methods:{getMaterialParams(){return{...V(this.$props,["props"]),...this.props}},setProp(e,t,r,n=!1){const i=e[t];i instanceof s?i.set(r):e[t]=r,e.needsUpdate=n},setTexture(e,t="map"){this.setProp(this.material,t,e,!0)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Material"});function me(e,t,r){return A({name:e,extends:pe,props:t,methods:{createMaterial(){return r(this.getMaterialParams())}}})}const fe=me("PhongMaterial",{props:{type:Object,default:()=>({})}},(e=>new k(e))),ve=me("StandardMaterial",{props:{type:Object,default:()=>({})}},(e=>new P(e)));e.meshphong_frag.slice(0,e.meshphong_frag.indexOf("void main() {"));const be=e.meshphong_frag.slice(e.meshphong_frag.indexOf("void main() {"));var ge,ye,we;t.merge([r.phong.uniforms,{thicknessColor:{value:new s(16777215)},thicknessDistortion:{value:.1},thicknessAmbient:{value:0},thicknessAttenuation:{value:.1},thicknessPower:{value:2},thicknessScale:{value:10}}]),e.meshphong_vert,be.replace("#include <lights_fragment_begin>",(ge=e.lights_fragment_begin,ye="RE_Direct( directLight, geometry, material, reflectedLight );",we="\n        RE_Direct( directLight, geometry, material, reflectedLight );\n        #if defined( SUBSURFACE ) && defined( USE_UV )\n          RE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);\n        #endif\n      ",ge.split(ye).join(we)));var Ee=A({inject:{material:ue},props:{name:{type:String,default:"map"},uniform:String,src:String,onLoad:Function,onProgress:Function,onError:Function,props:{type:Object,default:()=>({})}},setup:()=>({}),created(){this.refreshTexture(),F((()=>this.src),this.refreshTexture)},unmounted(){var e,t;null==(e=this.material)||e.setTexture(null,this.name),null==(t=this.texture)||t.dispose()},methods:{createTexture(){if(this.src)return(new l).load(this.src,this.onLoaded,this.onProgress,this.onError)},initTexture(){this.texture&&(U(this,"props",this.texture),this.material&&(this.material.setTexture(this.texture,this.name),this.material.material instanceof u&&this.uniform&&(this.material.material.uniforms[this.uniform]={value:this.texture})))},refreshTexture(){var e;null==(e=this.texture)||e.dispose(),this.texture=this.createTexture(),this.initTexture()},onLoaded(e){var t;null==(t=this.onLoad)||t.call(this,e)}},render:()=>[]}),Le=oe("Plane",ae,(function(e){return new j(e.width,e.height,e.widthSegments,e.heightSegments)})),Se=oe("Sphere",he,(function(e){return new C(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}));const Oe={text:{type:String,required:!0,default:"Text"},fontSrc:{type:String,required:!0},size:{type:Number,default:80},height:{type:Number,default:5},depth:{type:Number,default:1},curveSegments:{type:Number,default:12},bevelEnabled:{type:Boolean,default:!1},bevelThickness:{type:Number,default:10},bevelSize:{type:Number,default:8},bevelOffset:{type:Number,default:0},bevelSegments:{type:Number,default:5},align:{type:[Boolean,String],default:!1}};var xe=A({extends:ie,props:Oe,setup:()=>({}),created(){if(!this.fontSrc)return;["text","size","height","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","align"].forEach((e=>{F((()=>this[e]),(()=>{this.font&&this.refreshGeometry()}))}));const e=new p;this.loading=!0,e.load(this.fontSrc,(e=>{this.loading=!1,this.font=e,this.createGeometry(),this.initMesh()}))},methods:{createGeometry(){this.geometry=new m(this.text,{font:this.font,size:this.size,height:this.height,depth:this.depth,curveSegments:this.curveSegments,bevelEnabled:this.bevelEnabled,bevelThickness:this.bevelThickness,bevelSize:this.bevelSize,bevelOffset:this.bevelOffset,bevelSegments:this.bevelSegments}),"center"===this.align&&this.geometry.center()}}});const ke=Symbol("Composer");var Pe=A({setup:()=>({renderer:D(Y)}),provide(){return{[ke]:this}},created(){if(!this.renderer)return;const e=this.renderer,t=new f(this.renderer.renderer);this.composer=t,this.renderer.composer=t,e.addListener("init",(()=>{e.renderer.autoClear=!1,this.resize(),e.addListener("resize",this.resize)}))},unmounted(){var e;null==(e=this.renderer)||e.removeListener("resize",this.resize)},methods:{addPass(e){var t;null==(t=this.composer)||t.addPass(e)},removePass(e){var t;null==(t=this.composer)||t.removePass(e)},resize(){this.composer&&this.renderer&&this.composer.setSize(this.renderer.size.width,this.renderer.size.height)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"EffectComposer"}),ze=A({inject:{renderer:Y,composer:ke},emits:["ready"],setup:()=>({}),created(){this.composer,this.renderer},unmounted(){var e,t,r;this.pass&&(null==(e=this.composer)||e.removePass(this.pass),null==(r=(t=this.pass).dispose)||r.call(t))},methods:{initEffectPass(e){var t;this.pass=e,null==(t=this.composer)||t.addPass(e),this.$emit("ready",e)}},render:()=>[],__hmrId:"EffectPass"}),je=A({extends:ze,created(){if(!this.renderer)return;if(!this.renderer.scene)return;if(!this.renderer.camera)return;const e=new v(this.renderer.scene,this.renderer.camera);this.initEffectPass(e)},__hmrId:"RenderPass"}),Ce=A({extends:ze,created(){var e;const t=new b(g);null==(e=this.renderer)||e.addListener("resize",this.resize),this.initEffectPass(t)},unmounted(){var e;null==(e=this.renderer)||e.removeListener("resize",this.resize)},methods:{resize({size:e}){if(this.pass){const{resolution:t}=this.pass.material.uniforms;t.value.x=1/e.width,t.value.y=1/e.height}}},__hmrId:"FXAAPass"});const _e={strength:{type:Number,default:1.5},radius:{type:Number,default:0},threshold:{type:Number,default:0}};var Ne=A({extends:ze,props:_e,created(){if(!this.renderer)return;const e=new y(this.renderer.size.width,this.renderer.size.height),t=new w(e,this.strength,this.radius,this.threshold);Object.keys(_e).forEach((e=>{F((()=>this[e]),(r=>{t.uniforms[e].value=r}))})),this.initEffectPass(t)},__hmrId:"UnrealBloomPass"});export{Pe as E,Ce as F,se as G,Q as P,Z as R,te as S,xe as T,Ne as U,fe as a,Le as b,ce as c,le as d,je as e,Se as f,ve as g,Ee as h};
