import{r as e}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{e as l,o as t,t as a,j as i,P as o,F as s}from"../../../../../@vue-runtime-core-lkGMyH8G.js";const n={name:"ImageType",props:{loading:{type:Boolean,default:!0},htmlMD:{type:String,default:""}},emits:["imageLoad"],setup(i,{emit:o}){let s=null;const n=e(1),r=e(!1),d=e=>{r.value&&27===e.keyCode&&(r.value=!1)};return l((()=>i.loading),(e=>{r.value=!1,n.value=1,clearInterval(s),e&&(s=setInterval((()=>{n.value++}),1e3))})),t((()=>{document.addEventListener("keydown",d)})),a((()=>{clearInterval(s),document.removeEventListener("keydown",d)})),{imageloadingTime:n,showPopup:r,imageLoad:()=>{clearInterval(s),n.value=0,o("imageLoad",!1)}}},render(){return i(s,null,[i("div",{class:"pl-[30px] pr-[30px] py-[30px] box-border w-[100%]"},[i("div",{class:"cursor-pointer hover:underline",onClick:()=>{this.showPopup=!0}},[o("预览 / 点击查看详情")]),i("div",{class:"mt-[20px] flex"},[i("div",{style:this.loading?{display:"none"}:{},class:"max-w-[200px] cursor-pointer relative overflow-hidden p-[10px] rounded-[10px]",onClick:()=>{this.showPopup=!0}},[i("img",{class:"block w-full relative z-[3]",title:this.htmlMD,onLoad:this.imageLoad,onError:this.imageLoad,src:this.htmlMD,alt:this.htmlMD},null)]),i("div",{style:this.loading?{}:{display:"none"}},[i("div",null,[o("github响应有点慢，莫急,已加载"),this.imageloadingTime,o("秒")]),i("div",{class:"loading"},[o("φ(≧ω≦*)♪图片正在努力加载中")])])])]),this.showPopup?i("div",{className:"fixed left-[0] top-[0] w-[100vw] h-[100vh] overflow-auto z-[100] bg-[rgba(0,_0,_0,_0.7)] flex items-center justify-center",onClick:()=>{this.showPopup=!1}},[i("img",{class:"max-w-[90%]",src:this.htmlMD,alt:this.htmlMD},null)]):null])}};export{n as _};
