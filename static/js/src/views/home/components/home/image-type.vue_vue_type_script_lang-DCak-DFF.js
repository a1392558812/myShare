import{j as e,P as l,F as t,e as a,o as i,y as o}from"../../../../../@vue-runtime-core-DQcPG1cz.js";import{r as s}from"../../../../../@vue-reactivity-v2zUdFSg.js";const n={name:"ImageType",props:{loading:{type:Boolean,default:!0},htmlMD:{type:String,default:""}},emits:["imageLoad"],setup(e,{emit:l}){let t=null;const n=s(1),r=s(!1),d=e=>{r.value&&27===e.keyCode&&(r.value=!1)};return a((()=>e.loading),(e=>{r.value=!1,n.value=1,clearInterval(t),e&&(t=setInterval((()=>{n.value++}),1e3))})),i((()=>{document.addEventListener("keydown",d)})),o((()=>{clearInterval(t),document.removeEventListener("keydown",d)})),{imageloadingTime:n,showPopup:r,imageLoad:()=>{clearInterval(t),n.value=0,l("imageLoad",!1)}}},render(){return e(t,null,[e("div",{class:"pl-[30px] pr-[30px] py-[30px] box-border w-[100%]"},[e("div",{class:"cursor-pointer hover:underline",onClick:()=>{this.showPopup=!0}},[l("预览 / 点击查看详情")]),e("div",{class:"mt-[20px] flex"},[e("div",{style:this.loading?{display:"none"}:{},class:"max-w-[200px] cursor-pointer relative overflow-hidden p-[10px] rounded-[10px]",onClick:()=>{this.showPopup=!0}},[e("img",{class:"block w-full relative z-[3]",title:this.htmlMD,onLoad:this.imageLoad,onError:this.imageLoad,src:this.htmlMD,alt:this.htmlMD},null)]),e("div",{style:this.loading?{}:{display:"none"}},[e("div",null,[l("github响应有点慢，莫急,已加载"),this.imageloadingTime,l("秒")]),e("div",{class:"loading"},[l("φ(≧ω≦*)♪图片正在努力加载中")])])])]),this.showPopup?e("div",{className:"fixed left-[0] top-[0] w-[100vw] h-[100vh] overflow-auto z-[100] bg-[rgba(0,_0,_0,_0.7)] flex items-center justify-center",onClick:()=>{this.showPopup=!1}},[e("img",{class:"max-w-[90%]",src:this.htmlMD,alt:this.htmlMD},null)]):null])}};export{n as _};
