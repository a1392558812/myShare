import{u as e,a as t}from"../../../vue-router-DBqTrJEm.js";import{u as o}from"../../../vuex-C9rRLaBQ.js";import{l as s}from"../../components/left-sidebar/index-COEZzOFJ.js";import{l as r}from"../../common/props/left-sidebar-props/index-Cvo_KCZG.js";import{l as a}from"../../components/left-sidebar/components/link-tag-V73iQm_N.js";import{c as i}from"../../store/actionType-CNHuB-Of.js";import{b as l,e as n,U as p,m,a as c,g as u,j as d,l as f,F as x,q as v,s as h,c as g,P as b}from"../../../@vue-runtime-core-lkGMyH8G.js";import{r as j}from"../../../@vue-reactivity-mdokXGQ5.js";import{k as y}from"../../../@vue-shared-LkD7rn4X.js";import"../../../@vue-devtools-api-CFGE8QBr.js";import"../../components/left-sidebar/index.vue_vue_type_script_lang-CAZBCQVB.js";import"../../../@vue-runtime-dom-Dkxbnx-0.js";import"../../../@better-scroll-yEU79_0X.js";import"../../common/util/debounce-CNl5k4zp.js";import"../../components/left-sidebar/components/left-sidebar-item-rX2ZajyK.js";import"../../components/left-sidebar/components/left-sidebar-item.vue_vue_type_script_lang-N8m5Gsoa.js";import"../../../plugin-vue_export-helper-BCo6x5W8.js";import"../../components/commonm-btn/index-hUJDFDzu.js";import"../../components/left-sidebar/components/left-sidebar-search-BScumNLs.js";import"../../../@vueuse-CzS49P4w.js";const w={style:{color:"var(--global-text-color)"},class:"bg-style relative w-[100%] h-[100%] flex flex-row"},k={key:0,class:"w-[100%] h-[100%] flex flex-col"},_={class:"px-[0] py-[20px] text-[25px] [border-bottom:1px_solid_var(--global-border-color)] w-[100%] flex items-center justify-center"},q={class:"flex items-baseline"},P=f("p",{style:{"margin-right":"10px"}},"搜索结果",-1),R={class:"text-[13px] text-[#999999]"},C={class:"overflow-y-scroll pl-[10px] pr-[10px] py-[30px] flex-1"},L=["href","onClick"],I=Object.assign({name:"view-search"},{__name:"index",props:r,setup(r){const I=o(),M=e(),U=t(),D=l((()=>I.state.menuData.menuList)),O=j([]);let S=decodeURI(M.query.key);const E=e=>{U.push({path:"/",query:{indexPage:e.indexPage}})};return n(M,(()=>{I.dispatch(i).then((()=>{(()=>{if(S=decodeURI(M.query.key),""===S)return void(O.value=[{name:"请输入关键字",noResult:!0}]);const e=[],t=o=>{o.forEach((o=>{o.children?t(o.children):-1!==o.name.trim().toLowerCase().indexOf(S.trim().toLowerCase())&&e.push(o)}))};t(D.value),O.value=e.length?e:[{name:"暂无搜索结果",noResult:!0}]})()}))}),{immediate:!0}),(e,t)=>{const o=p("loading");return m((c(),u("div",w,[d(s,{"left-sidebar-w":e.leftSidebarW,"if-show-menu":e.ifShowMenu,"if-larger":e.ifLarger,"header-h":e.headerH,"toggle-menu":e.toggleMenu,onItemClick:E},null,8,["left-sidebar-w","if-show-menu","if-larger","header-h","toggle-menu"]),D.value.length?(c(),u("div",k,[f("div",_,[f("div",q,[P,f("p",R,"(共计"+y(O.value.length)+"条)",1)])]),f("ul",C,[(c(!0),u(x,null,v(O.value,((e,t)=>(c(),u("li",{key:t,class:"text-[16px] px-[20px] py-[10px]"},[f("a",{class:"text-[var(--global-text-color)] hover:text-[var(--global-primary-color)] hover:underline cursor-pointer",href:`/#/?indexPage=${e.indexPage}`,onClick:function(t){((e,t)=>{if(t.preventDefault(),!e.noResult)e.link?window.open(e.link):U.push({path:"/",query:{indexPage:e.indexPage}})})(e,t)}},[e.link?(c(),g(a,{key:0,class:"inline"})):h("",!0),b(" "+y(e.name),1)],8,L)])))),128))])])):h("",!0)])),[[o,!D.value.length]])}}});export{I as default};
