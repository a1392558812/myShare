import{u as e,a as s}from"../../../vue-router-DBqTrJEm.js";import{u as t}from"../../../vuex-C9rRLaBQ.js";import{l as a}from"../../components/left-sidebar/index-COEZzOFJ.js";import{l as o}from"../../common/props/left-sidebar-props/index-Cvo_KCZG.js";import{l as r}from"../../components/left-sidebar/components/link-tag-V73iQm_N.js";import{c as i}from"../../store/actionType-CNHuB-Of.js";import{_ as n}from"../../../plugin-vue_export-helper-BCo6x5W8.js";import{b as l,e as m,U as c,m as p,a as u,g as d,j as f,l as h,F as v,q as g,s as x,c as j,P as b,x as y,y as w}from"../../../@vue-runtime-core-lkGMyH8G.js";import{r as _}from"../../../@vue-reactivity-mdokXGQ5.js";import{k}from"../../../@vue-shared-LkD7rn4X.js";import"../../../@vue-devtools-api-CFGE8QBr.js";import"../../components/left-sidebar/index.vue_vue_type_script_lang-CAZBCQVB.js";import"../../../@vue-runtime-dom-Dkxbnx-0.js";import"../../../@better-scroll-yEU79_0X.js";import"../../common/util/debounce-CNl5k4zp.js";import"../../components/left-sidebar/components/left-sidebar-item-rX2ZajyK.js";import"../../components/left-sidebar/components/left-sidebar-item.vue_vue_type_script_lang-N8m5Gsoa.js";import"../../components/commonm-btn/index-hUJDFDzu.js";import"../../components/left-sidebar/components/left-sidebar-search-BScumNLs.js";import"../../../@vueuse-CzS49P4w.js";const q={style:{color:"var(--global-text-color)"},class:"bg-style relative w-[100%] h-[100%] flex flex-row"},P={key:0,class:"w-[100%] h-[100%] flex flex-col"},R={class:"search-title w-[100%] flex items-center justify-center"},C={class:"flex items-baseline"},L=(e=>(y("data-v-347d1575"),e=e(),w(),e))((()=>h("p",{style:{"margin-right":"10px"}},"搜索结果",-1))),I={class:"search-total"},M={class:"search-content flex-1"},U=["href","onClick"],D=n(Object.assign({name:"view-search"},{__name:"index",props:o,setup(o){const n=t(),y=e(),w=s(),D=l((()=>n.state.menuData.menuList)),O=_([]);let S=decodeURI(y.query.key);const E=e=>{w.push({path:"/",query:{indexPage:e.indexPage}})};return m(y,(()=>{n.dispatch(i).then((()=>{(()=>{if(S=decodeURI(y.query.key),""===S)return void(O.value=[{name:"请输入关键字",noResult:!0}]);const e=[],s=t=>{t.forEach((t=>{t.children?s(t.children):-1!==t.name.trim().toLowerCase().indexOf(S.trim().toLowerCase())&&e.push(t)}))};s(D.value),O.value=e.length?e:[{name:"暂无搜索结果",noResult:!0}]})()}))}),{immediate:!0}),(e,s)=>{const t=c("loading");return p((u(),d("div",q,[f(a,{"left-sidebar-w":e.leftSidebarW,"if-show-menu":e.ifShowMenu,"if-larger":e.ifLarger,"header-h":e.headerH,"toggle-menu":e.toggleMenu,onItemClick:E},null,8,["left-sidebar-w","if-show-menu","if-larger","header-h","toggle-menu"]),D.value.length?(u(),d("div",P,[h("div",R,[h("div",C,[L,h("p",I,"(共计"+k(O.value.length)+"条)",1)])]),h("ul",M,[(u(!0),d(v,null,g(O.value,((e,s)=>(u(),d("li",{key:s,class:"search-item"},[h("a",{class:"search-item-label cursor-pointer",href:`/#/?indexPage=${e.indexPage}`,onClick:function(s){((e,s)=>{if(s.preventDefault(),!e.noResult)e.link?window.open(e.link):w.push({path:"/",query:{indexPage:e.indexPage}})})(e,s)}},[e.link?(u(),j(r,{key:0,class:"inline"})):x("",!0),b(" "+k(e.name),1)],8,U)])))),128))])])):x("",!0)])),[[t,!D.value.length]])}}}),[["__scopeId","data-v-347d1575"]]);export{D as default};
