import{u as e,a as t}from"../../../vue-router-DBqTrJEm.js";import{u as s}from"../../../vuex-C9rRLaBQ.js";import{l as i}from"../../components/left-sidebar/index-DDc0eXkL.js";import{l as a}from"../../common/props/left-sidebar-props/index-Cvo_KCZG.js";import{l as o}from"../../components/left-sidebar/components/link-tag-B8JQ9hb0.js";import{c as r}from"../../store/actionType-CNHuB-Of.js";import{_ as n}from"../../../plugin-vue_export-helper-BCo6x5W8.js";import{b as l,e as m,U as c,m as p,a as u,g as d,j as f,l as h,F as g,q as v,s as x,c as b,P as j,x as y,y as w}from"../../../@vue-runtime-core-lkGMyH8G.js";import{r as _}from"../../../@vue-reactivity-mdokXGQ5.js";import{k}from"../../../@vue-shared-LkD7rn4X.js";import"../../../@vue-devtools-api-CFGE8QBr.js";import"../../components/left-sidebar/index.vue_vue_type_script_lang-Ds4qu1Tm.js";import"../../../@vue-runtime-dom-Dkxbnx-0.js";import"../../../@better-scroll-yEU79_0X.js";import"../../common/util/debounce-CNl5k4zp.js";import"../../components/left-sidebar/components/left-sidebar-item-BJuW53he.js";import"../../components/left-sidebar/components/left-sidebar-item.vue_vue_type_script_lang-DRTV9SzG.js";import"../../components/commonm-btn/index-hUJDFDzu.js";import"../../components/left-sidebar/components/left-sidebar-search-C4m5HpGB.js";import"../../../@vueuse-CzS49P4w.js";const q={style:{color:"var(--global-text-color)"},class:"bg-white relative width100 height100 flex flex-direction-row"},P={key:0,class:"width100 height100 flex flex-direction-column"},R={class:"search-title width100 flex align-items-center justify-content-center"},C={class:"flex align-items-baseline"},L=(e=>(y("data-v-fb12c6f8"),e=e(),w(),e))((()=>h("p",{style:{"margin-right":"10px"}},"搜索结果",-1))),I={class:"search-total"},M={class:"search-content flex-1"},U=["href","onClick"],D=n(Object.assign({name:"view-search"},{__name:"index",props:a,setup(a){const n=s(),y=e(),w=t(),D=l((()=>n.state.menuData.menuList)),O=_([]);let S=decodeURI(y.query.key);const E=e=>{w.push({path:"/",query:{indexPage:e.indexPage}})};return m(y,(()=>{n.dispatch(r).then((()=>{(()=>{if(S=decodeURI(y.query.key),""===S)return void(O.value=[{name:"请输入关键字",noResult:!0}]);const e=[],t=s=>{s.forEach((s=>{s.children?t(s.children):-1!==s.name.trim().toLowerCase().indexOf(S.trim().toLowerCase())&&e.push(s)}))};t(D.value),O.value=e.length?e:[{name:"暂无搜索结果",noResult:!0}]})()}))}),{immediate:!0}),(e,t)=>{const s=c("loading");return p((u(),d("div",q,[f(i,{"left-sidebar-w":e.leftSidebarW,"if-show-menu":e.ifShowMenu,"if-larger":e.ifLarger,"header-h":e.headerH,"toggle-menu":e.toggleMenu,onItemClick:E},null,8,["left-sidebar-w","if-show-menu","if-larger","header-h","toggle-menu"]),D.value.length?(u(),d("div",P,[h("div",R,[h("div",C,[L,h("p",I,"(共计"+k(O.value.length)+"条)",1)])]),h("ul",M,[(u(!0),d(g,null,v(O.value,((e,t)=>(u(),d("li",{key:t,class:"search-item"},[h("a",{class:"search-item-label cursor-pointer",href:`/#/?indexPage=${e.indexPage}`,onClick:function(t){((e,t)=>{if(t.preventDefault(),!e.noResult)e.link?window.open(e.link):w.push({path:"/",query:{indexPage:e.indexPage}})})(e,t)}},[e.link?(u(),b(o,{key:0,class:"display-inline"})):x("",!0),j(" "+k(e.name),1)],8,U)])))),128))])])):x("",!0)])),[[s,!D.value.length]])}}}),[["__scopeId","data-v-fb12c6f8"]]);export{D as default};
