import{u as e,a as t}from"../../../vue-router-DsclXT-F.js";import{u as s}from"../../../vuex-KyiJK7Li.js";import{l as o}from"../../components/left-sidebar/index-CQMfAclP.js";import{l as r}from"../../common/props/left-sidebar-props/index-Cvo_KCZG.js";import{l as a}from"../../components/left-sidebar/components/link-tag-DTPNYsf5.js";import{c as l}from"../../store/actionType-CNHuB-Of.js";import{b as i,e as n,U as p,m,a as c,g as u,j as d,l as f,F as x,q as v,s as g,c as h,P as b}from"../../../@vue-runtime-core-C-ht4TMg.js";import{r as j}from"../../../@vue-reactivity-Bg8cIJPh.js";import{k as y}from"../../../@vue-shared-LkD7rn4X.js";import"../../../@vue-devtools-api-CFGE8QBr.js";import"../../components/left-sidebar/index.vue_vue_type_script_lang-CTIBMmF8.js";import"../../../@vue-runtime-dom-DvlG2p-m.js";import"../../../@better-scroll-yEU79_0X.js";import"../../common/util/debounce-CNl5k4zp.js";import"../../components/left-sidebar/components/left-sidebar-item-Iwd6V3BJ.js";import"../../components/left-sidebar/components/left-sidebar-item.vue_vue_type_script_lang-CwXXWNVn.js";import"../../../plugin-vue_export-helper-BCo6x5W8.js";import"../../components/commonm-btn/index-DxpeHrBD.js";import"../../components/left-sidebar/components/left-sidebar-search-Q-h6DnGi.js";import"../../../@vueuse-DcJVcz8Q.js";const w={style:{color:"var(--global-text-color)"},class:"bg-style relative w-[100%] h-[100%] flex flex-row"},k={key:0,class:"w-[100%] h-[100%] flex flex-col"},_={class:"px-[0] py-[20px] text-[25px] [border-bottom:1px_solid_var(--global-border-color)] w-[100%] flex items-center justify-center"},q={class:"flex items-baseline"},P=f("p",{style:{"margin-right":"10px"}},"搜索结果",-1),R={class:"text-[13px] text-[#999999]"},C={class:"overflow-y-scroll pl-[10px] pr-[10px] py-[30px] flex-1"},L=["href","onClick"],I=Object.assign({name:"view-search"},{__name:"index",props:r,setup(r){const I=s(),U=e(),D=t(),M=i((()=>I.state.menuData.menuList)),O=j([]);let S=decodeURI(U.query.key);const E=e=>{D.push({path:"/",query:{indexPage:e.indexPage}})};return n(U,(()=>{I.dispatch(l).then((()=>{(()=>{if(S=decodeURI(U.query.key),""===S)return void(O.value=[{name:"请输入关键字",noResult:!0}]);const e=[],t=s=>{s.forEach((s=>{s.children?t(s.children):-1!==s.name.trim().toLowerCase().indexOf(S.trim().toLowerCase())&&e.push(s)}))};t(M.value),O.value=e.length?e:[{name:"暂无搜索结果",noResult:!0}]})()}))}),{immediate:!0}),(e,t)=>{const s=p("loading");return m((c(),u("div",w,[d(o,{"left-sidebar-w":e.leftSidebarW,"if-show-menu":e.ifShowMenu,"if-larger":e.ifLarger,"header-h":e.headerH,"toggle-menu":e.toggleMenu,onItemClick:E},null,8,["left-sidebar-w","if-show-menu","if-larger","header-h","toggle-menu"]),M.value.length?(c(),u("div",k,[f("div",_,[f("div",q,[P,f("p",R,"(共计"+y(O.value.length)+"条)",1)])]),f("ul",C,[(c(!0),u(x,null,v(O.value,((e,t)=>(c(),u("li",{key:t,class:"text-[16px] px-[20px] py-[10px]"},[f("a",{class:"text-[var(--global-text-color)] hover:text-[var(--global-primary-color)] hover:underline cursor-pointer",href:`/#/?indexPage=${e.indexPage}`,onClick:function(t){((e,t)=>{if(t.preventDefault(),!e.noResult)e.link?window.open(e.link):D.push({path:"/",query:{indexPage:e.indexPage}})})(e,t)}},[e.link?(c(),h(a,{key:0,class:"inline"})):g("",!0),b(" "+y(e.name),1)],8,L)])))),128))])])):g("",!0)])),[[s,!M.value.length]])}}});export{I as default};
