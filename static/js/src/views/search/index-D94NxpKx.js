import{u as e,a as t}from"../../../vue-router-BcUl0JBZ.js";import{u as s}from"../../../vuex-Cumh--Ml.js";import{l as o}from"../../components/left-sidebar/index-Bs56zGfq.js";import{l as r}from"../../common/props/left-sidebar-props/index-Cvo_KCZG.js";import{l as a}from"../../components/left-sidebar/components/link-tag-BuOHO9lp.js";import{d as l}from"../../store/actionType-DZz6-cZB.js";import{b as i,e as n,U as p,m,a as u,g as c,j as d,l as f,F as x,q as v,s as g,c as h,P as b}from"../../../@vue-runtime-core-hXVbjtl0.js";import{r as j}from"../../../@vue-reactivity-UKyDGrvc.js";import{k as y}from"../../../@vue-shared-LkD7rn4X.js";import"../../../@vue-devtools-api-CFGE8QBr.js";import"../../components/left-sidebar/index.vue_vue_type_script_lang-BL585oWh.js";import"../../../@vue-runtime-dom-DIQGxI75.js";import"../../../@better-scroll-yEU79_0X.js";import"../../common/util/debounce-CNl5k4zp.js";import"../../components/left-sidebar/components/left-sidebar-item-D_7M1L7O.js";import"../../components/left-sidebar/components/left-sidebar-item.vue_vue_type_script_lang-BHW2UAZP.js";import"../../../plugin-vue_export-helper-BCo6x5W8.js";import"../../components/commonm-btn/index-BgmKgvkM.js";import"../../components/left-sidebar/components/left-sidebar-search-DyQOYX1l.js";import"../../../@vueuse-C17lgTZK.js";const w={style:{color:"var(--global-text-color)"},class:"bg-style relative w-[100%] h-[100%] flex flex-row"},k={key:0,class:"w-[100%] h-[100%] flex flex-col"},_={class:"px-[0] py-[20px] text-[25px] [border-bottom:1px_solid_var(--global-border-color)] w-[100%] flex items-center justify-center"},P={class:"flex items-baseline"},q=f("p",{style:{"margin-right":"10px"}},"搜索结果",-1),C={class:"text-[13px] text-[#999999]"},R={class:"overflow-y-scroll pl-[10px] pr-[10px] py-[30px] flex-1"},L=["href","onClick"],U=Object.assign({name:"view-search"},{__name:"index",props:r,setup(r){const U=s(),I=e(),M=t(),O=i((()=>U.state.menuData.menuList)),D=j([]);let S=decodeURI(I.query.key);const z=e=>{M.push({path:"/",query:{indexPage:e.indexPage}})};return n(I,(()=>{U.dispatch(l).then((()=>{(()=>{if(S=decodeURI(I.query.key),""===S)return void(D.value=[{name:"请输入关键字",noResult:!0}]);const e=[],t=s=>{s.forEach((s=>{s.children?t(s.children):-1!==s.name.trim().toLowerCase().indexOf(S.trim().toLowerCase())&&e.push(s)}))};t(O.value),D.value=e.length?e:[{name:"暂无搜索结果",noResult:!0}]})()}))}),{immediate:!0}),(e,t)=>{const s=p("loading");return m((u(),c("div",w,[d(o,{"left-sidebar-w":e.leftSidebarW,"if-show-menu":e.ifShowMenu,"if-larger":e.ifLarger,"header-h":e.headerH,"toggle-menu":e.toggleMenu,onItemClick:z},null,8,["left-sidebar-w","if-show-menu","if-larger","header-h","toggle-menu"]),O.value.length?(u(),c("div",k,[f("div",_,[f("div",P,[q,f("p",C,"(共计"+y(D.value.length)+"条)",1)])]),f("ul",R,[(u(!0),c(x,null,v(D.value,((e,t)=>(u(),c("li",{key:t,class:"text-[16px] px-[20px] py-[10px]"},[f("a",{class:"text-[var(--global-text-color)] hover:text-[var(--global-primary-color)] hover:underline cursor-pointer",href:`/#/?indexPage=${e.indexPage}`,onClick:function(t){((e,t)=>{if(t.preventDefault(),!e.noResult)e.link?window.open(e.link):M.push({path:"/",query:{indexPage:e.indexPage}})})(e,t)}},[e.link?(u(),h(a,{key:0,class:"inline"})):g("",!0),b(" "+y(e.name),1)],8,L)])))),128))])])):g("",!0)])),[[s,!O.value.length]])}}});export{U as default};
