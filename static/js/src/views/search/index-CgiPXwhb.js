import{u as e,a as t}from"../../../vue-router-DhXt6nTE.js";import{u as s}from"../../../vuex-BhxYhhdL.js";import{l as o}from"../../components/left-sidebar/index-DKow128B.js";import{l as r}from"../../common/props/left-sidebar-props/index-Cvo_KCZG.js";import{l as a}from"../../components/left-sidebar/components/link-tag-B3LvW_NH.js";import{d as l}from"../../store/actionType-BVA9uGQF.js";import{b as i,e as n,U as p,m,a as u,g as c,j as d,s as f,l as x,F as v,q as g,c as h,P as b}from"../../../@vue-runtime-core-DQcPG1cz.js";import{r as j}from"../../../@vue-reactivity-v2zUdFSg.js";import{k as y}from"../../../@vue-shared-C0QUMStP.js";import"../../../@vue-devtools-api-CFGE8QBr.js";import"../../components/left-sidebar/index.vue_vue_type_script_lang-xwo_C-Pm.js";import"../../../@vue-runtime-dom-CmJM4nE0.js";import"../../../@better-scroll-DQq3duai.js";import"../../common/util/debounce-CNl5k4zp.js";import"../../components/left-sidebar/components/left-sidebar-item-uxk3NM7s.js";import"../../components/left-sidebar/components/left-sidebar-item.vue_vue_type_script_lang-DVWE-p73.js";import"../../../plugin-vue_export-helper-BCo6x5W8.js";import"../../components/commonm-btn/index-Bp6UIeO3.js";import"../../components/left-sidebar/components/left-sidebar-search-B4uwjOU_.js";import"../../../@vueuse-BUPFo47n.js";const w={style:{color:"var(--global-text-color)"},class:"bg-style relative w-[100%] h-[100%] flex flex-row"},k={key:0,class:"w-[100%] h-[100%] flex flex-col"},_={class:"px-[0] py-[20px] text-[25px] [border-bottom:1px_solid_var(--global-border-color)] w-[100%] flex items-center justify-center"},P={class:"flex items-baseline"},q=x("p",{style:{"margin-right":"10px"}},"搜索结果",-1),C={class:"text-[13px] text-[#999999]"},R={class:"overflow-y-scroll pl-[10px] pr-[10px] py-[30px] flex-1"},L=["href","onClick"],U=Object.assign({name:"view-search"},{__name:"index",props:r,setup(r){const U=s(),I=e(),M=t(),O=i((()=>U.state.menuData.menuList)),D=j([]);let S=decodeURI(I.query.key);const z=e=>{M.push({path:"/",query:{indexPage:e.indexPage}})};return n(I,(()=>{U.dispatch(l).then((()=>{(()=>{if(S=decodeURI(I.query.key),""===S)return void(D.value=[{name:"请输入关键字",noResult:!0}]);const e=[],t=s=>{s.forEach((s=>{s.children?t(s.children):-1!==s.name.trim().toLowerCase().indexOf(S.trim().toLowerCase())&&e.push(s)}))};t(O.value),D.value=e.length?e:[{name:"暂无搜索结果",noResult:!0}]})()}))}),{immediate:!0}),(e,t)=>{const s=p("loading");return m((u(),c("div",w,[d(o,{"left-sidebar-w":e.leftSidebarW,"if-show-menu":e.ifShowMenu,"if-larger":e.ifLarger,"header-h":e.headerH,"toggle-menu":e.toggleMenu,onItemClick:z},null,8,["left-sidebar-w","if-show-menu","if-larger","header-h","toggle-menu"]),O.value.length?(u(),c("div",k,[x("div",_,[x("div",P,[q,x("p",C,"(共计"+y(D.value.length)+"条)",1)])]),x("ul",R,[(u(!0),c(v,null,g(D.value,((e,t)=>(u(),c("li",{key:t,class:"text-[16px] px-[20px] py-[10px]"},[x("a",{class:"text-[var(--global-text-color)] hover:text-[var(--global-primary-color)] hover:underline cursor-pointer",href:`/#/?indexPage=${e.indexPage}`,onClick:function(t){((e,t)=>{if(t.preventDefault(),!e.noResult)e.link?window.open(e.link):M.push({path:"/",query:{indexPage:e.indexPage}})})(e,t)}},[e.link?(u(),h(a,{key:0,class:"inline"})):f("",!0),b(" "+y(e.name),1)],8,L)])))),128))])])):f("",!0)])),[[s,!O.value.length]])}}});export{U as default};
