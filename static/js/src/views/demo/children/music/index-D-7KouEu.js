import{$ as e}from"../../../../../jquery-IViRahhZ.js";import{s as t,a,b as s}from"../../../../static/vue-kinesis/vue-kinesis-BqJ5dvgN.js";import{W as i}from"../../../../../wavesurfer.js-DLymCcwy.js";import{u as l}from"../../../../../vuex-C9rRLaBQ.js";import{T as r,v as n}from"../../../../../@vue-runtime-dom-Dkxbnx-0.js";import{l as o}from"../../../../common/props/left-sidebar-props/index-Cvo_KCZG.js";import{r as c}from"../../../../common/util/methods-G0pJ8i8C.js";import{_ as d}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{y as u,r as p}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{b as v,e as m,o as g,t as h,N as f,a as x,g as w,s as y,j as b,k,l as L,F as j,q as C,c as _,m as M,x as A,y as I}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import{n as $,k as B,l as U}from"../../../../../@vue-shared-LkD7rn4X.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";import"../../../../../@vue-devtools-api-CFGE8QBr.js";import"../../../../../axios-DPD4D5Qz.js";const W={name:"view-demo-music",components:{KinesisContainer:t,KinesisAudio:a,KinesisElement:s},props:{...o},setup(t){const a=l(),{ifLarger:s}=u(t);let r;const n=v((()=>a.state.musicList)),o=()=>{const t=[];for(let a=0;a<9;a++){const a=Math.round(150*Math.random()+50),i=parseInt(11*Math.random())%2>0,l=`${parseInt(Math.random()+1)} ${parseInt(Math.random()+1)}`;let r,n;s.value?(r=c(1e3-a/2,-a),n=c(550-a/2,-a)):(r=c(e(window).width()-a,-a),n=c(e(window).height()-a,-a)),t.push({radius:a,transformOrigin:l,styleFather:{left:`${r}px`,top:`${n}px`},styleChild:{width:`${a}px`,height:`${a}px`,opacity:c(2,1)/10,backgroundColor:`#${("00000"+(16777216*Math.random()|0).toString(16)).substr(-6)}`},strength:i?c(32,30):c(7,5),type:i?"depth":"scale"})}return t},d=p(o()),f=p(0),x=p(0),w=p(!1),y=p(!1);m(y,(t=>t?r.play(e("audio")[0].currentTime):r.pause()));const b=()=>{r&&(r.unAll(),r.cancelAjax(),r.empty(),r.destroy())};g((()=>{b(),r=i.create({container:"#waveform",waveColor:"#edd88c",cursorColor:"#edd88c",progressColor:"#D8F235",barWidth:4,barHeight:.7,barMinHeight:0,cursorWidth:3,barGap:3,barRadius:3}),r.setMute(!0),r.load(n.value[f.value].url),r.on("seek",(t=>{w.value&&(e("audio")[0].currentTime=e("audio")[0].duration*t)})),r.on("finish",(()=>{y.value=!1,e("audio")[0].pause(),e("audio")[0].currentTime=0})),r.on("ready",(()=>{w.value=!0}))})),h((()=>{b()}));return{playImageUrl:new URL("data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20id='Capa_1'%20x='0px'%20y='0px'%20width='512px'%20height='512px'%20viewBox='0%200%20779.652%20779.652'%20style='enable-background:new%200%200%20779.652%20779.652;'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%20id='_x37__12_'%3e%3cg%3e%3cpath%20d='M679.503,349.728L151.09,9.181C119.742-7.703,83.832-5.951,83.832,54.688v670.58c0,55.408,38.525,64.17,67.258,45.506%20l528.442-340.547C701.255,407.975,701.255,371.953,679.503,349.728z'%20data-original='%23000000'%20class='active-path'%20data-old_color='%23000000'%20fill='%23592A2A'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href,pauseImageUrl:new URL("data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20id='Capa_1'%20x='0px'%20y='0px'%20width='512px'%20height='512px'%20viewBox='0%200%20438.536%20438.536'%20style='enable-background:new%200%200%20438.536%20438.536;'%20xml:space='preserve'%20class=''%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M164.453,0H18.276C13.324,0,9.041,1.807,5.425,5.424C1.808,9.04,0.001,13.322,0.001,18.271v401.991%20c0,4.948,1.807,9.233,5.424,12.847c3.619,3.617,7.902,5.428,12.851,5.428h146.181c4.949,0,9.231-1.811,12.847-5.428%20c3.617-3.613,5.424-7.898,5.424-12.847V18.271c0-4.952-1.807-9.231-5.428-12.847C173.685,1.807,169.402,0,164.453,0z'%20data-original='%23000000'%20class='active-path'%20data-old_color='%23000000'%20fill='%23592A2A'/%3e%3cpath%20d='M433.113,5.424C429.496,1.807,425.215,0,420.267,0H274.086c-4.949,0-9.237,1.807-12.847,5.424%20c-3.621,3.615-5.432,7.898-5.432,12.847v401.991c0,4.948,1.811,9.233,5.432,12.847c3.609,3.617,7.897,5.428,12.847,5.428h146.181%20c4.948,0,9.229-1.811,12.847-5.428c3.614-3.613,5.421-7.898,5.421-12.847V18.271C438.534,13.319,436.73,9.04,433.113,5.424z'%20data-original='%23000000'%20class='active-path'%20data-old_color='%23000000'%20fill='%23592A2A'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href,list:n,index:f,randomList:d,playAudio:y,rotateDeg:x,ifInitWavesurfer:w,randomListFun:o,upContext:t=>{r.play(e("audio")[0].currentTime),x.value=x.value+.05,x.value>360&&(x.value=0)},nextMusic:()=>{y.value=!1,w.value=!1,e("audio")[0].pause(),f.value<n.value.length-1?f.value++:f.value=0,e("audio")[0].src=n.value[f.value].url,r.load(n.value[f.value].url),d.value=o()}}}},z=e=>(A("data-v-ede52c25"),e=e(),I(),e),R=[z((()=>L("div",{class:"title-wrap"},[L("div",{class:"title"}," 欣赏音乐不是用耳听，而是用心听，应该是一个人独自欣赏，似乎才能感受到人生的那种复杂的韵味。体味是个人的东西，当你被打中时，音乐只属于你自己。在如泣、如诉、娓婉、如醉的音乐中，你读着自己的故事，抒发着你的情怀，被音乐感染着、牵动着。 ")],-1))),z((()=>L("div",{class:"line"},null,-1)))],F={class:"img relative overflow-hidden"},H=["src"],T={key:0},V={class:"music-info-name"},q={class:"music-info-author"},D={class:"absolute width100 height100 flex align-items-center justify-content-center"},K=[z((()=>L("div",{class:"spinner"},[L("div",{class:"bounce1"}),L("div",{class:"bounce2"}),L("div",{class:"bounce3"})],-1)))],O=z((()=>L("svg",{class:"svg-circle",viewBox:"0 0 100 100"},[L("path",{id:"circle",d:"M 0,50 a 50,50 0 1,1 0,1 z"}),L("text",null,[L("textPath",{"xlink:href":"#circle"},"Listen-to-the-next-song")])],-1))),P={class:"next-icon absolute align-center",style:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1404"},E=[z((()=>L("path",{d:"M925.416149 3.180124h-190.807453a31.801242 31.801242 0 0 0-31.801243 31.801242v387.021118L121.798758 10.176398 110.668323 2.544099A31.801242 31.801242 0 0 0 98.583851 0a31.801242 31.801242 0 0 0-31.801242 31.801242v960.397516a31.801242 31.801242 0 0 0 31.801242 31.801242 31.801242 31.801242 0 0 0 12.084472-2.544099l11.130435-7.632299L702.807453 601.997516V989.018634a31.801242 31.801242 0 0 0 31.801243 31.801242h190.807453a31.801242 31.801242 0 0 0 31.801242-31.801242v-954.037268a31.801242 31.801242 0 0 0-31.801242-31.801242z","p-id":"1405"},null,-1)))],G=["src"],N=z((()=>L("svg",{class:"svg-circle",viewBox:"0 0 100 100"},[L("path",{id:"circle",d:"M 0,50 a 50,50 0 1,1 0,1 z"}),L("text",null,[L("textPath",{"xlink:href":"#circle"},"Listen-to-the-next-song")])],-1))),S={class:"next-icon absolute align-center",style:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1404"},Y=[z((()=>L("path",{d:"M925.416149 3.180124h-190.807453a31.801242 31.801242 0 0 0-31.801243 31.801242v387.021118L121.798758 10.176398 110.668323 2.544099A31.801242 31.801242 0 0 0 98.583851 0a31.801242 31.801242 0 0 0-31.801242 31.801242v960.397516a31.801242 31.801242 0 0 0 31.801242 31.801242 31.801242 31.801242 0 0 0 12.084472-2.544099l11.130435-7.632299L702.807453 601.997516V989.018634a31.801242 31.801242 0 0 0 31.801243 31.801242h190.807453a31.801242 31.801242 0 0 0 31.801242-31.801242v-954.037268a31.801242 31.801242 0 0 0-31.801242-31.801242z","p-id":"1405"},null,-1)))];const J=d(W,[["render",function(e,t,a,s,i,l){const o=f("kinesis-element"),c=f("kinesis-audio"),d=f("kinesis-container");return x(),w("div",{style:{backgroundColor:"black",height:"100vh"},class:U(["width100 height100 overflow-hidden overflow-y-auto",e.ifLarger?"flex align-items-center justify-content-center flex-direction-column":""])},[e.ifLarger?(x(),w("div",{key:0,class:"navigatorBack cursor-pointer flex flex-direction-column align-items-center justify-content-center",onClick:t[0]||(t[0]=e=>s.randomList=s.randomListFun())},R)):y("",!0),b(d,{style:$({width:e.ifLarger?"1000px":"100%",...e.ifLarger?{height:"550px"}:{},borderRadius:e.ifLarger?"20px":"none"}),class:U(["music-wrap overflow-hidden relative flex align-items-center",e.ifLarger?" justify-content-around":"flex-direction-column justify-content-center"])},{default:k((()=>[L("div",{style:$({borderRadius:e.ifLarger?"20px":"none"}),class:"music-wrap-bg width100 height100 absolute overflow-hidden"},[L("div",{class:"music-wrap-bg-content absolute",style:$({transform:`translate(-50%, -50%) rotate(${s.rotateDeg}deg)`})},null,4)],4),(x(!0),w(j,null,C(s.randomList,((e,t)=>(x(),_(o,{key:t,class:"wave5-wrap absolute",style:$(e.styleFather),strength:75,type:"translate"},{default:k((()=>[b(o,{class:"wave5-wrap width100 height100",style:$(e.styleChild),"transform-origin":e.transformOrigin,"max-scale":1.25,"min-scale":.5,strength:e.strength,type:e.type},null,8,["style","transform-origin","strength","type"])])),_:2},1032,["style"])))),128)),b(d,{class:"relative cursor-pointer music-content",audio:s.list[0].url,"play-audio":s.playAudio},{default:k((()=>[b(o,{class:"wave1-wrap absolute",strength:25,type:"depth"},{default:k((()=>[b(c,{"max-scale":1.5,"min-scale":.5,class:"width100 height100 wave1","audio-index":5,strength:90,type:"scale"})])),_:1}),b(o,{class:"wave2-wrap absolute",strength:25,type:"depth"},{default:k((()=>[b(c,{"max-scale":1.1,"min-scale":.5,class:"width100 height100 wave2","audio-index":15,strength:60,type:"scale"})])),_:1}),b(o,{class:"music-content-cover absolute",strength:25,type:"depth"},{default:k((()=>[b(c,{"max-scale":1.5,"min-scale":.5,"audio-index":10,strength:95,type:"scale"},{default:k((()=>[L("div",F,[L("div",{class:"absolute",style:$([{transition:"transform 1s ease"},{transform:`translateY(${250*-s.index}px)`}])},[(x(!0),w(j,null,C(s.list,((e,t)=>(x(),w("img",{key:t,class:"img",src:e.image,alt:""},null,8,H)))),128))],4)])])),_:1})])),_:1}),b(o,{class:"wave3-wrap absolute",strength:25,type:"depth"},{default:k((()=>[b(c,{"transform-origin":"100% 100%",class:"width100 height100 wave3","audio-index":15,strength:65,type:"scale",onUpContext:s.upContext},null,8,["onUpContext"])])),_:1})])),_:1},8,["audio","play-audio"]),b(o,{class:"wave4-wrap absolute",strength:1.25,type:"scale"}),L("div",{class:"music-info-wrap",style:$(e.ifLarger?{width:"400px"}:{})},[(x(!0),w(j,null,C(s.list,((e,t)=>(x(),_(r,{key:t,class:"music-info",name:"fade"},{default:k((()=>[t===s.index?(x(),w("div",T,[L("div",V,B(e.name),1),L("div",q,"- "+B(e.author),1)])):y("",!0)])),_:2},1024)))),128)),L("div",{class:U(["flex align-items-center relative flex justify-content-space-between",e.ifLarger?"":"flex-direction-column"])},[M(L("div",D,K,512),[[n,!s.ifInitWavesurfer]]),L("div",{class:"flex align-items-center justify-content-center",style:$(e.ifLarger?{visibility:s.ifInitWavesurfer?"visible":"hidden"}:{marginBottom:"25px",visibility:s.ifInitWavesurfer?"visible":"hidden"})},[e.ifLarger?y("",!0):(x(),w("div",{key:0,style:{marginRight:"30px"},class:"relative cursor-pointer next-music",onClick:t[1]||(t[1]=(...e)=>s.nextMusic&&s.nextMusic(...e))},[O,(x(),w("svg",P,E))])),L("div",{class:"music-button cursor-pointer flex align-items-center justify-content-center",onClick:t[2]||(t[2]=e=>s.playAudio=!s.playAudio)},[L("img",{class:"music-button-img",src:s.playAudio?s.pauseImageUrl:s.playImageUrl,alt:""},null,8,G)])],4),L("div",{id:"waveform",style:$([{width:"300px"},{visibility:s.ifInitWavesurfer?"visible":"hidden"}])},null,4)],2)],4),e.ifLarger?(x(),w("div",{key:0,style:{top:0,transform:"translate(-50%, 50%)"},class:"next-music absolute cursor-pointer",onClick:t[3]||(t[3]=(...e)=>s.nextMusic&&s.nextMusic(...e))},[N,(x(),w("svg",S,Y))])):y("",!0)])),_:1},8,["style","class"])],2)}],["__scopeId","data-v-ede52c25"]]);export{J as default};
