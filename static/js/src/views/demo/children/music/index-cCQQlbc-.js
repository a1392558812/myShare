import{$ as e}from"../../../../../jquery-IViRahhZ.js";import{s as a,a as s,b as t}from"../../../../static/vue-kinesis/vue-kinesis-DGK2EpMX.js";import{W as i}from"../../../../../wavesurfer.js-CxfyzdYY.js";import{u as l}from"../../../../../vuex-BhxYhhdL.js";import{T as r,v as n}from"../../../../../@vue-runtime-dom-CmJM4nE0.js";import{l as o}from"../../../../common/props/left-sidebar-props/index-Cvo_KCZG.js";import{r as c}from"../../../../common/util/methods-C-Gwc4Ne.js";import{_ as u}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{N as d,g as p,a as v,s as m,j as g,k as h,l as f,F as x,q as w,c as y,m as b,b as k,e as L,o as j,y as C,t as _,x as M}from"../../../../../@vue-runtime-core-DQcPG1cz.js";import{n as A,k as I,l as U}from"../../../../../@vue-shared-C0QUMStP.js";import{y as $,r as B}from"../../../../../@vue-reactivity-v2zUdFSg.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";import"../../../../../@vue-devtools-api-CFGE8QBr.js";import"../../../../../axios-CAFaAR0X.js";const W={name:"view-demo-music",components:{KinesisContainer:t,KinesisAudio:s,KinesisElement:a},props:{...o},setup(a){const s=l(),{ifLarger:t}=$(a);let r;const n=k((()=>s.state.musicList)),o=()=>{const a=[];for(let s=0;s<9;s++){const s=Math.round(150*Math.random()+50),i=parseInt(11*Math.random())%2>0,l=`${parseInt(Math.random()+1)} ${parseInt(Math.random()+1)}`;let r,n;t.value?(r=c(1e3-s/2,-s),n=c(550-s/2,-s)):(r=c(e(window).width()-s,-s),n=c(e(window).height()-s,-s)),a.push({radius:s,transformOrigin:l,styleFather:{left:`${r}px`,top:`${n}px`},styleChild:{width:`${s}px`,height:`${s}px`,opacity:c(2,1)/10,backgroundColor:`#${("00000"+(16777216*Math.random()|0).toString(16)).substr(-6)}`},strength:i?c(32,30):c(7,5),type:i?"depth":"scale"})}return a},u=B(o()),d=B(0),p=B(0),v=B(!1),m=B(!1);L(m,(a=>a?r.play(e("audio")[0].currentTime):r.pause()));const g=()=>{r&&(r.unAll(),r.cancelAjax(),r.empty(),r.destroy())};j((()=>{g(),r=i.create({container:"#waveform",waveColor:"#edd88c",cursorColor:"#edd88c",progressColor:"#D8F235",barWidth:4,barHeight:.7,barMinHeight:0,cursorWidth:3,barGap:3,barRadius:3}),r.setMute(!0),r.load(n.value[d.value].url),r.on("seek",(a=>{v.value&&(e("audio")[0].currentTime=e("audio")[0].duration*a)})),r.on("finish",(()=>{m.value=!1,e("audio")[0].pause(),e("audio")[0].currentTime=0})),r.on("ready",(()=>{v.value=!0}))})),C((()=>{g()}));return{playImageUrl:new URL("data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20id='Capa_1'%20x='0px'%20y='0px'%20width='512px'%20height='512px'%20viewBox='0%200%20779.652%20779.652'%20style='enable-background:new%200%200%20779.652%20779.652;'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%20id='_x37__12_'%3e%3cg%3e%3cpath%20d='M679.503,349.728L151.09,9.181C119.742-7.703,83.832-5.951,83.832,54.688v670.58c0,55.408,38.525,64.17,67.258,45.506%20l528.442-340.547C701.255,407.975,701.255,371.953,679.503,349.728z'%20data-original='%23000000'%20class='active-path'%20data-old_color='%23000000'%20fill='%23592A2A'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href,pauseImageUrl:new URL("data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20id='Capa_1'%20x='0px'%20y='0px'%20width='512px'%20height='512px'%20viewBox='0%200%20438.536%20438.536'%20style='enable-background:new%200%200%20438.536%20438.536;'%20xml:space='preserve'%20class=''%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M164.453,0H18.276C13.324,0,9.041,1.807,5.425,5.424C1.808,9.04,0.001,13.322,0.001,18.271v401.991%20c0,4.948,1.807,9.233,5.424,12.847c3.619,3.617,7.902,5.428,12.851,5.428h146.181c4.949,0,9.231-1.811,12.847-5.428%20c3.617-3.613,5.424-7.898,5.424-12.847V18.271c0-4.952-1.807-9.231-5.428-12.847C173.685,1.807,169.402,0,164.453,0z'%20data-original='%23000000'%20class='active-path'%20data-old_color='%23000000'%20fill='%23592A2A'/%3e%3cpath%20d='M433.113,5.424C429.496,1.807,425.215,0,420.267,0H274.086c-4.949,0-9.237,1.807-12.847,5.424%20c-3.621,3.615-5.432,7.898-5.432,12.847v401.991c0,4.948,1.811,9.233,5.432,12.847c3.609,3.617,7.897,5.428,12.847,5.428h146.181%20c4.948,0,9.229-1.811,12.847-5.428c3.614-3.613,5.421-7.898,5.421-12.847V18.271C438.534,13.319,436.73,9.04,433.113,5.424z'%20data-original='%23000000'%20class='active-path'%20data-old_color='%23000000'%20fill='%23592A2A'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href,list:n,index:d,randomList:u,playAudio:m,rotateDeg:p,ifInitWavesurfer:v,randomListFun:o,upContext:a=>{r.play(e("audio")[0].currentTime),p.value=p.value+.05,p.value>360&&(p.value=0)},nextMusic:()=>{m.value=!1,v.value=!1,e("audio")[0].pause(),d.value<n.value.length-1?d.value++:d.value=0,e("audio")[0].src=n.value[d.value].url,r.load(n.value[d.value].url),u.value=o()}}}},z=e=>(_("data-v-62dd977e"),e=e(),M(),e),F=[z((()=>f("div",{class:"title-wrap"},[f("div",{class:"title"}," 欣赏音乐不是用耳听，而是用心听，应该是一个人独自欣赏，似乎才能感受到人生的那种复杂的韵味。体味是个人的东西，当你被打中时，音乐只属于你自己。在如泣、如诉、娓婉、如醉的音乐中，你读着自己的故事，抒发着你的情怀，被音乐感染着、牵动着。 ")],-1))),z((()=>f("div",{class:"line"},null,-1)))],R={class:"img relative overflow-hidden"},H=["src"],T={key:0},V={class:"music-info-name"},D={class:"music-info-author"},K={class:"absolute w-[100%] h-[100%] flex items-center justify-center"},P=[z((()=>f("div",{class:"spinner"},[f("div",{class:"bounce1"}),f("div",{class:"bounce2"}),f("div",{class:"bounce3"})],-1)))],q=z((()=>f("svg",{class:"svg-circle",viewBox:"0 0 100 100"},[f("path",{id:"circle",d:"M 0,50 a 50,50 0 1,1 0,1 z"}),f("text",null,[f("textPath",{"xlink:href":"#circle"},"Listen-to-the-next-song")])],-1))),O={class:"next-icon absolute align-center",style:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1404"},E=[z((()=>f("path",{d:"M925.416149 3.180124h-190.807453a31.801242 31.801242 0 0 0-31.801243 31.801242v387.021118L121.798758 10.176398 110.668323 2.544099A31.801242 31.801242 0 0 0 98.583851 0a31.801242 31.801242 0 0 0-31.801242 31.801242v960.397516a31.801242 31.801242 0 0 0 31.801242 31.801242 31.801242 31.801242 0 0 0 12.084472-2.544099l11.130435-7.632299L702.807453 601.997516V989.018634a31.801242 31.801242 0 0 0 31.801243 31.801242h190.807453a31.801242 31.801242 0 0 0 31.801242-31.801242v-954.037268a31.801242 31.801242 0 0 0-31.801242-31.801242z","p-id":"1405"},null,-1)))],G=["src"],N=z((()=>f("svg",{class:"svg-circle",viewBox:"0 0 100 100"},[f("path",{id:"circle",d:"M 0,50 a 50,50 0 1,1 0,1 z"}),f("text",null,[f("textPath",{"xlink:href":"#circle"},"Listen-to-the-next-song")])],-1))),Q={class:"next-icon absolute align-center",style:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1404"},S=[z((()=>f("path",{d:"M925.416149 3.180124h-190.807453a31.801242 31.801242 0 0 0-31.801243 31.801242v387.021118L121.798758 10.176398 110.668323 2.544099A31.801242 31.801242 0 0 0 98.583851 0a31.801242 31.801242 0 0 0-31.801242 31.801242v960.397516a31.801242 31.801242 0 0 0 31.801242 31.801242 31.801242 31.801242 0 0 0 12.084472-2.544099l11.130435-7.632299L702.807453 601.997516V989.018634a31.801242 31.801242 0 0 0 31.801243 31.801242h190.807453a31.801242 31.801242 0 0 0 31.801242-31.801242v-954.037268a31.801242 31.801242 0 0 0-31.801242-31.801242z","p-id":"1405"},null,-1)))];const X=u(W,[["render",function(e,a,s,t,i,l){const o=d("kinesis-element"),c=d("kinesis-audio"),u=d("kinesis-container");return v(),p("div",{style:{backgroundColor:"black",height:"100vh"},class:U(["w-[100%] h-[100%] overflow-hidden overflow-y-auto",e.ifLarger?"flex items-center justify-center flex-col":""])},[e.ifLarger?(v(),p("div",{key:0,class:"navigatorBack cursor-pointer flex flex-col items-center justify-center",onClick:a[0]||(a[0]=e=>t.randomList=t.randomListFun())},F)):m("",!0),g(u,{style:A({width:e.ifLarger?"1000px":"100%",...e.ifLarger?{height:"550px"}:{},borderRadius:e.ifLarger?"20px":"none"}),class:U(["music-wrap overflow-hidden relative flex items-center",e.ifLarger?" justify-around":"flex-col justify-center"])},{default:h((()=>[f("div",{style:A({borderRadius:e.ifLarger?"20px":"none"}),class:"music-wrap-bg w-[100%] h-[100%] absolute overflow-hidden"},[f("div",{class:"music-wrap-bg-content absolute",style:A({transform:`translate(-50%, -50%) rotate(${t.rotateDeg}deg)`})},null,4)],4),(v(!0),p(x,null,w(t.randomList,((e,a)=>(v(),y(o,{key:a,class:"wave5-wrap absolute",style:A(e.styleFather),strength:75,type:"translate"},{default:h((()=>[g(o,{class:"wave5-wrap w-[100%] h-[100%]",style:A(e.styleChild),"transform-origin":e.transformOrigin,"max-scale":1.25,"min-scale":.5,strength:e.strength,type:e.type},null,8,["style","transform-origin","strength","type"])])),_:2},1032,["style"])))),128)),g(u,{class:"relative cursor-pointer music-content",audio:t.list[0].url,"play-audio":t.playAudio},{default:h((()=>[g(o,{class:"wave1-wrap absolute",strength:25,type:"depth"},{default:h((()=>[g(c,{"max-scale":1.5,"min-scale":.5,class:"w-[100%] h-[100%] wave1","audio-index":5,strength:90,type:"scale"})])),_:1}),g(o,{class:"wave2-wrap absolute",strength:25,type:"depth"},{default:h((()=>[g(c,{"max-scale":1.1,"min-scale":.5,class:"w-[100%] h-[100%] wave2","audio-index":15,strength:60,type:"scale"})])),_:1}),g(o,{class:"music-content-cover absolute",strength:25,type:"depth"},{default:h((()=>[g(c,{"max-scale":1.5,"min-scale":.5,"audio-index":10,strength:95,type:"scale"},{default:h((()=>[f("div",R,[f("div",{class:"absolute",style:A([{transition:"transform 1s ease"},{transform:`translateY(${250*-t.index}px)`}])},[(v(!0),p(x,null,w(t.list,((e,a)=>(v(),p("img",{key:a,class:"img",src:e.image,alt:""},null,8,H)))),128))],4)])])),_:1})])),_:1}),g(o,{class:"wave3-wrap absolute",strength:25,type:"depth"},{default:h((()=>[g(c,{"transform-origin":"100% 100%",class:"w-[100%] h-[100%] wave3","audio-index":15,strength:65,type:"scale",onUpContext:t.upContext},null,8,["onUpContext"])])),_:1})])),_:1},8,["audio","play-audio"]),g(o,{class:"wave4-wrap absolute",strength:1.25,type:"scale"}),f("div",{class:"music-info-wrap",style:A(e.ifLarger?{width:"400px"}:{})},[(v(!0),p(x,null,w(t.list,((e,a)=>(v(),y(r,{key:a,class:"music-info",name:"fade"},{default:h((()=>[a===t.index?(v(),p("div",T,[f("div",V,I(e.name),1),f("div",D,"- "+I(e.author),1)])):m("",!0)])),_:2},1024)))),128)),f("div",{class:U(["flex items-center relative flex justify-between",e.ifLarger?"":"flex-col"])},[b(f("div",K,P,512),[[n,!t.ifInitWavesurfer]]),f("div",{class:"flex items-center justify-center",style:A(e.ifLarger?{visibility:t.ifInitWavesurfer?"visible":"hidden"}:{marginBottom:"25px",visibility:t.ifInitWavesurfer?"visible":"hidden"})},[e.ifLarger?m("",!0):(v(),p("div",{key:0,style:{marginRight:"30px"},class:"relative cursor-pointer next-music",onClick:a[1]||(a[1]=(...e)=>t.nextMusic&&t.nextMusic(...e))},[q,(v(),p("svg",O,E))])),f("div",{class:"music-button cursor-pointer flex items-center justify-center",onClick:a[2]||(a[2]=e=>t.playAudio=!t.playAudio)},[f("img",{class:"music-button-img",src:t.playAudio?t.pauseImageUrl:t.playImageUrl,alt:""},null,8,G)])],4),f("div",{id:"waveform",style:A([{width:"300px"},{visibility:t.ifInitWavesurfer?"visible":"hidden"}])},null,4)],2)],4),e.ifLarger?(v(),p("div",{key:0,style:{top:0,transform:"translate(-50%, 50%)"},class:"next-music absolute cursor-pointer",onClick:a[3]||(a[3]=(...e)=>t.nextMusic&&t.nextMusic(...e))},[N,(v(),p("svg",Q,S))])):m("",!0)])),_:1},8,["style","class"])],2)}],["__scopeId","data-v-62dd977e"]]);export{X as default};
