import{_ as e}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{r as t}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{o as a,t as l,a as o,g as r,l as s}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import"../../../../../@vue-shared-LkD7rn4X.js";const i=e({__name:"index",setup(e){const i=t(null);let n,f,u,c=!1,h=2,y=-2,d=75,m=562.5,v=!1,x=!1,g=0,k=3,p=!1,w=!1,L=0;const P=[];for(let t=0;t<21;t++){P[t]=[];for(let e=0;e<8;e++)P[t][e]={x:0,y:0,status:1}}const E=[{x:200,y:200,width:30,height:10,status:1},{x:500,y:300,width:30,height:10,status:1}],A=()=>{n.clearRect(0,0,1200,800),(()=>{for(let e=0;e<21;e++)for(let t=0;t<8;t++)if(1===P[e][t].status){const a=55*e+30,l=15*t+30;P[e][t].x=a,P[e][t].y=l,n.beginPath(),n.rect(a,l,50,10),n.fillStyle="#00aa88",n.fill(),n.closePath()}})(),E.forEach((e=>{1===e.status&&(n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.fillStyle="#000000",n.fill(),n.closePath())})),n.beginPath(),n.arc(f,u,10,0,2*Math.PI),n.fillStyle="#00aa88",n.fill(),n.closePath(),n.beginPath(),n.rect(m,790,d,10),n.fillStyle="#00aa88",n.fill(),n.closePath(),n.font="16px Arial",n.fillStyle="#00aa88",n.fillText("得分: "+g,8,20),n.font="16px Arial",n.fillStyle="#00aa88",n.fillText("剩余寄次数: "+k,700,20),(()=>{for(let e=0;e<21;e++)for(let t=0;t<8;t++){const a=P[e][t];1===a.status&&f>a.x&&f<a.x+50&&u>a.y&&u<a.y+10&&(y=-y,a.status=0,g++,168===g&&(alert("你是真滴闲！！！！！"),c=!0))}E.forEach((e=>{1===e.status&&f>e.x&&f<e.x+e.width&&u>e.y&&u<e.y+e.height&&(y=-y,w=!0,L=300)}))})();let e=h,t=y;p&&(e*=2,t*=2),w&&(e*=2,t*=2,L--,L<=0&&(w=!1)),(f+e>1190||f+e<10)&&(h=-h),u+t<10?y=-y:u+t>790&&(f>m&&f<m+d?y=-y:(k--,k?(f=600,u=770,h=2,y=-2,m=562.5,w=!1,L=0):(alert("寄了，游戏结束！"),c=!0))),v&&m<1125?m+=7:x&&m>0&&(m-=7),f+=e,u+=t,!c&&requestAnimationFrame(A)},_=e=>{"Right"===e.key||"ArrowRight"===e.key?v=!0:"Left"===e.key||"ArrowLeft"===e.key?x=!0:" "===e.key&&(p=!0)},b=e=>{"Right"===e.key||"ArrowRight"===e.key?v=!1:"Left"===e.key||"ArrowLeft"===e.key?x=!1:" "===e.key&&(p=!1)},R=e=>{const t=e.clientX-i.value.offsetLeft;t>0&&t<1200&&(m=t-37.5)};return a((()=>{n=i.value.getContext("2d"),f=600,u=770,document.addEventListener("keydown",_),document.addEventListener("keyup",b),document.addEventListener("mousemove",R),A()})),l((()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",b),document.removeEventListener("mousemove",R)})),(e,t)=>(o(),r("div",null,[s("canvas",{ref_key:"canvas",ref:i,class:"breakout-ball",width:"1200",height:"800"},null,512)]))}},[["__scopeId","data-v-70412ade"]]);export{i as default};
