import{a as e}from"../../../../../@vueuse-BUPFo47n.js";import{F as o}from"../../../../../file-saver-RswgfMMI.js";import{a as t,g as s,b as r,c as a,d as m,e as n,f as i}from"../../../../../@kangc-BJoXtyI3.js";import{h as l}from"../../../../../highlight.js-DXF5yiBH.js";import{C as u}from"../../../../../codemirror-nRp3O9rH.js";import{f as d}from"../../../../common/util/methods-C-Gwc4Ne.js";import{g as c}from"../../../../common/util/guid-CEQsGVY5.js";import{_ as p}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{N as v,g as j,a as g,j as f,n as h}from"../../../../../@vue-runtime-core-DQcPG1cz.js";import{r as b}from"../../../../../@vue-reactivity-v2zUdFSg.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";import"../../../../../vue-D5WwiSYs.js";import"../../../../../@vue-runtime-dom-CmJM4nE0.js";import"../../../../../@vue-shared-C0QUMStP.js";import"../../../../../@vue-compiler-sfc-CUKGuSS5.js";import"../../../../../@babel-C1NHXBkA.js";import"../../../../../markdown-it-emoji-BIwi2JNw.js";import"../../../../../@vuepress-CFVItnWI.js";import"../../../../../markdown-it-container-B5GCwLYL.js";import"../../../../../copy-to-clipboard-BKwa6wn5.js";import"../../../../../toggle-selection-DUsDmMsR.js";import"../../../../../axios-CAFaAR0X.js";t.Codemirror=u,t.use(s,{Hljs:l}),t.use(r()),t.use(a()),t.use(m()),t.use(n()),t.use(i());const w={class:"md-preview"};const x=p({name:"view-demo-markdown-editor",components:{vMdPreview:t},setup(){const t=b("要不写点啥... ..."),s=b(null),{toggle:r}=e(s);return{text:t,mdPreview:s,leftToolbar:b("undo redo clear | h bold italic strikethrough quote | emoji | todo-list | customToolbar1 | ul ol table hr | link image code | save"),toolbar:{customToolbar1:{title:"自定义工具栏",icon:"v-md-icon-tip",menus:[{name:"menu1",text:"着重文字",action(e){e.insert((e=>{const o=e||"请输入文本";return{text:` \`${o}\` `,selected:o}}))}},{name:"menu2",text:"生成快捷目录",action(e){e.insert((()=>{t.value=`[[toc]] \n\n${t.value}`}))}}]}},onSave:e=>{o.saveAs(new Blob([e]),"my-markdown.md")},onFullscreenChange:e=>{r(e)},onUploadImage:(e,o,r)=>{d(r[0]).then((e=>{const o=`id_${c()}`;s.value.insert((()=>({text:`![image][${o}]`,selected:""}))),h().then((()=>{t.value=`${t.value} \n\n[${o}]: ${e}`}))}))}}}},[["render",function(e,o,t,s,r,a){const m=v("v-md-preview");return g(),j("div",w,[f(m,{ref:"mdPreview",toolbar:s.toolbar,modelValue:s.text,"onUpdate:modelValue":o[0]||(o[0]=e=>s.text=e),"disabled-menus":[],"default-show-toc":"",autofocus:"","left-toolbar":s.leftToolbar,height:"100vh",onUploadImage:s.onUploadImage,onFullscreenChange:s.onFullscreenChange,onSave:s.onSave},null,8,["toolbar","modelValue","left-toolbar","onUploadImage","onFullscreenChange","onSave"])])}],["__scopeId","data-v-7e7196d5"]]);export{x as default};
