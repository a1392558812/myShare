import{a as e}from"../../../../../@vueuse-2ii6U9l7.js";import{F as o}from"../../../../../file-saver-HR8lLbwc.js";import{a as t,g as s,b as r,c as a,d as m,e as n,f as i}from"../../../../../@kangc-CWiLCLrm.js";import{h as l}from"../../../../../highlight.js-DXF5yiBH.js";import{C as u}from"../../../../../codemirror-D8nsCV5x.js";import{f as d}from"../../../../common/util/methods-C08ehvW-.js";import{g as c}from"../../../../common/util/guid-CEQsGVY5.js";import{_ as p}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{r as v}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{n as j,N as g,a as f,g as h,j as b}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";import"../../../../../vue-0cu6tKjf.js";import"../../../../../@vue-runtime-dom-ByoLcAZV.js";import"../../../../../@vue-shared-LkD7rn4X.js";import"../../../../../@vue-compiler-sfc-C4scNWwD.js";import"../../../../../@babel-C1NHXBkA.js";import"../../../../../markdown-it-emoji-BIwi2JNw.js";import"../../../../../@vuepress-CFVItnWI.js";import"../../../../../markdown-it-container-B5GCwLYL.js";import"../../../../../copy-to-clipboard-BKwa6wn5.js";import"../../../../../toggle-selection-DUsDmMsR.js";import"../../../../../axios-DPD4D5Qz.js";t.Codemirror=u,t.use(s,{Hljs:l}),t.use(r()),t.use(a()),t.use(m()),t.use(n()),t.use(i());const w={class:"md-preview"};const x=p({name:"view-demo-markdown-editor",components:{vMdPreview:t},setup(){const t=v("要不写点啥... ..."),s=v(null),{toggle:r}=e(s);return{text:t,mdPreview:s,leftToolbar:v("undo redo clear | h bold italic strikethrough quote | emoji | todo-list | customToolbar1 | ul ol table hr | link image code | save"),toolbar:{customToolbar1:{title:"自定义工具栏",icon:"v-md-icon-tip",menus:[{name:"menu1",text:"着重文字",action(e){e.insert((e=>{const o=e||"请输入文本";return{text:` \`${o}\` `,selected:o}}))}},{name:"menu2",text:"生成快捷目录",action(e){e.insert((()=>{t.value=`[[toc]] \n\n${t.value}`}))}}]}},onSave:e=>{o.saveAs(new Blob([e]),"my-markdown.md")},onFullscreenChange:e=>{r(e)},onUploadImage:(e,o,r)=>{d(r[0]).then((e=>{const o=`id_${c()}`;s.value.insert((()=>({text:`![image][${o}]`,selected:""}))),j().then((()=>{t.value=`${t.value} \n\n[${o}]: ${e}`}))}))}}}},[["render",function(e,o,t,s,r,a){const m=g("v-md-preview");return f(),h("div",w,[b(m,{ref:"mdPreview",toolbar:s.toolbar,modelValue:s.text,"onUpdate:modelValue":o[0]||(o[0]=e=>s.text=e),"disabled-menus":[],"default-show-toc":"",autofocus:"","left-toolbar":s.leftToolbar,height:"100vh",onUploadImage:s.onUploadImage,onFullscreenChange:s.onFullscreenChange,onSave:s.onSave},null,8,["toolbar","modelValue","left-toolbar","onUploadImage","onFullscreenChange","onSave"])])}],["__scopeId","data-v-7e7196d5"]]);export{x as default};
