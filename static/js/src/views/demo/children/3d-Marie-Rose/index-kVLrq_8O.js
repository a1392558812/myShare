import{W as e,P as a,V as t,S as n,A as o,D as s,a as i,M as d,b as r,c as w,G as c,d as m,e as p,f as h,g as l,B as u,O as f,C as b}from"../../../../../three-DLFuJBtA.js";import{G as v}from"../../../../../dat.gui-CTkuMhk_.js";import{S as g}from"../../../../../stats.js-vZRaoKIg.js";import{_ as j}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{o as M,a as y,g as S,T as W}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";import"../../../../../@vue-reactivity-mdokXGQ5.js";import"../../../../../@vue-shared-LkD7rn4X.js";const _={name:"view-demo-3d-marie-rose",setup(){let j,y,S,W,_,x,k,z,H;const A=new b;function C(){y.aspect=window.innerWidth/window.innerHeight,y.updateProjectionMatrix(),j.setSize(window.innerWidth,window.innerHeight)}function B(){!function(){z.update();const e=A.getDelta();H&&H.update(e),j.render(S,y)}(),_.update(),requestAnimationFrame(B)}function D(){W={},new v,j=new e({antialias:!0,logarithmicDepthBuffer:!0}),j.setSize(window.innerWidth,window.innerHeight),j.shadowMap.enabled=!0,document.getElementById("canvas").appendChild(j.domElement),S=new n,y=new a(45,window.innerWidth/window.innerHeight,.1,1e3),y.position.set(0,30,60),y.lookAt(new t(0,0,0)),S.add(y),x=new o("#bbbbbb"),S.add(x),k=new s("#ffffff"),k.position.set(40,60,10),k.shadow.camera.near=1,k.shadow.camera.far=400,k.shadow.camera.left=-50,k.shadow.camera.right=50,k.shadow.camera.top=50,k.shadow.camera.bottom=-50,k.shadow.mapSize.height=1024,k.shadow.mapSize.width=1024,k.castShadow=!0,y.add(k),function(){const e=new i(1e3,1e3),a=new d({color:3355443,side:r}),t=new w(e,a);t.rotation.x=-.5*Math.PI,t.position.y=-.1,t.receiveShadow=!0,S.add(t);const n=new c,o=[];for(let i=0;i<1e3;i++)n.add(f()),o.push({speed:Math.random(),y:-3});S.add(n),window.Worker||alert("你的电脑不支持web Workers");const s=new Worker("demo-static/marie/worker.js");function f(){const e=new l({color:16777215*Math.random()}),a=.5*Math.random(),t=new u(a,a,a),n=new w(t,e);return n.position.set(100*Math.random()-50,-3,100*Math.random()-50),n.speed=Math.random(),n}(new m).load("demo-static/marie/scene.gltf",(function(e){e.scene.scale.set(.1,.1,.1),e.scene.traverse((function(e){e.isMesh&&(e.frustumCulled=!1,e.castShadow=!0)})),S.add(e.scene);const a=e.scene;new p(a),H=new h(a),H.clipAction(e.animations[0]).play(),s.postMessage(o),s.onmessage=function(e){for(let a=0;a<e.data.length;a++)n.children[a].position.y=e.data[a].y}}))}(),_=new g,document.body.appendChild(_.dom),z=new f(y,j.domElement),z.target.set(0,15,0),B(),window.onresize=C}M((()=>{D()}))}},x={class:"relative canvas-wrap"},k=[W('<div id="canvas" data-v-16bb6811></div><div class="absolute line-height-1 tips" data-v-16bb6811><p style="margin-bottom:10px;" data-v-16bb6811>模型拢共大小30Mb，github这网速，慢慢加载吧</p><p style="margin-bottom:10px;" data-v-16bb6811>这个是学习threejs大佬“暮志未晚”的,</p><p data-v-16bb6811>详情指路：<a href="http://www.wjceo.com/" data-v-16bb6811>http://www.wjceo.com/</a></p></div>',2)];const z=j(_,[["render",function(e,a,t,n,o,s){return y(),S("div",x,k)}],["__scopeId","data-v-16bb6811"]]);export{z as default};
