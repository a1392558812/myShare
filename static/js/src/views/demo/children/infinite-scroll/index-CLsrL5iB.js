import{j as e,f as s}from"../../../../../@vueuse-C17lgTZK.js";import{_ as t}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{r as a}from"../../../../../@vue-reactivity-UKyDGrvc.js";import{a as l,g as i,l as n,F as o,q as r,s as d,x as c,y as p}from"../../../../../@vue-runtime-core-hXVbjtl0.js";import{k as f}from"../../../../../@vue-shared-LkD7rn4X.js";let u=0;const m={name:"view-demo-infinite-scroll",setup(){const t=a(null),l=a(!0),i=a([]),n=()=>{l.value=!0,new Promise((e=>{const s=[];for(let t=u;t<u+20;t++)s.push({name:`新数据-${t+1}`});u+=10,setTimeout((()=>{e(s)}),1500)})).then((e=>{i.value=i.value.concat(e),l.value=!1}))};return e(t,(()=>{l.value||n()}),{distance:10}),n(),{infiniteScroll:t,dataList:i,loading:l,scrollInfo:s(t),refreshList:()=>{u=0,i.value=[],n()}}}},g=e=>(c("data-v-5c0a06eb"),e=e(),p(),e),x={class:"h-screen overflow-auto bg-gradient-to-br from-indigo-50 to-purple-50"},v={class:"w-[1200px] mx-auto px-4 py-12"},b=g((()=>n("div",{class:"mb-8 text-center"},[n("h1",{class:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600"}," 无限滚动演示 ")],-1))),y={class:"infinite-scroll-wrap flex flex-col md:flex-row gap-8"},w={class:"bg-white p-6 rounded-xl shadow-md w-full md:w-1/4"},h=g((()=>n("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"滚动信息",-1))),j={class:"space-y-3 text-gray-700"},I={class:"flex items-center gap-2"},L=g((()=>n("span",{class:"text-indigo-600 font-medium w-24"},"X坐标:",-1))),k={class:"bg-gray-100 px-3 py-1 rounded-full"},S={class:"flex items-center gap-2"},_=g((()=>n("span",{class:"text-indigo-600 font-medium w-24"},"Y坐标:",-1))),P={class:"bg-gray-100 px-3 py-1 rounded-full"},q={class:"flex items-center gap-2"},C=g((()=>n("span",{class:"text-indigo-600 font-medium w-24"},"滚动状态:",-1))),F={class:"bg-gray-100 px-3 py-1 rounded-full"},T={class:"flex items-center gap-2"},X=g((()=>n("span",{class:"text-indigo-600 font-medium w-24"},"触及方向:",-1))),Y={class:"bg-gray-100 px-3 py-1 rounded-full"},$={class:"flex items-center gap-2"},z=g((()=>n("span",{class:"text-indigo-600 font-medium w-24"},"滚动方向:",-1))),A={class:"bg-gray-100 px-3 py-1 rounded-full"},B={class:"flex items-center gap-2"},D=g((()=>n("span",{class:"text-indigo-600 font-medium w-24"},"数据总量:",-1))),E={class:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full font-semibold"},G={class:"w-full md:w-3/4"},H={class:"bg-white p-6 rounded-xl shadow-md mb-6"},J={class:"flex justify-between items-center mb-4"},K=g((()=>n("h2",{class:"text-xl font-semibold text-gray-800"},"无限滚动列表",-1))),M=g((()=>n("div",{class:"text-sm text-gray-500 mb-4"}," 向下滚动到底部加载更多数据... ",-1))),N={ref:"infiniteScroll",class:"overflow-auto infinite-scroll bg-gray-50 rounded-lg"},O={class:"p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150 flex items-center justify-between"},Q={class:"font-medium text-gray-800"},R={class:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded text-xs"},U={key:0,class:"flex items-center justify-center p-6"},V=[g((()=>n("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600 mr-3"},null,-1))),g((()=>n("span",{class:"text-gray-600"},"加载中...",-1)))];const W=t(m,[["render",function(e,s,t,a,c,p){return l(),i("div",x,[n("div",v,[b,n("div",y,[n("div",w,[h,n("div",j,[n("div",I,[L,n("span",k,f(a.scrollInfo.x),1)]),n("div",S,[_,n("span",P,f(a.scrollInfo.y),1)]),n("div",q,[C,n("span",F,f(a.scrollInfo.isScrolling?"正在滚动":"已停止"),1)]),n("div",T,[X,n("span",Y,f(a.scrollInfo.arrivedState),1)]),n("div",$,[z,n("span",A,f(a.scrollInfo.directions),1)]),n("div",B,[D,n("span",E,f(a.dataList.length)+" 条 ",1)])])]),n("div",G,[n("div",H,[n("div",J,[K,n("button",{onClick:s[0]||(s[0]=(...e)=>a.refreshList&&a.refreshList(...e)),class:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium rounded-lg transition-all duration-200"}," 刷新数据 ")]),M,n("div",N,[(l(!0),i(o,null,r(a.dataList,((e,s)=>(l(),i("div",{class:"infinite-scroll-item",key:s},[n("div",O,[n("span",Q,f(e.name),1),n("span",R," #"+f(s+1),1)])])))),128)),a.loading?(l(),i("div",U,V)):d("",!0)],512)])])])])])}],["__scopeId","data-v-5c0a06eb"]]);export{W as default};
