import{j as e,f as s}from"../../../../../@vueuse-BUPFo47n.js";import{_ as t}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{g as a,a as l,l as i,s as n,F as o,q as r,t as d,x as c}from"../../../../../@vue-runtime-core-DQcPG1cz.js";import{k as p}from"../../../../../@vue-shared-C0QUMStP.js";import{r as f}from"../../../../../@vue-reactivity-v2zUdFSg.js";let u=0;const m={name:"view-demo-infinite-scroll",setup(){const t=f(null),a=f(!0),l=f([]),i=()=>{a.value=!0,new Promise((e=>{const s=[];for(let t=u;t<u+20;t++)s.push({name:`新数据-${t+1}`});u+=10,setTimeout((()=>{e(s)}),1500)})).then((e=>{l.value=l.value.concat(e),a.value=!1}))};return e(t,(()=>{a.value||i()}),{distance:10}),i(),{infiniteScroll:t,dataList:l,loading:a,scrollInfo:s(t),refreshList:()=>{u=0,l.value=[],i()}}}},g=e=>(d("data-v-5c0a06eb"),e=e(),c(),e),x={class:"h-screen overflow-auto bg-gradient-to-br from-indigo-50 to-purple-50"},v={class:"w-[1200px] mx-auto px-4 py-12"},b=g((()=>i("div",{class:"mb-8 text-center"},[i("h1",{class:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600"}," 无限滚动演示 ")],-1))),y={class:"infinite-scroll-wrap flex flex-col md:flex-row gap-8"},w={class:"bg-white p-6 rounded-xl shadow-md w-full md:w-1/4"},h=g((()=>i("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"滚动信息",-1))),j={class:"space-y-3 text-gray-700"},I={class:"flex items-center gap-2"},L=g((()=>i("span",{class:"text-indigo-600 font-medium w-24"},"X坐标:",-1))),k={class:"bg-gray-100 px-3 py-1 rounded-full"},S={class:"flex items-center gap-2"},_=g((()=>i("span",{class:"text-indigo-600 font-medium w-24"},"Y坐标:",-1))),P={class:"bg-gray-100 px-3 py-1 rounded-full"},q={class:"flex items-center gap-2"},C=g((()=>i("span",{class:"text-indigo-600 font-medium w-24"},"滚动状态:",-1))),F={class:"bg-gray-100 px-3 py-1 rounded-full"},T={class:"flex items-center gap-2"},X=g((()=>i("span",{class:"text-indigo-600 font-medium w-24"},"触及方向:",-1))),Y={class:"bg-gray-100 px-3 py-1 rounded-full"},$={class:"flex items-center gap-2"},z=g((()=>i("span",{class:"text-indigo-600 font-medium w-24"},"滚动方向:",-1))),A={class:"bg-gray-100 px-3 py-1 rounded-full"},B={class:"flex items-center gap-2"},D=g((()=>i("span",{class:"text-indigo-600 font-medium w-24"},"数据总量:",-1))),E={class:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full font-semibold"},G={class:"w-full md:w-3/4"},H={class:"bg-white p-6 rounded-xl shadow-md mb-6"},J={class:"flex justify-between items-center mb-4"},K=g((()=>i("h2",{class:"text-xl font-semibold text-gray-800"},"无限滚动列表",-1))),M=g((()=>i("div",{class:"text-sm text-gray-500 mb-4"}," 向下滚动到底部加载更多数据... ",-1))),N={ref:"infiniteScroll",class:"overflow-auto infinite-scroll bg-gray-50 rounded-lg"},O={class:"p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150 flex items-center justify-between"},Q={class:"font-medium text-gray-800"},R={class:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded text-xs"},U={key:0,class:"flex items-center justify-center p-6"},V=[g((()=>i("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600 mr-3"},null,-1))),g((()=>i("span",{class:"text-gray-600"},"加载中...",-1)))];const W=t(m,[["render",function(e,s,t,d,c,f){return l(),a("div",x,[i("div",v,[b,i("div",y,[i("div",w,[h,i("div",j,[i("div",I,[L,i("span",k,p(d.scrollInfo.x),1)]),i("div",S,[_,i("span",P,p(d.scrollInfo.y),1)]),i("div",q,[C,i("span",F,p(d.scrollInfo.isScrolling?"正在滚动":"已停止"),1)]),i("div",T,[X,i("span",Y,p(d.scrollInfo.arrivedState),1)]),i("div",$,[z,i("span",A,p(d.scrollInfo.directions),1)]),i("div",B,[D,i("span",E,p(d.dataList.length)+" 条 ",1)])])]),i("div",G,[i("div",H,[i("div",J,[K,i("button",{onClick:s[0]||(s[0]=(...e)=>d.refreshList&&d.refreshList(...e)),class:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium rounded-lg transition-all duration-200"}," 刷新数据 ")]),M,i("div",N,[(l(!0),a(o,null,r(d.dataList,((e,s)=>(l(),a("div",{class:"infinite-scroll-item",key:s},[i("div",O,[i("span",Q,p(e.name),1),i("span",R," #"+p(s+1),1)])])))),128)),d.loading?(l(),a("div",U,V)):n("",!0)],512)])])])])])}],["__scopeId","data-v-5c0a06eb"]]);export{W as default};
