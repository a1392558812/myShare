import{$ as t}from"../../../../../jquery-IViRahhZ.js";import{a as e}from"../../../../../@vue-runtime-dom-CmJM4nE0.js";import{H as a}from"../../../../../hanzi-writer-DLooQWmQ.js";import{a as r}from"../../../../common/axios/index-B2NMWJBe.js";import{b as s}from"../../../../common/util/methods-C-Gwc4Ne.js";import{_ as i}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{g as d,a as o,l as n,m as c,T as l,o as u,t as h,x as m}from"../../../../../@vue-runtime-core-DQcPG1cz.js";import{k as g}from"../../../../../@vue-shared-C0QUMStP.js";import{r as p}from"../../../../../@vue-reactivity-v2zUdFSg.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";import"../../../../../axios-CAFaAR0X.js";import"../../../../../nprogress-DbBgBvvH.js";function v(t,e){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.style.width="75px",r.style.height="75px",r.style.border="1px solid #EEE",r.style.marginRight="3px",t.appendChild(r);const s=document.createElementNS("http://www.w3.org/2000/svg","g"),i=a.getScalingTransform(75,75);s.setAttributeNS(null,"transform",i.transform),r.appendChild(s),e.forEach((function(t){const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttributeNS(null,"d",t),e.style.fill="#555",s.appendChild(e)}))}const f={name:"view-demo-character",setup(){const e=p(""),i=p(""),d=p(""),o=p("");let n;const c=(t="长风破浪会有时",e="character-target-div1")=>{const r=[];t.split("").forEach((t=>{r.push(a.create(e,t,{width:100,height:100,padding:5,showOutline:!1,strokeAnimationSpeed:8,delayBetweenStrokes:10,radicalColor:"#337ab7",delayBetweenLoops:1e3,showCharacter:!1}))}));const s=()=>{r.forEach((t=>{t.hideCharacter()}));let t=Promise.resolve();r.forEach(((e,a)=>{t=t.then((()=>e.animateCharacter())),a===r.length-1&&t.then((()=>s()))}))};s()},l=()=>{n=a.create("character-target-div2","妲",{width:150,height:150,showCharacter:!1,padding:5}),n.quiz({onMistake:t=>{e.value=`你刚刚在第${t.strokeNum+1}画写错，\n            目前为止你在该画写错${t.mistakesOnStroke}次，\n            一共在该字写错${t.totalMistakes}次，\n            还剩${t.strokesRemaining}画写完`},onCorrectStroke:t=>{i.value=`当前正在书写第${t.strokeNum+1}画，\n            在这一画上写错次数为${t.mistakesOnStroke}，\n            拢共写错次数为${t.totalMistakes}，还剩${t.strokesRemaining}画写完`},onComplete:t=>{d.value=`字写完了，你刚写完了${t.totalMistakes}画的${t.character}`}})},h=(t="character-target-div6")=>{a.loadCharacterData("静").then((function(e){const r=document.getElementById(t),s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.style.width="150px",s.style.height="150px",r.appendChild(s);const i=document.createElementNS("http://www.w3.org/2000/svg","g"),d=a.getScalingTransform(150,150);i.setAttributeNS(null,"transform",d.transform),s.appendChild(i),e.strokes.forEach((function(t){const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttributeNS(null,"d",t),e.style.fill="#555",i.appendChild(e)}))}))};return u((()=>{c(),l(),a.create("character-target-div3","醇",{width:150,height:150,showCharacter:!1,showOutline:!1,showHintAfterMisses:1,highlightOnComplete:!1,padding:5}).quiz(),a.create("character-target-div5","福",{width:150,height:150,showCharacter:!1,padding:5,charDataLoader:(t,e)=>{r.get(`${s()}demo-static/hanzi/福.json`).then((t=>{e(t.data)}))}}).quiz(),h(),a.loadCharacterData("静").then((function(t){const e=document.getElementById("character-target-div7");for(let a=0;a<t.strokes.length;a++)v(e,t.strokes.slice(0,a+1))})),h("character-target-div8")})),{charAnimation2info1:e,charAnimation2info2:i,charAnimation2info3:d,inputValue:o,handelCreate:()=>{/^(?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])+$/g.test(o.value)?(t("#character-target-div4").empty(),c(o.value,"character-target-div4")):alert("请输入纯汉字")},reWrite1:()=>{n.hideCharacter({onComplete:()=>{t(n.target.node).remove(),l()}})}}}},x=t=>(h("data-v-fd0474ec"),t=t(),m(),t),w={class:"h-screen overflow-auto bg-gradient-to-br from-indigo-50 to-purple-50"},b={class:"w-[1200px] mx-auto px-4 py-12"},D=x((()=>n("div",{class:"mb-8 text-center"},[n("h1",{class:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600"}," 汉字书写演示 "),n("p",{class:"mt-3 text-lg text-gray-600"}," 展示汉字书写、描红、盲写等多种交互方式 ")],-1))),y=x((()=>n("div",{class:"py-2 mb-2 text-gray-500"},"网络偶尔可能波动，在线字体是从cdn上引入的",-1))),C={class:"hanzi"},F=x((()=>n("div",{class:"mb-8 p-5 bg-white rounded-xl shadow-md"},[n("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"突出汉字偏旁"),n("div",{id:"character-target-div1",class:"flex flex-wrap gap-3 justify-center"})],-1))),A={class:"mb-8 p-5 bg-white rounded-xl shadow-md"},k=x((()=>n("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"自定义汉字",-1))),E={class:"flex items-center gap-3 mb-4"},j=x((()=>n("div",{id:"character-target-div4",class:"flex flex-wrap gap-3 justify-center"},null,-1))),S={class:"grid grid-cols-6 gap-[10px]"},N={class:"chart-wrap bg-white p-5 rounded-xl shadow-md"},$=x((()=>n("h3",{class:"text-lg font-medium text-gray-800 mb-3"},"描红书写该字",-1))),_=x((()=>n("div",{class:"character-box mx-auto mb-3",id:"character-target-div2"},null,-1))),z={class:"mt-4 space-y-2 text-sm"},B=x((()=>n("span",{class:"text-red-500 font-medium"},"错误提示：",-1))),M={class:"text-gray-700"},O=x((()=>n("span",{class:"text-green-500 font-medium"},"每步写完提示：",-1))),q={class:"text-gray-700"},I=x((()=>n("span",{class:"text-blue-500 font-medium"},"字写完提示：",-1))),V={class:"text-gray-700"},H=l('<div class="chart-wrap bg-white p-5 rounded-xl shadow-md" data-v-fd0474ec><h3 class="text-lg font-medium text-gray-800 mb-3" data-v-fd0474ec>醇香的“醇”字盲写</h3><div class="character-box mx-auto" id="character-target-div3" data-v-fd0474ec></div></div><div class="chart-wrap bg-white p-5 rounded-xl shadow-md" data-v-fd0474ec><h3 class="text-lg font-medium text-gray-800 mb-3" data-v-fd0474ec>加载本地服务器的汉字</h3><div class="character-box mx-auto mb-2" id="character-target-div5" data-v-fd0474ec></div><div class="text-xs text-gray-500 text-center" data-v-fd0474ec>（为了演示只提供个“福”字）</div></div><div class="chart-wrap bg-white p-5 rounded-xl shadow-md" data-v-fd0474ec><h3 class="text-lg font-medium text-gray-800 mb-3" data-v-fd0474ec>静态汉字无笔画</h3><div class="character-box mx-auto" id="character-target-div6" data-v-fd0474ec></div></div><div class="chart-wrap bg-white p-5 rounded-xl shadow-md" data-v-fd0474ec><h3 class="text-lg font-medium text-gray-800 mb-3" data-v-fd0474ec>静态汉字无笔画</h3><div id="character-target-div7" class="flex flex-wrap justify-center" data-v-fd0474ec></div></div><div class="chart-wrap bg-white p-5 rounded-xl shadow-md" data-v-fd0474ec><h3 class="text-lg font-medium text-gray-800 mb-3" data-v-fd0474ec>带网格的静态汉字</h3><svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" class="character-box mx-auto" id="character-target-div8" data-v-fd0474ec><line x1="0" y1="0" x2="150" y2="150" stroke="#DDD" data-v-fd0474ec></line><line x1="150" y1="0" x2="0" y2="150" stroke="#DDD" data-v-fd0474ec></line><line x1="75" y1="0" x2="75" y2="150" stroke="#DDD" data-v-fd0474ec></line><line x1="0" y1="75" x2="150" y2="75" stroke="#DDD" data-v-fd0474ec></line></svg></div>',5);const R=i(f,[["render",function(t,a,r,s,i,l){return o(),d("div",w,[n("div",b,[D,y,n("div",C,[F,n("div",A,[k,n("div",E,[c(n("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>s.inputValue=t),class:"flex-1 p-3 border-2 border-solid border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 font-sans text-gray-800 bg-white",type:"text",placeholder:"请输入要展示的汉字"},null,512),[[e,s.inputValue]]),n("button",{onClick:a[1]||(a[1]=(...t)=>s.handelCreate&&s.handelCreate(...t)),class:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-all duration-200"}," 确定生成 ")]),j]),n("div",S,[n("div",N,[$,_,n("button",{onClick:a[2]||(a[2]=(...t)=>s.reWrite1&&s.reWrite1(...t)),class:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200"}," 重写 "),n("div",z,[n("div",null,[B,n("span",M,g(s.charAnimation2info1),1)]),n("div",null,[O,n("span",q,g(s.charAnimation2info2),1)]),n("div",null,[I,n("span",V,g(s.charAnimation2info3),1)])])]),H])])])])}],["__scopeId","data-v-fd0474ec"]]);export{R as default};
