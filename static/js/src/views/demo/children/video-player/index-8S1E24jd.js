import{c as e}from"../../../../../@vue-runtime-dom-ByoLcAZV.js";import{P as t,i as o}from"../../../../../nplayer-DFXsFahM.js";import{D as i}from"../../../../../@nplayer-Ytfh3HMq.js";import{q as s}from"./components/quality-DSXx8ISH.js";import{s as r,a as l,b as n}from"./svg-D7T8bWi5.js";import{b as a}from"../../../../common/util/methods-C08ehvW-.js";import{_ as p}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{r as c}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{n as m,o as d,f as u,a as v,g as h,l as g}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import"../../../../../@vue-shared-LkD7rn4X.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";import"../../../../../axios-DPD4D5Qz.js";const y={class:"flex items-center justify-center video-wrap"},f={class:"nPlayer-wrap",ref:"nPlayerWrapRef"};const b=p({name:"view-demo-video-player",setup(){const p=c(0),v=c(null),h=a(),g=h+"demo-static/filmstrip/video/video.mp4?source=360p",y=[{label:"360p",baseUrl:h+"demo-static/filmstrip/video/video.mp4?source=360p"},{label:"480p",baseUrl:h+"demo-static/filmstrip/video/video.mp4?source=480p"},{label:"720p",baseUrl:h+"demo-static/filmstrip/video/video.mp4?source=720p"},{label:"1080p",baseUrl:h+"demo-static/filmstrip/video/video.mp4?source=1080p"}],f=(()=>{const e=[];for(let t=1;t<=11;t++)e.push(h+`demo-static/video-player/video_${t}.jpg`);return e})();let b=document.createElement("video");b.src=g;const w=document.createElement("div");w.innerHTML=r;const j=document.createElement("div");j.innerHTML=l;const k=document.createElement("div");k.innerHTML=n;let x=new t({plugins:[new i({items:[{time:.602321,text:"弹幕1～",color:"red"},{time:1.145145,text:"弹幕2～",color:"pink",type:"bottom"},{time:1.777777,text:"弹幕3～",color:"skyblue"},{time:2.123456,text:"弹幕996～",color:"skyblue",isMe:!0,type:"top"}]})],isTouch:!0,settings:["speed",{type:"switch",html:"视频镜像",checked:!1,init(e){e.video.classList.remove("nplayer_video-mirroring")},change(e,t){t.video.classList.toggle("nplayer_video-mirroring",e)}}],thumbnail:{startSecond:0,gapSecond:1,col:1,row:1,width:427/3,height:80,images:f},controls:[["play","volume","time","spacer","airplay","settings","web-fullscreen","fullscreen",{el:j,id:"tipDom2",tip:"🐮🍺滴画质",init(t,i,r){const l=new o.Popover(j),n=document.createElement("div");l.applyPanelStyle({padding:"5px 0"}),j.onclick=()=>{l.show(),r.hide()},j.onmouseenter=()=>{r.show()};const a=e(s,{list:y,active:p.value,handleClick:(e,o)=>{if(o.stopPropagation(),l.el.classList.remove("nplayer_popover-active"),e===p.value)return;t.pause(),p.value=e;let i=b.currentTime;i=0===i?0:i-.1,b.src=y[e].baseUrl,b.currentTime=i,t.play()}});m().then((()=>{a.mount(n),l.panelEl.appendChild(n)}))}},{tip:"🐮🍺啥也不是",el:w,init(e,t,o){w.onclick=i=>{alert("当前click",{player:e,position:t,tooltip:o,e:i})}},update(){}},{el:k,id:"tipDom3",tip:"🐮🍺截屏",init(e){k.onclick=()=>{const t=document.createElement("canvas");t.width=e.video.videoWidth,t.height=e.video.videoHeight,t.getContext("2d").drawImage(e.video,0,0,t.width,t.height),t.toBlob((e=>{const t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download="狠狠の截.png",o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}))}}}],["progress"]],contextMenus:["loop","pip",{html:"看看我の黑手",init(e,t){this.message="黑手！！！！！"},show(e,t){},click(e,t){alert(this.message)}}],contextMenuToggle:!0,video:b,videoProps:{autoplay:"true"}});return x.on("DanmakuSend",(e=>{})),d((()=>{x.mount(v.value),b.onclick=()=>{x.toggle()}})),u((()=>{x.dispose(),x=null,b=null})),{nPlayerWrapRef:v}}},[["render",function(e,t,o,i,s,r){return v(),h("div",y,[g("div",f,null,512)])}],["__scopeId","data-v-22697b66"]]);export{b as default};
