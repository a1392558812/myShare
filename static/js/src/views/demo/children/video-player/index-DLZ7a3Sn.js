import{c as e}from"../../../../../@vue-runtime-dom-CmJM4nE0.js";import{P as t,i as o}from"../../../../../nplayer-BTm3_zXc.js";import{D as i}from"../../../../../@nplayer-BVrcbTYV.js";import{q as s}from"./components/quality-abXF4Gg3.js";import{s as r,a as l,b as n}from"./svg-D7T8bWi5.js";import{b as a}from"../../../../common/util/methods-C-Gwc4Ne.js";import{_ as c}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{g as p,a as m,l as d,n as u,o as v,f as h}from"../../../../../@vue-runtime-core-DQcPG1cz.js";import{r as g}from"../../../../../@vue-reactivity-v2zUdFSg.js";import"../../../../../@vue-shared-C0QUMStP.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";import"../../../../../axios-CAFaAR0X.js";const y={class:"flex items-center justify-center video-wrap"},f={class:"nPlayer-wrap",ref:"nPlayerWrapRef"};const b=c({name:"view-demo-video-player",setup(){const c=g(0),p=g(null),m=a(),d=m+"demo-static/filmstrip/video/video.mp4?source=360p",y=[{label:"360p",baseUrl:m+"demo-static/filmstrip/video/video.mp4?source=360p"},{label:"480p",baseUrl:m+"demo-static/filmstrip/video/video.mp4?source=480p"},{label:"720p",baseUrl:m+"demo-static/filmstrip/video/video.mp4?source=720p"},{label:"1080p",baseUrl:m+"demo-static/filmstrip/video/video.mp4?source=1080p"}],f=(()=>{const e=[];for(let t=1;t<=11;t++)e.push(m+`demo-static/video-player/video_${t}.jpg`);return e})();let b=document.createElement("video");b.src=d;const w=document.createElement("div");w.innerHTML=r;const j=document.createElement("div");j.innerHTML=l;const k=document.createElement("div");k.innerHTML=n;let x=new t({plugins:[new i({items:[{time:.602321,text:"å¼¹å¹•1ï½ž",color:"red"},{time:1.145145,text:"å¼¹å¹•2ï½ž",color:"pink",type:"bottom"},{time:1.777777,text:"å¼¹å¹•3ï½ž",color:"skyblue"},{time:2.123456,text:"å¼¹å¹•996ï½ž",color:"skyblue",isMe:!0,type:"top"}]})],isTouch:!0,settings:["speed",{type:"switch",html:"è§†é¢‘é•œåƒ",checked:!1,init(e){e.video.classList.remove("nplayer_video-mirroring")},change(e,t){t.video.classList.toggle("nplayer_video-mirroring",e)}}],thumbnail:{startSecond:0,gapSecond:1,col:1,row:1,width:427/3,height:80,images:f},controls:[["play","volume","time","spacer","airplay","settings","web-fullscreen","fullscreen",{el:j,id:"tipDom2",tip:"ðŸ®ðŸºæ»´ç”»è´¨",init(t,i,r){const l=new o.Popover(j),n=document.createElement("div");l.applyPanelStyle({padding:"5px 0"}),j.onclick=()=>{l.show(),r.hide()},j.onmouseenter=()=>{r.show()};const a=e(s,{list:y,active:c.value,handleClick:(e,o)=>{if(o.stopPropagation(),l.el.classList.remove("nplayer_popover-active"),e===c.value)return;t.pause(),c.value=e;let i=b.currentTime;i=0===i?0:i-.1,b.src=y[e].baseUrl,b.currentTime=i,t.play()}});u().then((()=>{a.mount(n),l.panelEl.appendChild(n)}))}},{tip:"ðŸ®ðŸºå•¥ä¹Ÿä¸æ˜¯",el:w,init(e,t,o){w.onclick=i=>{alert("å½“å‰click",{player:e,position:t,tooltip:o,e:i})}},update(){}},{el:k,id:"tipDom3",tip:"ðŸ®ðŸºæˆªå±",init(e){k.onclick=()=>{const t=document.createElement("canvas");t.width=e.video.videoWidth,t.height=e.video.videoHeight,t.getContext("2d").drawImage(e.video,0,0,t.width,t.height),t.toBlob((e=>{const t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download="ç‹ ç‹ ã®æˆª.png",o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}))}}}],["progress"]],contextMenus:["loop","pip",{html:"çœ‹çœ‹æˆ‘ã®é»‘æ‰‹",init(e,t){this.message="é»‘æ‰‹ï¼ï¼ï¼ï¼ï¼"},show(e,t){},click(e,t){alert(this.message)}}],contextMenuToggle:!0,video:b,videoProps:{autoplay:"true"}});return x.on("DanmakuSend",(e=>{})),v((()=>{x.mount(p.value),b.onclick=()=>{x.toggle()}})),h((()=>{x.dispose(),x=null,b=null})),{nPlayerWrapRef:p}}},[["render",function(e,t,o,i,s,r){return m(),p("div",y,[d("div",f,null,512)])}],["__scopeId","data-v-22697b66"]]);export{b as default};
