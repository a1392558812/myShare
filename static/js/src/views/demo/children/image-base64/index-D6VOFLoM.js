import{v as e}from"../../../../../@vue-runtime-dom-ByoLcAZV.js";import{f as s}from"../../../../common/util/methods-C08ehvW-.js";import{i as t}from"../../../../../@vueuse-2ii6U9l7.js";import{r as l}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{o as a,a as o,g as r,l as i,s as u,m as n}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import{k as c}from"../../../../../@vue-shared-LkD7rn4X.js";import"../../../../../axios-DPD4D5Qz.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";const p={class:"flex items-center justify-center gap-[20px]"},d={class:"w-[600px] h-[600px] border-[1px] border-solid border-[#000]"},v=["src"],f=i("div",null,"支持粘贴图片，支持点击选择图片",-1),m={class:"w-[600px] h-[600px] border-[1px] border-solid border-[#000] flex flex-col justify-center gap-[20px]"},x={class:"w-full h-[500px] break-all overflow-auto"},h={class:"h-[25px]"},b={class:"h-[25px]"},g={__name:"index",setup(g){const j=l(""),{text:y,copy:w,copied:k,isSupported:_}=t({source:j}),z=l(0),D=l(0),C=l(null);function R(e){let s=0;for(let t=0;t<e.length;t++){const l=e.codePointAt(t);l>65535&&t++,s+=l<=127?1:l<=2047?2:l<=65535?3:4}return s}const A=e=>{const t=e.target.files[0];t&&(z.value=t.size,s(t).then((e=>{j.value=e,D.value=R(e)})))},F=()=>{w(j.value).then((()=>{}))},L=()=>{C.value.click()},E=e=>{e.preventDefault();const s=e.clipboardData||window.clipboardData;if(s.types&&s.types.length&&s.types.includes("Files")&&s.files&&s.files.length){const e=s.files[0];if(-1===e.type.indexOf("image"))return;z.value=e.size;const t=new FileReader;t.onload=e=>{j.value=e.target.result,D.value=R(e.target.result)},t.readAsDataURL(e)}};return a((()=>{document.addEventListener("paste",E)})),(s,t)=>(o(),r("div",p,[i("div",d,[j.value?(o(),r("img",{key:0,src:j.value,alt:"",class:"w-full h-[500px] object-contain"},null,8,v)):u("",!0),j.value?(o(),r("button",{key:1,onClick:L},"换一张")):u("",!0),i("div",null,[f,n(i("input",{ref_key:"uploadRef",ref:C,type:"file",accept:"image/*",onChange:A},null,544),[[e,!j.value]])])]),i("div",m,[i("div",x,c(j.value),1),i("div",null,[i("button",{class:"h-[25px] mb-[10px]",onClick:F},"全部复制"),i("div",h,"原先size: "+c(z.value),1),i("div",b,"当前size: "+c(D.value),1)])])]))}};export{g as default};
