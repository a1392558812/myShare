import{v as e}from"../../../../../@vue-runtime-dom-ByoLcAZV.js";import{f as t}from"../../../../common/util/methods-C08ehvW-.js";import{g as s}from"../../../../../@vueuse-Kp02xzZ3.js";import{_ as o}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{r as a}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{o as l,a as r,g as n,l as i,s as u,m as d,x as c,y as g}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import{k as m}from"../../../../../@vue-shared-LkD7rn4X.js";import"../../../../../axios-DPD4D5Qz.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";const p=e=>(c("data-v-865a0894"),e=e(),g(),e),f={class:"min-h-screen bg-gradient-to-br from-indigo-50 to-blue-100 p-8 flex items-center justify-center"},x={class:"container max-w-7xl mx-auto"},v=p((()=>i("h1",{class:"text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-gray-800 text-center mb-10"},"图片转Base64工具",-1))),b={class:"flex flex-col lg:flex-row gap-8 items-stretch justify-center"},h={class:"w-full max-w-[600px] bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100"},y={class:"p-[20px] h-[calc(100%-20px*2)] box-content"},w=p((()=>i("h2",{class:"text-xl font-semibold text-gray-700 mb-4"},"图片预览",-1))),j={class:"h-[500px] border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center bg-gray-50 relative"},k=["src"],_={key:2,class:"text-center"},B=[p((()=>i("div",{class:"text-gray-500 mb-4"},"支持粘贴图片，支持点击选择图片",-1))),p((()=>i("label",{for:"file-upload",class:"cursor-pointer inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300"}," 选择图片 ",-1)))],M={class:"w-full max-w-[600px] bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100"},C={class:"p-[20px]"},z=p((()=>i("h2",{class:"text-xl font-semibold text-gray-700 mb-4"},"Base64编码",-1))),D={class:"relative"},F={class:"h-[400px] break-all overflow-auto p-4 bg-gray-800 text-gray-100 rounded-lg text-sm font-mono shadow-sm"},R=[p((()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)))],A={class:"mt-4 flex flex-col gap-2"},H={class:"grid grid-cols-2 gap-4 mt-2"},L={class:"bg-blue-50 p-3 rounded-lg"},O=p((()=>i("span",{class:"text-sm text-gray-500"},"原始大小:",-1))),E={class:"font-semibold text-blue-700 ml-1"},I={class:"bg-purple-50 p-3 rounded-lg"},K=p((()=>i("span",{class:"text-sm text-gray-500"},"Base64大小:",-1))),P={class:"font-semibold text-purple-700 ml-1"},S=o({__name:"index",setup(o){const c=a(""),{text:g,copy:p,copied:S,isSupported:U}=s({source:c}),V=a(0),q=a(0),G=a(null);function J(e){let t=0;for(let s=0;s<e.length;s++){const o=e.codePointAt(s);o>65535&&s++,t+=o<=127?1:o<=2047?2:o<=65535?3:4}return t}function N(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB"][t]}const Q=e=>{const s=e.target.files[0];s&&(V.value=s.size,t(s).then((e=>{c.value=e,q.value=J(e)})))},T=()=>{p(c.value).then((()=>{}))},W=()=>{G.value.click()},X=e=>{e.preventDefault();const t=e.clipboardData||window.clipboardData;if(t.types&&t.types.length&&t.types.includes("Files")&&t.files&&t.files.length){const e=t.files[0];if(-1===e.type.indexOf("image"))return;V.value=e.size;const s=new FileReader;s.onload=e=>{c.value=e.target.result,q.value=J(e.target.result)},s.readAsDataURL(e)}};return l((()=>{document.addEventListener("paste",X)})),(t,s)=>(r(),n("div",f,[i("div",x,[v,i("div",b,[i("div",h,[i("div",y,[w,i("div",j,[c.value?(r(),n("img",{key:0,src:c.value,alt:"预览图片",class:"max-w-full max-h-[400px] object-contain rounded-md shadow-sm"},null,8,k)):u("",!0),c.value?(r(),n("button",{key:1,onClick:W,class:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-300 font-medium"}," 换一张 ")):(r(),n("div",_,B))])])]),i("div",M,[i("div",C,[z,i("div",D,[i("div",F,m(c.value||"Base64编码将显示在这里..."),1),c.value?(r(),n("button",{key:0,onClick:T,class:"absolute top-4 right-4 bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-md transition-colors"},R)):u("",!0)]),i("div",A,[c.value?(r(),n("button",{key:0,onClick:T,class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all duration-300 font-medium"}," 全部复制 ")):u("",!0),i("div",H,[i("div",L,[O,i("span",E,m(N(V.value)),1)]),i("div",I,[K,i("span",P,m(N(q.value)),1)])])])])])])]),d(i("input",{id:"file-upload",ref_key:"uploadRef",ref:G,type:"file",accept:"image/*",onChange:Q,class:"sr-only z-[-1]"},null,544),[[e,!c.value]])]))}},[["__scopeId","data-v-865a0894"]]);export{S as default};
