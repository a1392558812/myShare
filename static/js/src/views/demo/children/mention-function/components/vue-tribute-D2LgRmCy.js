import{$ as t}from"../../../../../../jquery-IViRahhZ.js";import"../../../../../../tributejs-COWOt0o1.js";import"../../../../../static/tribute/index-C6blBvLc.js";import{T as e}from"../../../../../static/tribute/tribute-DaPSKTRJ.js";import{_ as r}from"../../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{d as a,o as u,f as i,e as s,n,g as o,a as l,r as v}from"../../../../../../@vue-runtime-core-DQcPG1cz.js";import{r as c,u as d}from"../../../../../../@vue-reactivity-v2zUdFSg.js";const p=a({name:"vue-tribute",props:{options:{type:Object,default:()=>({collection:[{values:[]}]}),required:!0}},emits:["initTribute"],setup(r,{emit:a,slots:o}){if(void 0===e)throw new Error("[vue-tribute] cannot locate tributejs.");const l=c(null),v=c(null),p=(t,u=r.options)=>{if(!t.value)return;const i=new e(d(u));a("initTribute",i),i.attach(t.value),t.value.tributeInstance=i};u((()=>{if(v.value=l.value?t(l.value).children()[0]:null,!v.value)throw new Error("[vue-tribute] 包裹组件下无插槽内容组件");p(v),v.value.addEventListener("tribute-replaced",(t=>{var e;null==(e=t.target)||e.dispatchEvent(new Event("input",{bubbles:!0}))}))}));const b=t=>{var e;(null==(e=t.value)?void 0:e.tributeInstance)&&(t.value.tributeInstance.detach(t.value),t.value.tributeInstance=void 0,delete t.value.dataset.tribute)};return i((()=>{b(v)})),s((()=>r.options),(async t=>{var e;(null==(e=v.value)?void 0:e.tributeInstance)&&(await n(),b(v),await n(),p(v,{...t}))}),{deep:!0}),{root:l}}}),b={class:"v-tribute w-full",ref:"root"};const m=r(p,[["render",function(t,e,r,a,u,i){return l(),o("div",b,[v(t.$slots,"default",{},void 0,!0)],512)}],["__scopeId","data-v-4715e48e"]]);export{m as v};
