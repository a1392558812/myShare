import{f as e}from"../../../../../@vueuse-CzS49P4w.js";import{b as o}from"../../../../common/util/methods-G0pJ8i8C.js";import{_ as l}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{r as s}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{o as r,U as a,m as t,a as i,g as u,l as n,x as v,y as c}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import{l as d}from"../../../../../@vue-shared-LkD7rn4X.js";import"../../../../../axios-DPD4D5Qz.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";const f={name:"view-demo-video-scroll",setup(){const l=s(!0),a=s(null),t=s(null),i=s(null),u=`${o()}demo-static/filmstrip/video/video.mp4`;let n=0,v=0,c=0,d=0,f=0;const{y:m}=e(t,{onScroll:()=>{const e=i.value.offsetHeight-t.value.offsetHeight;c=m.value/e}});return r((()=>{a.value.pause(),setTimeout((()=>{a.value.currentTime=.1,l.value=!1,setInterval((()=>{if(f!==m.value&&(n||(n=a.value.duration),n)){d+=.75*(c-v),d>1&&(d=1),d<-1&&(d=-1),v=+(.21*(v+d)+.79*c).toFixed(5);const e=v*n;v<0&&(v=0),a.value.currentTime=e,a.value.pause(),f=m.value}}),60)}),2500)})),{scrollVideoRef:a,scrollWrapRef:t,scrollRef:i,videoUrl:u,loading:l}}},m=(e=>(v("data-v-3b87ad1b"),e=e(),c(),e))((()=>n("div",{style:{left:"0",top:"0"},class:"fixed"},[n("div",null,"github-page资源访问较慢，这里做2.5s缓冲")],-1))),p={ref:"scrollRef",class:"relative scroll-target"},g=["src"];const j=l(f,[["render",function(e,o,l,s,r,v){const c=a("loading");return t((i(),u("div",{ref:"scrollWrapRef",class:d([s.loading?"":"overflow-y-auto","relative scroll-video-wrap"])},[m,n("div",p,null,512),n("video",{ref:"scrollVideoRef",preload:"",autobuffer:"",controls:!1,autoplay:!1,src:s.videoUrl,width:"1096",class:"fixed align-center scroll-video"},null,8,g)],2)),[[c,s.loading]])}],["__scopeId","data-v-3b87ad1b"]]);export{j as default};
