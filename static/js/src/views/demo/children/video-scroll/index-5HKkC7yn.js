import{f as e}from"../../../../../@vueuse-BUPFo47n.js";import{b as o}from"../../../../common/util/methods-C-Gwc4Ne.js";import{_ as l}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{U as s,m as r,g as a,a as t,l as i,o as u,t as v,x as c}from"../../../../../@vue-runtime-core-DQcPG1cz.js";import{l as d}from"../../../../../@vue-shared-C0QUMStP.js";import{r as n}from"../../../../../@vue-reactivity-v2zUdFSg.js";import"../../../../../axios-CAFaAR0X.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";const f={name:"view-demo-video-scroll",setup(){const l=n(!0),s=n(null),r=n(null),a=n(null),t=`${o()}demo-static/filmstrip/video/video.mp4`;let i=0,v=0,c=0,d=0,f=0;const{y:m}=e(r,{onScroll:()=>{const e=a.value.offsetHeight-r.value.offsetHeight;c=m.value/e}});return u((()=>{s.value.pause(),setTimeout((()=>{s.value.currentTime=.1,l.value=!1,setInterval((()=>{if(f!==m.value&&(i||(i=s.value.duration),i)){d+=.75*(c-v),d>1&&(d=1),d<-1&&(d=-1),v=+(.21*(v+d)+.79*c).toFixed(5);const e=v*i;v<0&&(v=0),s.value.currentTime=e,s.value.pause(),f=m.value}}),60)}),2500)})),{scrollVideoRef:s,scrollWrapRef:r,scrollRef:a,videoUrl:t,loading:l}}},m=(e=>(v("data-v-3b87ad1b"),e=e(),c(),e))((()=>i("div",{style:{left:"0",top:"0"},class:"fixed"},[i("div",null,"github-page资源访问较慢，这里做2.5s缓冲")],-1))),p={ref:"scrollRef",class:"relative scroll-target"},g=["src"];const j=l(f,[["render",function(e,o,l,u,v,c){const n=s("loading");return r((t(),a("div",{ref:"scrollWrapRef",class:d([u.loading?"":"overflow-y-auto","relative scroll-video-wrap"])},[m,i("div",p,null,512),i("video",{ref:"scrollVideoRef",preload:"",autobuffer:"",controls:!1,autoplay:!1,src:u.videoUrl,width:"1096",class:"fixed align-center scroll-video"},null,8,g)],2)),[[n,u.loading]])}],["__scopeId","data-v-3b87ad1b"]]);export{j as default};
