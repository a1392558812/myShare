import{f as e}from"../../../../../@vueuse-2ii6U9l7.js";import{b as o}from"../../../../common/util/methods-C08ehvW-.js";import{_ as l}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{r as s}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{o as r,U as a,m as t,a as i,g as u,l as v,x as c,y as d}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import{l as n}from"../../../../../@vue-shared-LkD7rn4X.js";import"../../../../../axios-DPD4D5Qz.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";const f={name:"view-demo-video-scroll",setup(){const l=s(!0),a=s(null),t=s(null),i=s(null),u=`${o()}demo-static/filmstrip/video/video.mp4`;let v=0,c=0,d=0,n=0,f=0;const{y:m}=e(t,{onScroll:()=>{const e=i.value.offsetHeight-t.value.offsetHeight;d=m.value/e}});return r((()=>{a.value.pause(),setTimeout((()=>{a.value.currentTime=.1,l.value=!1,setInterval((()=>{if(f!==m.value&&(v||(v=a.value.duration),v)){n+=.75*(d-c),n>1&&(n=1),n<-1&&(n=-1),c=+(.21*(c+n)+.79*d).toFixed(5);const e=c*v;c<0&&(c=0),a.value.currentTime=e,a.value.pause(),f=m.value}}),60)}),2500)})),{scrollVideoRef:a,scrollWrapRef:t,scrollRef:i,videoUrl:u,loading:l}}},m=(e=>(c("data-v-3b87ad1b"),e=e(),d(),e))((()=>v("div",{style:{left:"0",top:"0"},class:"fixed"},[v("div",null,"github-page资源访问较慢，这里做2.5s缓冲")],-1))),p={ref:"scrollRef",class:"relative scroll-target"},g=["src"];const j=l(f,[["render",function(e,o,l,s,r,c){const d=a("loading");return t((i(),u("div",{ref:"scrollWrapRef",class:n([s.loading?"":"overflow-y-auto","relative scroll-video-wrap"])},[m,v("div",p,null,512),v("video",{ref:"scrollVideoRef",preload:"",autobuffer:"",controls:!1,autoplay:!1,src:s.videoUrl,width:"1096",class:"fixed align-center scroll-video"},null,8,g)],2)),[[d,s.loading]])}],["__scopeId","data-v-3b87ad1b"]]);export{j as default};
