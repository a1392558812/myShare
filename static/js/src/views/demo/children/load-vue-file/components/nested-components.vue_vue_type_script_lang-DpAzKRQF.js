import{V as e}from"../../../../../../vue-0cu6tKjf.js";import{v as t}from"../../../../../../vue3-sfc-loader-cy2gUNLd.js";import{r as o}from"../../../../../../@vue-reactivity-mdokXGQ5.js";import{b as l,j as n,P as a,m as s,R as i}from"../../../../../../@vue-runtime-core-lkGMyH8G.js";import{a as u}from"../../../../../../@vue-runtime-dom-ByoLcAZV.js";const d={name:"load-vue-file-nested-components",setup(){const n=o('<template><div style="border: 1px solid red; margin: 5px; padding: 5px"><div style="color: red;">这里是main</div><foo/></div></template><script>import foo from "./foo.vue";export default {components: {foo,},created() {console.log("main created")},mounted() {console.log("main mounted")}}<\/script>'),a=o('<template><div style="border: 1px solid green; margin: 5px; padding: 5px"><div style="color: green;">我是foo组件</div><bar/></div></template><script>import bar from "./bar.vue";export default {components: {bar,},created() {console.log("foo created")},mounted() {console.log("foo mounted")}}<\/script>'),s=o('<template><div class="bar-comp">bar组件在此</div></template><script>import "./style.css";export default {components: {},created() {console.log("bar created")},mounted() {console.log("bar mounted")}}<\/script>'),u=o(".bar-comp { color: blue; border: 1px solid blue; margin: 5px; padding: 5px; }"),d=l((()=>({files:{"/main.vue":n.value,"/foo.vue":a.value,"/bar.vue":s.value,"/style.css":u.value}}))),r=l((()=>i((()=>t.loadModule("/main.vue",{moduleCache:{vue:e},getFile:e=>d.value.files[e],addStyle(e){const t=Object.assign(document.createElement("style"),{textContent:e}),o=document.head.getElementsByTagName("style")[0]||null;document.head.insertBefore(t,o)},handleModule:async function(e,t,o,l){if(".css"===e)return l.addStyle(await t(!1)),null}})))));return{inputValue1:n,inputValue2:a,inputValue3:s,inputValue4:u,ifShowComponents:o(!1),comp:r}},render(){const e=this.comp,t=n(e,null,null);return n("div",{class:"toggle-load"},[n("div",{style:{fontWeight:"bold",color:"#FB7299"},class:"content"},[a("组件嵌套")]),n("div",null,[a("可F12打开控制台查看console内容")]),n("div",{class:"content"},[n("div",null,[a("请编辑main组件内容: ")]),s(n("textarea",{class:"content-input","onUpdate:modelValue":e=>this.inputValue1=e},null),[[u,this.inputValue1]])]),n("div",{class:"content"},[n("div",null,[a("请编辑foo组件内容: ")]),s(n("textarea",{class:"content-input","onUpdate:modelValue":e=>this.inputValue2=e},null),[[u,this.inputValue2]])]),n("div",{class:"content"},[n("div",null,[a("请编辑bar组件内容: ")]),s(n("textarea",{class:"content-input","onUpdate:modelValue":e=>this.inputValue3=e},null),[[u,this.inputValue3]])]),n("div",{class:"content"},[n("div",null,[a("请编辑bar组件css内容: ")]),s(n("textarea",{class:"content-input","onUpdate:modelValue":e=>this.inputValue4=e},null),[[u,this.inputValue4]])]),n("div",{class:"content"},[this.ifShowComponents?n("div",null,[t]):n("div",null,[n("div",null,[a("编写完点击生成")]),n("button",{onClick:()=>{this.ifShowComponents=!0}},[a("生成组件")])])])])}};export{d as _};
