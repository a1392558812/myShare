import{V as e}from"../../../../../../vue-D5WwiSYs.js";import{i as o}from"../../../../../../vue3-sfc-loader-BOu48WDF.js";import{_ as t}from"../../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{g as r,a,l as n,m as s,c as d,O as l,b as i,R as u,t as p,x as c}from"../../../../../../@vue-runtime-core-DQcPG1cz.js";import{a as m}from"../../../../../../@vue-runtime-dom-CmJM4nE0.js";import{r as g}from"../../../../../../@vue-reactivity-v2zUdFSg.js";const b={name:"load-vue-file-nested-components",setup(){const t=g('<template><div style="border: 1px solid red; margin: 5px; padding: 5px"><div style="color: red;">这里是main</div><foo/></div></template><script>import foo from "./foo.vue";export default {components: {foo,},created() {console.log("main created")},mounted() {console.log("main mounted")}}<\/script>'),r=g('<template><div style="border: 1px solid green; margin: 5px; padding: 5px"><div style="color: green;">我是foo组件</div><bar/></div></template><script>import bar from "./bar.vue";export default {components: {bar,},created() {console.log("foo created")},mounted() {console.log("foo mounted")}}<\/script>'),a=g('<template><div class="bar-comp">bar组件在此</div></template><script>import "./style.css";export default {components: {},created() {console.log("bar created")},mounted() {console.log("bar mounted")}}<\/script>'),n=g(".bar-comp { color: blue; border: 2px solid blue; margin: 10px; padding: 15px; border-radius: 8px; text-align: center; font-size: 18px; }"),s=g(!1),d=g(!0),l=g(0),p=i((()=>({files:{"/main.vue":t.value,"/foo.vue":r.value,"/bar.vue":a.value,"/style.css":n.value}}))),c=i((()=>u((()=>o("/main.vue",{moduleCache:{vue:e},getFile:e=>p.value.files[e],addStyle(e){const o=Object.assign(document.createElement("style"),{textContent:e}),t=document.head.getElementsByTagName("style")[0]||null;document.head.insertBefore(o,t)},handleModule:async function(e,o,t,r){if(".css"===e)return r.addStyle(await o(!1)),null}})))));return{inputValue1:t,inputValue2:r,inputValue3:a,inputValue4:n,ifShowComponents:s,comp:c,isLoading:d,componentKey:l,generateComponents:()=>{d.value=!1,setTimeout((()=>{s.value=!0,d.value=!0,l.value++}),100)},resetRender:()=>{s.value=!1}}}},x=e=>(p("data-v-ab177d53"),e=e(),c(),e),f={class:"nested-components"},v=x((()=>n("div",{class:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white p-4 rounded-lg mb-6 shadow-md"}," 组件嵌套演示 ",-1))),y=x((()=>n("div",{class:"bg-blue-50 border border-blue-100 text-blue-700 p-4 rounded-lg mb-6"},[n("p",null,"可F12打开控制台查看console内容")],-1))),h={class:"space-y-6"},w={class:"bg-gray-50 p-5 rounded-xl shadow-sm border border-gray-100"},V=x((()=>n("h3",{class:"text-lg font-semibold text-gray-800 mb-3"},"请编辑main组件内容:",-1))),C={class:"bg-gray-50 p-5 rounded-xl shadow-sm border border-gray-100"},k=x((()=>n("h3",{class:"text-lg font-semibold text-gray-800 mb-3"},"请编辑foo组件内容:",-1))),j={class:"bg-gray-50 p-5 rounded-xl shadow-sm border border-gray-100"},z=x((()=>n("h3",{class:"text-lg font-semibold text-gray-800 mb-3"},"请编辑bar组件内容:",-1))),U={class:"bg-gray-50 p-5 rounded-xl shadow-sm border border-gray-100"},R=x((()=>n("h3",{class:"text-lg font-semibold text-gray-800 mb-3"},"请编辑bar组件css内容:",-1))),S={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm"},_=x((()=>n("h3",{class:"text-xl font-semibold text-gray-800 mb-4"},"嵌套组件预览",-1))),B={key:0,class:"text-center py-6"},F=x((()=>n("p",{class:"mb-4 text-gray-600"},"编写完点击生成",-1))),E={key:1,class:"min-h-[300px] bg-gray-50 p-6 rounded-lg border border-gray-200"},K=x((()=>n("div",{class:"bg-white p-1 rounded-lg border border-gray-200 shadow-sm mb-4 inline-block"},[n("span",{class:"px-3 py-1 text-sm bg-indigo-100 text-indigo-800 rounded-md"},"嵌套组件结构: Main > Foo > Bar")],-1))),L={key:1,class:"text-center text-gray-500 py-10"};const M=t(b,[["render",function(e,o,t,i,u,p){return a(),r("div",f,[v,y,n("div",h,[n("div",w,[V,s(n("textarea",{class:"w-[calc(100%-20px*2)] box-content h-[120px] px-[20px] py-4 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 font-mono text-sm bg-white resize-none","onUpdate:modelValue":o[0]||(o[0]=e=>i.inputValue1=e)},null,512),[[m,i.inputValue1]])]),n("div",C,[k,s(n("textarea",{class:"w-[calc(100%-20px*2)] box-content h-[120px] px-[20px] py-4 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 font-mono text-sm bg-white resize-none","onUpdate:modelValue":o[1]||(o[1]=e=>i.inputValue2=e)},null,512),[[m,i.inputValue2]])]),n("div",j,[z,s(n("textarea",{class:"w-[calc(100%-20px*2)] box-content h-[120px] px-[20px] py-4 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 font-mono text-sm bg-white resize-none","onUpdate:modelValue":o[2]||(o[2]=e=>i.inputValue3=e)},null,512),[[m,i.inputValue3]])]),n("div",U,[R,s(n("textarea",{class:"w-[calc(100%-20px*2)] box-content h-[120px] px-[20px] py-4 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 font-mono text-sm bg-white resize-none","onUpdate:modelValue":o[3]||(o[3]=e=>i.inputValue4=e)},null,512),[[m,i.inputValue4]])]),n("div",S,[_,i.ifShowComponents?(a(),r("div",E,[K,(a(),r("div",{class:"transition-all duration-500",key:i.componentKey},[i.isLoading?(a(),d(l(i.comp),{key:0})):(a(),r("div",L,"加载中..."))])),n("button",{onClick:o[5]||(o[5]=(...e)=>i.resetRender&&i.resetRender(...e)),class:"mt-6 bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-2 px-6 rounded-lg transition-all duration-200"}," 重新生成 ")])):(a(),r("div",B,[F,n("button",{onClick:o[4]||(o[4]=(...e)=>i.generateComponents&&i.generateComponents(...e)),class:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium py-3 px-8 rounded-lg shadow-md transition-all duration-300 transform hover:scale-[1.02] hover:shadow-lg"}," 生成组件 ")]))])])])}],["__scopeId","data-v-ab177d53"]]);export{M as n};
