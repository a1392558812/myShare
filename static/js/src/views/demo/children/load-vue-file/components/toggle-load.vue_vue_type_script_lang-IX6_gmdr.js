import{V as e}from"../../../../../../vue-0cu6tKjf.js";import{v as t}from"../../../../../../vue3-sfc-loader-cy2gUNLd.js";import{r as o}from"../../../../../../@vue-reactivity-mdokXGQ5.js";import{b as n,j as l,P as s,m as a,R as u}from"../../../../../../@vue-runtime-core-lkGMyH8G.js";import{a as i}from"../../../../../../@vue-runtime-dom-ByoLcAZV.js";const r={name:"load-vue-file-toggle-load",setup(){const l=o("a"),s=o('<template><div class="test-a">a组件字符串内容</div></template><style scoped>.test-a{ color: red }</style>'),a=o('<template><div class="test-b">b组件字符串内容</div></template><style scoped>.test-b{ color: green }</style>'),i=n((()=>{const o=`/${l.value}.vue`;return u((()=>t.loadModule(o,{moduleCache:{vue:e},getFile:e=>({"/a.vue":s.value,"/b.vue":a.value}[e]||Promise.reject(new Error("error status"))),addStyle(e){const t=Object.assign(document.createElement("style"),{textContent:e}),o=document.head.getElementsByTagName("style")[0]||null;document.head.insertBefore(t,o)}})))}));return{toggleCurrentComponent:()=>{l.value="a"===l.value?"b":"a"},currentComponent:l,inputValue1:s,inputValue2:a,ifShowComponents:o(!1),comp:i}},render(){const e=this.comp,t=l(e,{key:this.currentComponent},null);return l("div",{class:"toggle-load"},[l("div",{style:{fontWeight:"bold",color:"#FB7299"},class:"content"},[s("模块切换演示")]),l("div",{class:"content"},[l("div",null,[s("请编辑a组件内容: ")]),a(l("textarea",{class:"content-input","onUpdate:modelValue":e=>this.inputValue1=e},null),[[i,this.inputValue1]])]),l("div",{class:"content"},[l("div",null,[s("请编辑b组件内容: ")]),a(l("textarea",{class:"content-input","onUpdate:modelValue":e=>this.inputValue2=e},null),[[i,this.inputValue2]])]),l("div",{class:"content"},[this.ifShowComponents?l("div",null,[l("button",{onClick:()=>{this.toggleCurrentComponent()}},[s("toggle切换")]),l("div",null,[s("当前dynamic component: 【"),this.currentComponent,s("】")]),t]):l("div",null,[l("div",null,[s("编写完点击生成")]),l("button",{onClick:()=>{this.ifShowComponents=!0}},[s("生成组件")])])])])}};export{r as _};
