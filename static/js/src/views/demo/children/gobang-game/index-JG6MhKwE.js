import{u as e}from"../../../../../vue-router-DBqTrJEm.js";import{_ as l}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{a,r}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{a as s,g as o,l as t,F as u,q as i,s as n,x as v,y as d}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import{k as c,l as p}from"../../../../../@vue-shared-LkD7rn4X.js";const b=(e=>(v("data-v-b5d55389"),e=e(),d(),e))((()=>t("div",null,"可修改路径参数?size=5或者?size=20等修改棋盘大小",-1))),x={class:"flex items-center gap-[20px] p-[20px]"},f={class:"m-0 text-[#333] shrink-[0]"},m={class:"shrink-[0] border-[2px] border-solid border-[#333] bg-[#f0d9b5]"},h=["onClick"],g={class:"shrink-[0]"},k={key:0,class:"m-0 mb-[10px] text-[#333]"},y={class:"history"},_={class:"mb-[10px]"},w=["disabled"],j=l(Object.assign({name:"gobang-game"},{__name:"index",setup(l){const v=+(e().query.size||30),d=a(Array(v).fill().map((()=>Array(v).fill(0)))),j=r(1),C=r(null),z=r([]),q=[[1,0],[0,1],[1,1],[1,-1]],A=(e,l)=>{const a=j.value;for(const[r,s]of q){let o=1,t=1;for(;e+r*t>=0&&e+r*t<v&&l+s*t>=0&&l+s*t<v&&d[e+r*t][l+s*t]===a;)o++,t++;for(t=1;e-r*t>=0&&e-r*t<v&&l-s*t>=0&&l-s*t<v&&d[e-r*t][l-s*t]===a;)o++,t++;if(o>=5)return void(C.value=1===a?"黑棋":"白棋")}d.flat().every((e=>0!==e))&&(C.value="draw")},E=()=>{d.forEach((e=>e.fill(0))),j.value=1,C.value=null},F=()=>{if(z.value.length>0){const e=z.value.pop();d[e.row][e.col]=0,j.value=e.player,C.value=null}};return(e,l)=>(s(),o("div",null,[b,t("div",x,[t("h2",f,"当前玩家："+c(j.value),1),t("div",m,[(s(!0),o(u,null,i(d,((e,l)=>(s(),o("div",{key:l,class:"flex"},[(s(!0),o(u,null,i(e,((e,a)=>(s(),o("div",{key:a,class:p(["cell w-[25px] h-[25px] border-[1px] border-solid border-[#999] cursor-pointer relative [transition:background-color_0.3s]",{black:1===e,white:2===e}]),onClick:e=>((e,l)=>{0!==d[e][l]||C.value||(z.value.push({row:e,col:l,player:j.value}),d[e][l]=j.value,A(e,l),C.value||(j.value=1===j.value?2:1))})(l,a)},null,10,h)))),128))])))),128))]),t("div",g,[t("button",{class:"mb-[10px]",onClick:E},"重新开始"),C.value?(s(),o("h3",k,c("draw"===C.value?"平局！":`获胜者：${C.value}`),1)):n("",!0),t("div",y,[t("h4",_,"历史记录（"+c(z.value.length)+"步）",1),t("button",{onClick:F,class:"px-[20px] py-[10px] text-[16px] leading-[1] cursor-pointer bg-[#4caf50] hover:bg-[rgba(0,_0,_0,_0.1)] text-[white] border-none rounded-[5px] [transition:background_0.3s] hover:bg-[#45a049]",disabled:0===z.value.length}," 悔棋 ",8,w)])])])]))}}),[["__scopeId","data-v-b5d55389"]]);export{j as default};
