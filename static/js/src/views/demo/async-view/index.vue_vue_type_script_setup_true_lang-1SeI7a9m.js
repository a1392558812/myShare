import{V as e}from"../../../../vue-DNqxisCO.js";import{v as t}from"../../../../vue3-sfc-loader-cy2gUNLd.js";import s from"../../404/index-DKdm2SlI.js";import{a as o}from"../../../common/axios/index-CK6lisJl.js";import{u as n}from"../../../../vue-router-BcUl0JBZ.js";import{l}from"../../../components/loading/loading-CBFkRS8_.js";import{c as r}from"../../../../sass-CEJ-dx0B.js";import{a as i,g as a,c,O as d,R as m,j as u}from"../../../../@vue-runtime-core-hXVbjtl0.js";import{u as p}from"../../../../@vue-reactivity-UKyDGrvc.js";const g=Object.assign({name:"async-view"},{__name:"index",setup(g){let f=n().path.split("/demo")[1];f=f.split("/")[1];const y=m({loader:()=>t.loadModule(`./async-demo/${f}/index.vue`,{moduleCache:{vue:e},getFile:e=>new Promise(((t,s)=>{const n=e;o.get(n).then((e=>{let s=!0,o=((e,t)=>{if("string"!=typeof e||"function"!=typeof t)throw new Error("第一个参数必须是字符串，第二个参数必须是函数");const s=/<style\s+(?=(?:[^>]*?\s+)?lang\s*=\s*"scss")([\s\S]*?)>([\s\S]*?)<\/style>/gi;let o,n=e,l=0;const r=[];for(;null!==(o=s.exec(e));){let e=o[1].trim();const t=/\bscoped\b/.test(e.replace(/\/\*[\s\S]*?\*\//g,"")),s=e.replace(/lang\s*=\s*"scss"\s*/gi,"").replace(/\s+/g," ").trim();r.push({fullMatch:o[0],originalAttrs:e,cleanedAttrs:s,content:o[2],isScoped:t,index:o.index,length:o[0].length})}for(let i=r.length-1;i>=0;i--){const{fullMatch:e,cleanedAttrs:s,content:o,isScoped:a,index:c}=r[i],d=t(o,a,l);l++;const m=s?`<style ${s}>${d}</style>`:`<style>${d}</style>`;n=n.substring(0,c)+m+n.substring(c+e.length)}return n})(e.data||"",((e,t,o)=>{try{const t=r(e,{style:"expanded"});return t.css?(s=!0,t.css):(s=!1,"")}catch(n){return s=!1,""}}));o=s?o:'<template><div style="background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; font-size: 30px; color: red"><div>scss编译失败</div><div>请检查scss语法是否有误</div></div></template>',t(o)})).catch((e=>{s(e)}))})),addStyle(e){const t=Object.assign(document.createElement("style"),{textContent:e}),s=document.head.getElementsByTagName("style")[0]||null;document.head.insertBefore(t,s)},log(e,...t){"error"===e&&alert("组件解析发生意外，请打开控制台查看")},handleModule:(e,t,o,n)=>t&&t()&&".vue"===e?Promise.resolve(n.moduleCache[n.path]):s}),errorComponent:()=>u(s,null,null),loadingComponent:()=>u(l,{showModal:!0,style:"position: fixed"},null)});return(e,t)=>(i(),a("div",null,[(i(),c(d(p(y))))]))}});export{g as _};
