import{T as e}from"../../../../@vue-runtime-dom-DvlG2p-m.js";import{u as t}from"../../../../vuex-KyiJK7Li.js";import{l as i}from"./link-tag-DTPNYsf5.js";import{b as l,j as s,P as a,N as n,Q as r}from"../../../../@vue-runtime-core-C-ht4TMg.js";const o={name:"left-sidebar-item",components:{linkTag:i,Transition:e},props:{grade:{type:Number,default:-1},rowDetails:{type:Object,default:()=>({})},menuList:{type:Array,default:()=>[]},ifShow:{type:Boolean,default:!0}},setup(e,{emit:i}){const s=t(),a=l((()=>s.state.menuData.nowActive)),n=l((()=>e.rowDetails)),r=l((()=>e.grade+1)),o=l((()=>{if(0===r.value&&a.value){return+a.value.split("-")[0]==+n.value.indexPage.split("-")[0]}return!1})),u=l((()=>n.value&&n.value.children?n.value.children:[])),c=l((()=>u.value.length?"div":"a")),h=l((()=>u.value.length?{}:{href:`/#/?indexPage=${n.value.indexPage}`})),m=l((()=>({marginLeft:"1em",display:n.value.ifShow?"block":"none"}))),d=l((()=>{let e="cursor-pointer cell";return e=n.value.link?`link-cell ${e}`:`${e} ${u.value.length?"list-cell":"block item-cell"}`,a.value!==n.value.indexPage||n.value.children||(e=`item-active ${e}`),e})),v=(e,t)=>{i("listClick",e,t)},p=(e,t,l)=>{i("itemClick",e,t,l)};return{tag:c,currentGrade:r,renderList:u,hrefMap:h,className:d,titleStyleName:m,ifActiveList:o,onRowClick:t=>{t.preventDefault(),t.stopPropagation(),u.value.length?v(t,n.value):p(t,e.menuList,n.value)},listClick:v,itemClick:p}},render(){const e=this.tag;return this.rowDetails&&this.rowDetails.name?s(e,r({class:this.className},this.hrefMap,{title:this.rowDetails.name,onClick:this.onRowClick}),{default:()=>[this.ifActiveList?s("div",{class:"list-active"},null):null,s("div",{onClick:this.onRowClick,class:"cell-item-title flex"},[s("span",{style:"margin-left: 0.5em"},[this.rowDetails.name]),this.renderList.length?s("svg",{class:"icon shrink-0 overflow-hidden",style:{transform:`rotate(${this.rowDetails.ifShow?90:0}deg)`,transition:"all 0.3s",width:"1em",height:"1.5em",verticalAlign:"middle",fill:"currentColor"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"34097"},[s("path",{d:"M349.184 208.384l346.624 261.632c22.528 16.896 27.136 49.152 10.24 71.68-3.072 3.584-6.144 7.168-10.24 10.24l-346.624 261.632c-11.264 8.704-27.136 6.144-35.84-5.12-3.584-4.608-5.12-9.728-5.12-15.36V228.864c0-14.336 11.264-25.6 25.6-25.6 5.12 0 10.752 2.048 15.36 5.12z","p-id":"34098"},null)]):null,this.rowDetails.link?s(i,null,null):null,this.rowDetails.topping?s("div",{class:"shrink-0 flex items-center justify-center topping"},[s("span",null,[a("置顶")])]):null]),this.rowDetails.ifHadRender?s("div",{style:this.titleStyleName},[this.renderList.map(((e,t)=>s(n("left-sidebar-item"),{rowDetails:e,menuList:this.renderList,key:`${this.currentGrade}-${t}-${e.indexPage}`,ifShow:this.rowDetails.ifShow,grade:this.currentGrade,onListClick:this.listClick,onItemClick:this.itemClick},null)))]):null]}):null}};export{o as _};
