import{T as e}from"../../../../@vue-runtime-dom-CmJM4nE0.js";import{u as t}from"../../../../vuex-BhxYhhdL.js";import{l as i}from"./link-tag-B3LvW_NH.js";import{j as l,Q as s,b as a,P as n,N as r}from"../../../../@vue-runtime-core-DQcPG1cz.js";const o={name:"left-sidebar-item",components:{linkTag:i,Transition:e},props:{grade:{type:Number,default:-1},rowDetails:{type:Object,default:()=>({})},menuList:{type:Array,default:()=>[]},ifShow:{type:Boolean,default:!0}},setup(e,{emit:i}){const l=t(),s=a((()=>l.state.menuData.nowActive)),n=a((()=>e.rowDetails)),r=a((()=>e.grade+1)),o=a((()=>{if(0===r.value&&s.value){return+s.value.split("-")[0]==+n.value.indexPage.split("-")[0]}return!1})),u=a((()=>n.value&&n.value.children?n.value.children:[])),c=a((()=>u.value.length?"div":"a")),h=a((()=>u.value.length?{}:{href:`/#/?indexPage=${n.value.indexPage}`})),m=a((()=>({marginLeft:"1em",display:n.value.ifShow?"block":"none"}))),d=a((()=>{let e="cursor-pointer cell";return e=n.value.link?`link-cell ${e}`:`${e} ${u.value.length?"list-cell":"block item-cell"}`,s.value!==n.value.indexPage||n.value.children||(e=`item-active ${e}`),e})),v=(e,t)=>{i("listClick",e,t)},p=(e,t,l)=>{i("itemClick",e,t,l)};return{tag:c,currentGrade:r,renderList:u,hrefMap:h,className:d,titleStyleName:m,ifActiveList:o,onRowClick:t=>{t.preventDefault(),t.stopPropagation(),u.value.length?v(t,n.value):p(t,e.menuList,n.value)},listClick:v,itemClick:p}},render(){const e=this.tag;return this.rowDetails&&this.rowDetails.name?l(e,s({class:this.className},this.hrefMap,{title:this.rowDetails.name,onClick:this.onRowClick}),{default:()=>[this.ifActiveList?l("div",{class:"list-active"},null):null,l("div",{onClick:this.onRowClick,class:"cell-item-title flex"},[l("span",{style:"margin-left: 0.5em"},[this.rowDetails.name]),this.renderList.length?l("svg",{class:"icon shrink-0 overflow-hidden",style:{transform:`rotate(${this.rowDetails.ifShow?90:0}deg)`,transition:"all 0.3s",width:"1em",height:"1.5em",verticalAlign:"middle",fill:"currentColor"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"34097"},[l("path",{d:"M349.184 208.384l346.624 261.632c22.528 16.896 27.136 49.152 10.24 71.68-3.072 3.584-6.144 7.168-10.24 10.24l-346.624 261.632c-11.264 8.704-27.136 6.144-35.84-5.12-3.584-4.608-5.12-9.728-5.12-15.36V228.864c0-14.336 11.264-25.6 25.6-25.6 5.12 0 10.752 2.048 15.36 5.12z","p-id":"34098"},null)]):null,this.rowDetails.link?l(i,null,null):null,this.rowDetails.topping?l("div",{class:"shrink-0 flex items-center justify-center topping"},[l("span",null,[n("置顶")])]):null]),this.rowDetails.ifHadRender?l("div",{style:this.titleStyleName},[this.renderList.map(((e,t)=>l(r("left-sidebar-item"),{rowDetails:e,menuList:this.renderList,key:`${this.currentGrade}-${t}-${e.indexPage}`,ifShow:this.rowDetails.ifShow,grade:this.currentGrade,onListClick:this.listClick,onItemClick:this.itemClick},null)))]):null]}):null}};export{o as _};
