import{a as e}from"../../../vue-router-DhXt6nTE.js";import{u as t}from"../../../vuex-BhxYhhdL.js";import{e as i}from"../../store/actionType-BVA9uGQF.js";import{t as o}from"../../static/theme/type-mDjvBssU.js";import{c as l}from"../commonm-btn/index-Bp6UIeO3.js";import{j as n,P as a,F as r}from"../../../@vue-runtime-core-DQcPG1cz.js";import{r as s}from"../../../@vue-reactivity-v2zUdFSg.js";const m={name:"components-nav-link",components:{commonmBtn:l},props:{ifLarger:{type:Boolean,default:!0}},emits:["goHome","toggleShowNavLink"],setup(l,{emit:a}){const r=e(),m=t(),c=e=>{if(e.newPage)return window.open(`./#${e.url}`);a("toggleShowNavLink",!1),r.push(e.url)},h=s([{name:"书签",newPage:!1,url:"/bookmarks"},{name:"首页",newPage:!1,url:"/",imageUrl:new URL(""+new URL("../../../../jpg/heishou2-6K5oALWd.jpg",import.meta.url).href,import.meta.url).href,imageClass:"heishou",onClick:()=>{a("goHome")}},{name:"一些特效demo",newPage:!1,url:"/demo"},{name:"代码操练",newPage:!0,url:"/demo/playground"}]),g=(e,t)=>{t&&t.preventDefault(),e.onClick?e.onClick(t):c(e)};return{linkList:h,navigatorTo:c,handleClick:g,toggleTheme:e=>{const t=localStorage.getItem("--global-theme");document.startViewTransition((()=>{document.startViewTransition((()=>{if(o[t]){if("light"===t)return localStorage.setItem("--global-theme","dark"),void m.dispatch(i,"dark");if("dark"===t)return localStorage.setItem("--global-theme","light"),void m.dispatch(i,"light")}else localStorage.setItem("--global-theme","dark"),m.dispatch(i,"dark")})).ready.then((()=>{const{clientX:t,clientY:i}=e,o=Math.hypot(Math.max(t,innerWidth-t),Math.max(i,innerHeight-i));document.documentElement.animate([{clipPath:`circle(0% at ${t}px ${i}px)`},{clipPath:`circle(${o}px at ${t}px ${i}px)`}],{duration:300,pseudoElement:"::view-transition-new(root)"})}))}))},commonLink:(e,t)=>n("a",{key:t,style:{marginRight:t<h.value.length-1?"15px":""},class:"go-home block shrink-0 cursor-pointer flex items-center justify-start",href:`/#${e.url}`,onClick:t=>{g(e,t)}},[e.imageUrl?n("img",{class:e.imageClass,src:e.imageUrl},null):null,n("p",null,[e.name])])}},render(){return n(r,null,[n("div",{class:"flex "+(this.ifLarger?"items-center":"flex-col")},[this.ifLarger?n("div",{class:"go-home-list relative"},[n("div",{class:"go-home flex flex-nowrap items-center justify-center cursor-pointer"},[n("span",{class:"shrink-0"},[a("导航")]),n("svg",{style:"margin-left: .25em;width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[n("path",{d:"M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"},null)])]),n("div",{style:{width:`${(()=>this.linkList.reduce(((e,t)=>e.name.length>t.name.length?e:t)).name.length+1)()}em`},class:"bg-style box-sizing w-[100%] absolute go-home-list-content"},[this.linkList.map(((e,t)=>this.commonLink(e,t)))])]):n("div",null,[this.linkList.map(((e,t)=>this.commonLink(e,t)))]),n("div",{class:"flex shrink-0"},[n(l,{style:{height:"1em",marginRight:"1em"},onClick:this.toggleTheme},{default:()=>[a("切换主题")]})])])])}};export{m as _};
