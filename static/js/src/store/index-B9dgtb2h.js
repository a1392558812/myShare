import{c as e}from"../../vuex-C9rRLaBQ.js";import{a as t}from"../common/axios/index-CK6lisJl.js";import{g as m}from"./getter-BGHZ_X6R.js";import{S as i,d as r,c as a,e as n,a as o,b as l}from"./actionType-CNHuB-Of.js";import{t as s}from"../static/theme/type-mDjvBssU.js";let u=null;const h=(e,t=0,m=[])=>e.map(((e,i)=>(e.indexPage=t?`${t}-${i}`:`${i}`,e.url=m.length?[...m,e.name]:[e.name],e.children?(e.ifShow=!1,e.ifHadRender=!1,h(e.children,e.indexPage,e.url)):e.itemActive=!1,e))),c=e=>{e.map((e=>(Object.prototype.hasOwnProperty.call(e,"ifShow")&&(e.ifShow=!1),e.children&&e.children.length&&c(e.children),e)))},p=e({state:{musicList:[{name:"风姿花伝 (风姿花传)",author:"谷村新司 (たにむら しんじ)",image:new URL(""+new URL("../../../jpg/music-bg3-BRvevjr7.jpg",import.meta.url).href,import.meta.url).href,url:new URL(""+new URL("../../../mp3/music3-keoYMJgM.mp3",import.meta.url).href,import.meta.url).href},{name:"色は匂へど 散りぬるを (花朵艳丽 终会散落)",author:"森永真由美 (もりなが まゆみ)",image:new URL(""+new URL("../../../jpg/music-bg1-DmdbHKmn.jpg",import.meta.url).href,import.meta.url).href,url:new URL(""+new URL("../../../mp3/music1-CmQv9YNe.mp3",import.meta.url).href,import.meta.url).href},{name:"广寒宫 - 《梦幻西游》月宫门派曲",author:"吴碧霞",image:new URL(""+new URL("../../../jpg/music-bg2-8fI9MiKX.jpg",import.meta.url).href,import.meta.url).href,url:new URL(""+new URL("../../../mp3/music2-BfE5mtDG.mp3",import.meta.url).href,import.meta.url).href}],menuData:{nowActive:null,menuList:[]},theme:"light"},getters:m,mutations:{[i](e,t){e.menuData.nowActive=t},[r](e){c(e.menuData.menuList)},[a](e,t){e.menuData.menuList=t},[n](e,t){if(s[t]){e.theme=t;const m=document.body;Object.keys(s[t]).forEach((e=>{m.style.setProperty(`${e}`,s[t][e])}))}},[o](e,t){let m={children:e.menuData.menuList},i=e.menuData.menuList;t.indexPage.split("-").forEach((e=>{i=m.children,m=i[e]})),i.map((e=>(e.itemActive=!1,e))),m.itemActive=!0},[l](e,t){let m={children:e.menuData.menuList};const i=t.indexPage.split("-");i.forEach(((e,t)=>{0!==t&&t<i.length&&(m.ifHadRender=!0,m.ifShow=!0),m=m.children[e]})),m.ifHadRender=!0,t.ifShow?(c(t.children),m.ifShow=!1):m.ifShow=!0}},actions:{[i]({commit:e},t){e(i,t)},[r]({commit:e}){e(r)},[a]:({state:e,commit:m})=>new Promise((i=>{e.menuData.menuList.length?(u=null,i()):(u||(u=t.get("./menu-list/menu-list.json")),u.then((e=>{m(a,(()=>{let t;return t=e&&e.data&&e.data.length?h(e.data):[],t})()),u=null,i()}),(()=>{m(a,[]),i()})))})),[n]({commit:e},t){e(n,t)},[o]({commit:e},t){e(o,t)},[l]({commit:e},t){e(l,t)}},modules:{}});export{p as s};
