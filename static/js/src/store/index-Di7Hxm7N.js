import{c as e}from"../../vuex-BhxYhhdL.js";import{a as t}from"../common/axios/index-B2NMWJBe.js";import{g as m}from"./getter-BGHZ_X6R.js";import{f as i,S as r,b as a,e as n,d as o,c as u,a as s}from"./actionType-BVA9uGQF.js";import{t as l}from"../static/theme/type-mDjvBssU.js";let h=null;const c=(e,t=0,m=[])=>e.map(((e,i)=>(e.indexPage=t?`${t}-${i}`:`${i}`,e.url=m.length?[...m,e.name]:[e.name],e.children?(e.ifShow=!1,e.ifHadRender=!1,c(e.children,e.indexPage,e.url)):e.itemActive=!1,e))),p=e=>{e.map((e=>(Object.prototype.hasOwnProperty.call(e,"ifShow")&&(e.ifShow=!1),e.children&&e.children.length&&p(e.children),e)))},f=e({state:{musicList:[{name:"风姿花伝 (风姿花传)",author:"谷村新司 (たにむら しんじ)",image:new URL(""+new URL("../../../jpg/music-bg3-BRvevjr7.jpg",import.meta.url).href,import.meta.url).href,url:new URL(""+new URL("../../../mp3/music3-keoYMJgM.mp3",import.meta.url).href,import.meta.url).href},{name:"色は匂へど 散りぬるを (花朵艳丽 终会散落)",author:"森永真由美 (もりなが まゆみ)",image:new URL(""+new URL("../../../jpg/music-bg1-DmdbHKmn.jpg",import.meta.url).href,import.meta.url).href,url:new URL(""+new URL("../../../mp3/music1-CmQv9YNe.mp3",import.meta.url).href,import.meta.url).href},{name:"广寒宫 - 《梦幻西游》月宫门派曲",author:"吴碧霞",image:new URL(""+new URL("../../../jpg/music-bg2-8fI9MiKX.jpg",import.meta.url).href,import.meta.url).href,url:new URL(""+new URL("../../../mp3/music2-BfE5mtDG.mp3",import.meta.url).href,import.meta.url).href}],menuData:{nowActive:null,menuList:[]},theme:"light",demoRoute:[]},getters:m,mutations:{[s](e,t){e.menuData.nowActive=t},[u](e){p(e.menuData.menuList)},[o](e,t){e.menuData.menuList=t},[n](e,t){if(l[t]){e.theme=t;const m=document.body;Object.keys(l[t]).forEach((e=>{m.style.setProperty(`${e}`,l[t][e])}))}},[a](e,t){let m={children:e.menuData.menuList},i=e.menuData.menuList;t.indexPage.split("-").forEach((e=>{i=m.children,m=i[e]})),i.map((e=>(e.itemActive=!1,e))),m.itemActive=!0},[r](e,t){let m={children:e.menuData.menuList};const i=t.indexPage.split("-");i.forEach(((e,t)=>{0!==t&&t<i.length&&(m.ifHadRender=!0,m.ifShow=!0),m=m.children[e]})),m.ifHadRender=!0,t.ifShow?(p(t.children),m.ifShow=!1):m.ifShow=!0},[i](e,t){e.demoRoute=t}},actions:{[s]({commit:e},t){e(s,t)},[u]({commit:e}){e(u)},[o]:({state:e,commit:m})=>new Promise((i=>{e.menuData.menuList.length?(h=null,i()):(h||(h=t.get("./menu-list/menu-list.json")),h.then((e=>{m(o,(()=>{let t;return t=e&&e.data&&e.data.length?c(e.data):[],t})()),h=null,i()}),(()=>{m(o,[]),i()})))})),[n]({commit:e},t){e(n,t)},[a]({commit:e},t){e(a,t)},[r]({commit:e},t){e(r,t)},[i]({commit:e},t){e(i,t)}},modules:{}});export{f as s};
