## æŠ½è±¡ç»„ä»¶ä»£ç†è¢«åŒ…è£¹ç»„ä»¶

> åœ¨vueçš„å†…ç½®ç»„ä»¶ä¸­ï¼Œ`<keep-alive>`ã€`<transition>`ã€`<transition-group>`ç­‰ç»„ä»¶å¤§å¤§çš„èŠ‚çº¦äº†æˆ‘ä»¬å¼€å‘æ—¶é—´
>
> æœ‰æ—¶å€™ï¼Œåœ¨å¤„ç†ä¸€äº›ç‚¹å‡»äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦éªŒè¯ç”¨æˆ·èº«ä»½æˆ–è€…å…¶ä»–çš„ä¸€äº›æƒé™ï¼Œæ¯æ¬¡ç‚¹å‡»éƒ½éœ€è¦åˆ¤æ–­ç”¨æˆ·çš„æƒé™ï¼Œè€ŒéªŒè¯çš„è¿™éƒ¨åˆ†æ–¹æ³•å¾€å¾€æ˜¯ä¸€æ ·çš„
>
> å€Ÿé‰´vueçš„å†…ç½®ç»„ä»¶çš„æ€æƒ³ï¼Œå°è£…è‡ªå·±çš„å†…ç½®éªŒè¯ç»„ä»¶



* å‡è®¾æˆ‘ä»¬ä»¥ä¸‹è¿™ä¸ªç»„ä»¶çš„ç‚¹å‡»äº‹ä»¶éœ€è¦éªŒè¯ç™»é™†ï¼Œé€šå¸¸å†™æ³•éœ€è¦å¼•å…¥æˆ‘ä»¬äº‹å…ˆå†™å¥½çš„é€šç”¨éªŒè¯å‡½æ•°ï¼Œä½†è¿™æ¬¡æˆ‘ä»¬ä¸ï¼Œæˆ‘ä»¬ç›´æ¥å†™éªŒè¯åçš„é€»è¾‘ï¼ŒéªŒè¯ä»¥åŠæœªé€šè¿‡éªŒè¯çš„é€»è¾‘æˆ‘ä»¬å†™åœ¨æˆ‘ä»¬è‡ªå®šä¹‰çš„å†…ç½®ç»„ä»¶ä¸­,`<test7>`å°±æ˜¯æˆ‘ä»¬çš„è‡ªå®šä¹‰å†…ç½®ç»„ä»¶

```html
<template>
  <test7>
    <div @click="handelClick">æ— æƒ…çš„test7æµ‹è¯•ç»„ä»¶,ç‚¹å‡»äº†{{num}}æ¬¡</div>
  </test7>
</template>

<script>
import test7 from './test7'
import { ref } from 'vue'
export default {
  name: 'test8',
  components: {
    test7
  },
  setup () {
    const num = ref(0)
    const handelClick = () => {
      console.log('test8ç»„ä»¶è¢«ç‚¹å‡»äº†')
      num.value += 1
    }
    return {
      num,
      handelClick
    }
  }
}
</script>
<style scoped></style
```

* test7.js
  * ç›´æ¥æ¸²æŸ“è¢«åŒ…è£¹çš„ç»„ä»¶ï¼Œé‚£ä¹ˆå°±ä¸ä¼šäº§ç”Ÿå¤šä½™çš„domèŠ‚ç‚¹ï¼Œ`this.$slots.default()[0]`å³æ˜¯æˆ‘ä»¬è¢«åŒ…è£¹çš„ç»„ä»¶
  *  `  const vNodeClick = vNode.props.onClick ` è¢«åŒ…è£¹ç»„ä»¶çš„clickäº‹ä»¶
  *  `  vNode.props.onClick = this.handelClick(vNodeClick) ` é‡å†™è¢«åŒ…è£¹ç»„ä»¶çš„ç‚¹å‡»äº‹ä»¶
  * æˆ‘ä»¬è¿˜å¯ä»¥é‡å†™æˆ–è€…æ–°å¢è¢«åŒ…è£¹ç»„ä»¶çš„è¿‡æ¸¡åŠ¨ç”»
  * `this.$slots.default`  æ‰§è¡Œæ—¶å¦‚æœéœ€è¦ï¼Œå¯ä»¥ä¼ å…¥props
  * ä¹Ÿå¯ä»¥åŠ¨æ€çš„æ¸²æŸ“ï¼Œåœ¨`render`ä¸­åˆ¤æ–­

```js
export default {
  abstract: true, // æ ‡è®°ä¸ºæŠ½è±¡ç»„ä»¶
  setup (props) {
    const handelClick = (callBack) => {
      return () => {
        const time = new Date().getTime() % 3 // æ¨¡æ‹Ÿçš„æƒé™åˆ¤æ–­ï¼Œæ„æ€ä¸€ä¸‹ï¼ŒåŠ¨æ€äº§ç”Ÿtrueå’Œfalseå°±è¡Œ
        console.log('åšäº†ä¸€äº›é€»è¾‘åˆ¤è¯»åhandelClickç‚¹å‡»äº†')
        if (time) {
          console.log('ğŸ‘´è¦æ‰§è¡Œ')
          callBack && callBack()
        } else {
          console.log('ğŸ‘´ä¸è¦æ‰§è¡Œ')
        }
      }
    }
    return {
      handelClick
    }
  },
  render () {
    const vNode = this.$slots.default()[0]
    const vNodeClick = vNode.props.onClick
    vNode.props.onClick = this.handelClick(vNodeClick)
    console.log('vNode', vNodeClick)
    return vNode
  }
}
```

