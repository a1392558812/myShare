## å‡½æ•°

```ts
let myAdd: (x: number, y: number) => number = function(x: number, y: number): number { return x + y; };
/** let myAdd å£°æ˜ä¸€ä¸ªå˜é‡myAdd
  * let myAdd: (x: number, y: number) => numberï¼ŒæŒ‡å®šæˆ‘ä»¬åˆšæ‰å£°æ˜myAddçš„ç±»å‹
  * (x: number, y: number) => number å³ä¸ºæˆ‘ä»¬å£°æ˜myAddçš„ç±»å‹
  * æˆ‘ä»¬å£°æ˜çš„myAddæ¥å—ä¿©å‚æ•°(x: number, y: number)ï¼Œéœ€è¦ä¸€ä¸ªè¿”å›å€¼ï¼Œè¿”å›å€¼ç±»å‹number
  * function(x: number, y: number): number { return x + y; }å£°æ˜çš„å‡½æ•°ä¸»ä½“
*/	
```

## å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°

```ts
// å¯é€‰å‚æ•°
function buildName(firstName: string, lastName?: string) {
    if (lastName)
        return firstName + " " + lastName;
    else
        return firstName;
}

let result1 = buildName("å±±ä¸œèæ³½æ›¹å¿");  // works correctly now
let result2 = buildName("å±±ä¸œèæ³½æ›¹å¿", "ç‰›ğŸ®çš®666", "æˆ‘æ»´å®è´ï¼ï¼");  // error, too many parameters
let result3 = buildName("å±±ä¸œèæ³½æ›¹å¿", "ç‰›ğŸ®çš®666");  // ah, just right
```

```ts
// é»˜è®¤å‚æ•°
function buildName(firstName: string, lastName = "ğŸ”") {
    return firstName + " " + lastName;
}

let result1 = buildName("å±±ä¸œèæ³½æ›¹å¿");  // works correctly now, returns "å±±ä¸œèæ³½æ›¹å¿ ğŸ”"
let result2 = buildName("Bob", undefined);       // still works, also returns "å±±ä¸œèæ³½æ›¹å¿ ğŸ”"
let result3 = buildName("Bob", "Adams", "Sr.");  // error, too many parameters
let result4 = buildName("Bob", "Adams");         // ah, just right
```

## `this`å‚æ•°

```ts
interface Card {
    suit: string;
    card: number;
}
interface Deck {
    suits: string[];
    cards: number[];
    createCardPicker(this: Deck): () => Card; // å®ç°createCardPickerå‡½æ•°ï¼Œå‚æ•°æ˜¯this,thisç±»å‹æ˜¯Deckï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè¿™ä¸ªç®­å¤´å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªCardç±»å‹çš„å€¼
}
let deck: Deck = {
    suits: ["hearts", "spades", "clubs", "diamonds"],
    cards: Array(52),
    // NOTE: è¢«è°ƒç”¨æ–¹å¿…é¡»æ˜¯Deckç±»å‹
    /**
    * å½“ä¸å»æŒ‡å®šè¢«è°ƒç”¨æ–¹ç±»å‹
    * createCardPicker: function(){}
    *  ...
    * å¦‚æœä½ ç»™ç¼–è¯‘å™¨è®¾ç½®äº†--noImplicitThisæ ‡è®°ã€‚ å®ƒä¼šæŒ‡å‡º this.suits[pickedSuit]é‡Œçš„thisçš„ç±»å‹ä¸ºanyã€‚
    * è¿™æ˜¯å› ä¸º thisæ¥è‡ªå¯¹è±¡å­—é¢é‡é‡Œçš„å‡½æ•°è¡¨è¾¾å¼ã€‚ ä¿®æ”¹çš„æ–¹æ³•æ˜¯ï¼Œæä¾›ä¸€ä¸ªæ˜¾å¼çš„ thiså‚æ•°ã€‚ thiså‚æ•°æ˜¯ä¸ªå‡çš„å‚æ•°ï¼Œå®ƒå‡ºç°åœ¨å‚æ•°åˆ—è¡¨çš„æœ€å‰é¢
    */
    createCardPicker: function(this: Deck) {
        return () => {
            let pickedCard = Math.floor(Math.random() * 52);
            let pickedSuit = Math.floor(pickedCard / 13);

            return {suit: this.suits[pickedSuit], card: pickedCard % 13};
        }
    }
}

let cardPicker = deck.createCardPicker();
let pickedCard = cardPicker();

alert("card: " + pickedCard.card + " of " + pickedCard.suit);
```

## é‡è½½

> ä¸ºåŒä¸€ä¸ªå‡½æ•°æä¾›å¤šä¸ªå‡½æ•°ç±»å‹å®šä¹‰æ¥è¿›è¡Œå‡½æ•°é‡è½½ï¼Œç®€å•ç†è§£å³ä¸€ä¸ªå‡½æ•°æœ‰ç€å¤šç§â€œçº¦å®šâ€ï¼Œåœ¨æ‰§è¡Œæ—¶ç¬¦åˆä¸€ç§â€œçº¦å®šâ€å³å¯

```ts
let suits = ["hearts", "spades", "clubs", "diamonds"];
// é‡è½½1ï¼Œæ¥æ”¶å‚æ•°xï¼Œç±»å‹ä¸ºæ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸€é¡¹éƒ½æ˜¯å½¢å¦‚{suit: string; card: number; }çš„å­é¡¹
function pickCard(x: {suit: string; card: number; }[]): number; 
function pickCard(x: number): {suit: string; card: number; };// é‡è½½2
function pickCard(x): any { // è¿™æ¡è¯­å¥å¹¶ä¸æ˜¯é‡è½½
    if (typeof x == "object") {
        let pickedCard = Math.floor(Math.random() * x.length);
        return pickedCard;
    }
    // Otherwise just let them pick the card
    else if (typeof x == "number") {
        let pickedSuit = Math.floor(x / 13);
        return { suit: suits[pickedSuit], card: x % 13 };
    }
}

let myDeck = [{ suit: "diamonds", card: 2 }, { suit: "spades", card: 10 }, { suit: "hearts", card: 4 }];
let pickedCard1 = myDeck[pickCard(myDeck)];
alert("card: " + pickedCard1.card + " of " + pickedCard1.suit);

let pickedCard2 = pickCard(15);
alert("card: " + pickedCard2.card + " of " + pickedCard2.suit);
```

